/*! For license information please see main.1414f5ec.js.LICENSE.txt */
!function(){var e={757:function(e,t,n){e.exports=n(727)},155:function(e,t){var r;(function(){var i=!1,a=function e(t){return t instanceof e?t:this instanceof e?void(this.EXIFwrapped=t):new e(t)};e.exports&&(t=e.exports=a),t.EXIF=a;var o=a.Tags={36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRation",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",40965:"InteroperabilityIFDPointer",42016:"ImageUniqueID"},u=a.TiffTags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright"},s=a.GPSTags={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential"},c=a.IFD1Tags={256:"ImageWidth",257:"ImageHeight",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",296:"ResolutionUnit",513:"JpegIFOffset",514:"JpegIFByteCount",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite"},l=a.StringValues={ExposureProgram:{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},Components:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}};function f(e){return!!e.exifdata}function h(e,t){function n(n){var r=d(n);e.exifdata=r||{};var o=function(e){var t=new DataView(e);i;if(255!=t.getUint8(0)||216!=t.getUint8(1))return!1;var n=2,r=e.byteLength,a=function(e,t){return 56===e.getUint8(t)&&66===e.getUint8(t+1)&&73===e.getUint8(t+2)&&77===e.getUint8(t+3)&&4===e.getUint8(t+4)&&4===e.getUint8(t+5)};for(;n<r;){if(a(t,n)){var o=t.getUint8(n+7);return o%2!==0&&(o+=1),0===o&&(o=4),v(e,n+8+o,t.getUint16(n+6+o))}n++}}(n);if(e.iptcdata=o||{},a.isXmpEnabled){var u=function(e){if(!("DOMParser"in self))return;var t=new DataView(e);i;if(255!=t.getUint8(0)||216!=t.getUint8(1))return!1;var n=2,r=e.byteLength,a=new DOMParser;for(;n<r-4;){if("http"==g(t,n,4)){var o=n-1,u=t.getUint16(n-2)-1,s=g(t,o,u),c=s.indexOf("xmpmeta>")+8,l=(s=s.substring(s.indexOf("<x:xmpmeta"),c)).indexOf("x:xmpmeta")+10;return s=s.slice(0,l)+'xmlns:Iptc4xmpCore="http://iptc.org/std/Iptc4xmpCore/1.0/xmlns/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:tiff="http://ns.adobe.com/tiff/1.0/" xmlns:plus="http://schemas.android.com/apk/lib/com.google.android.gms.plus" xmlns:ext="http://www.gettyimages.com/xsltExtension/1.0" xmlns:exif="http://ns.adobe.com/exif/1.0/" xmlns:stEvt="http://ns.adobe.com/xap/1.0/sType/ResourceEvent#" xmlns:stRef="http://ns.adobe.com/xap/1.0/sType/ResourceRef#" xmlns:crs="http://ns.adobe.com/camera-raw-settings/1.0/" xmlns:xapGImg="http://ns.adobe.com/xap/1.0/g/img/" xmlns:Iptc4xmpExt="http://iptc.org/std/Iptc4xmpExt/2008-02-29/" '+s.slice(l),b(a.parseFromString(s,"text/xml"))}n++}}(n);e.xmpdata=u||{}}t&&t.call(e)}if(e.src)if(/^data\:/i.test(e.src))n(function(e,t){t=t||e.match(/^data\:([^\;]+)\;base64,/im)[1]||"",e=e.replace(/^data\:([^\;]+)\;base64,/gim,"");for(var n=atob(e),r=n.length,i=new ArrayBuffer(r),a=new Uint8Array(i),o=0;o<r;o++)a[o]=n.charCodeAt(o);return i}(e.src));else if(/^blob\:/i.test(e.src)){(o=new FileReader).onload=function(e){n(e.target.result)},function(e,t){var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="blob",n.onload=function(e){200!=this.status&&0!==this.status||t(this.response)},n.send()}(e.src,(function(e){o.readAsArrayBuffer(e)}))}else{var r=new XMLHttpRequest;r.onload=function(){if(200!=this.status&&0!==this.status)throw"Could not load image";n(r.response),r=null},r.open("GET",e.src,!0),r.responseType="arraybuffer",r.send(null)}else if(self.FileReader&&(e instanceof self.Blob||e instanceof self.File)){var o;(o=new FileReader).onload=function(e){n(e.target.result)},o.readAsArrayBuffer(e)}}function d(e){var t=new DataView(e);if(255!=t.getUint8(0)||216!=t.getUint8(1))return!1;for(var n=2,r=e.byteLength;n<r;){if(255!=t.getUint8(n))return!1;if(225==t.getUint8(n+1))return k(t,n+4,t.getUint16(n+2));n+=2+t.getUint16(n+2)}}var p={120:"caption",110:"credit",25:"keywords",55:"dateCreated",80:"byline",85:"bylineTitle",122:"captionWriter",105:"headline",116:"copyright",15:"category"};function v(e,t,n){for(var r,i,a,o,u=new DataView(e),s={},c=t;c<t+n;)28===u.getUint8(c)&&2===u.getUint8(c+1)&&(o=u.getUint8(c+2))in p&&((a=u.getInt16(c+3))+5,i=p[o],r=g(u,c+5,a),s.hasOwnProperty(i)?s[i]instanceof Array?s[i].push(r):s[i]=[s[i],r]:s[i]=r),c++;return s}function y(e,t,n,r,i){var a,o,u=e.getUint16(n,!i),s={};for(o=0;o<u;o++)a=n+12*o+2,s[r[e.getUint16(a,!i)]]=m(e,a,t,n,i);return s}function m(e,t,n,r,i){var a,o,u,s,c,l,f=e.getUint16(t+2,!i),h=e.getUint32(t+4,!i),d=e.getUint32(t+8,!i)+n;switch(f){case 1:case 7:if(1==h)return e.getUint8(t+8,!i);for(a=h>4?d:t+8,o=[],s=0;s<h;s++)o[s]=e.getUint8(a+s);return o;case 2:return g(e,a=h>4?d:t+8,h-1);case 3:if(1==h)return e.getUint16(t+8,!i);for(a=h>2?d:t+8,o=[],s=0;s<h;s++)o[s]=e.getUint16(a+2*s,!i);return o;case 4:if(1==h)return e.getUint32(t+8,!i);for(o=[],s=0;s<h;s++)o[s]=e.getUint32(d+4*s,!i);return o;case 5:if(1==h)return c=e.getUint32(d,!i),l=e.getUint32(d+4,!i),(u=new Number(c/l)).numerator=c,u.denominator=l,u;for(o=[],s=0;s<h;s++)c=e.getUint32(d+8*s,!i),l=e.getUint32(d+4+8*s,!i),o[s]=new Number(c/l),o[s].numerator=c,o[s].denominator=l;return o;case 9:if(1==h)return e.getInt32(t+8,!i);for(o=[],s=0;s<h;s++)o[s]=e.getInt32(d+4*s,!i);return o;case 10:if(1==h)return e.getInt32(d,!i)/e.getInt32(d+4,!i);for(o=[],s=0;s<h;s++)o[s]=e.getInt32(d+8*s,!i)/e.getInt32(d+4+8*s,!i);return o}}function g(e,t,r){var i="";for(n=t;n<t+r;n++)i+=String.fromCharCode(e.getUint8(n));return i}function k(e,t){if("Exif"!=g(e,t,4))return!1;var n,r,i,a,f,h=t+6;if(18761==e.getUint16(h))n=!1;else{if(19789!=e.getUint16(h))return!1;n=!0}if(42!=e.getUint16(h+2,!n))return!1;var d=e.getUint32(h+4,!n);if(d<8)return!1;if((r=y(e,h,h+d,u,n)).ExifIFDPointer)for(i in a=y(e,h,h+r.ExifIFDPointer,o,n)){switch(i){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":a[i]=l[i][a[i]];break;case"ExifVersion":case"FlashpixVersion":a[i]=String.fromCharCode(a[i][0],a[i][1],a[i][2],a[i][3]);break;case"ComponentsConfiguration":a[i]=l.Components[a[i][0]]+l.Components[a[i][1]]+l.Components[a[i][2]]+l.Components[a[i][3]]}r[i]=a[i]}if(r.GPSInfoIFDPointer)for(i in f=y(e,h,h+r.GPSInfoIFDPointer,s,n)){if("GPSVersionID"===i)f[i]=f[i][0]+"."+f[i][1]+"."+f[i][2]+"."+f[i][3];r[i]=f[i]}return r.thumbnail=function(e,t,n,r){var i=function(e,t,n){var r=e.getUint16(t,!n);return e.getUint32(t+2+12*r,!n)}(e,t+n,r);if(!i)return{};if(i>e.byteLength)return{};var a=y(e,t,t+i,c,r);if(a.Compression)switch(a.Compression){case 6:if(a.JpegIFOffset&&a.JpegIFByteCount){var o=t+a.JpegIFOffset,u=a.JpegIFByteCount;a.blob=new Blob([new Uint8Array(e.buffer,o,u)],{type:"image/jpeg"})}break;case 1:console.log("Thumbnail image format is TIFF, which is not implemented.");break;default:console.log("Unknown thumbnail image format '%s'",a.Compression)}else 2==a.PhotometricInterpretation&&console.log("Thumbnail image format is RGB, which is not implemented.");return a}(e,h,d,n),r}function w(e){var t={};if(1==e.nodeType){if(e.attributes.length>0){t["@attributes"]={};for(var n=0;n<e.attributes.length;n++){var r=e.attributes.item(n);t["@attributes"][r.nodeName]=r.nodeValue}}}else if(3==e.nodeType)return e.nodeValue;if(e.hasChildNodes())for(var i=0;i<e.childNodes.length;i++){var a=e.childNodes.item(i),o=a.nodeName;if(null==t[o])t[o]=w(a);else{if(null==t[o].push){var u=t[o];t[o]=[],t[o].push(u)}t[o].push(w(a))}}return t}function b(e){try{var t={};if(e.children.length>0)for(var n=0;n<e.children.length;n++){var r=e.children.item(n),i=r.attributes;for(var a in i){var o=i[a],u=o.nodeName,s=o.nodeValue;void 0!==u&&(t[u]=s)}var c=r.nodeName;if("undefined"==typeof t[c])t[c]=w(r);else{if("undefined"==typeof t[c].push){var l=t[c];t[c]=[],t[c].push(l)}t[c].push(w(r))}}else t=e.textContent;return t}catch(f){console.log(f.message)}}a.enableXmp=function(){a.isXmpEnabled=!0},a.disableXmp=function(){a.isXmpEnabled=!1},a.getData=function(e,t){return!((self.Image&&e instanceof self.Image||self.HTMLImageElement&&e instanceof self.HTMLImageElement)&&!e.complete)&&(f(e)?t&&t.call(e):h(e,t),!0)},a.getTag=function(e,t){if(f(e))return e.exifdata[t]},a.getIptcTag=function(e,t){if(f(e))return e.iptcdata[t]},a.getAllTags=function(e){if(!f(e))return{};var t,n=e.exifdata,r={};for(t in n)n.hasOwnProperty(t)&&(r[t]=n[t]);return r},a.getAllIptcTags=function(e){if(!f(e))return{};var t,n=e.iptcdata,r={};for(t in n)n.hasOwnProperty(t)&&(r[t]=n[t]);return r},a.pretty=function(e){if(!f(e))return"";var t,n=e.exifdata,r="";for(t in n)n.hasOwnProperty(t)&&("object"==typeof n[t]?n[t]instanceof Number?r+=t+" : "+n[t]+" ["+n[t].numerator+"/"+n[t].denominator+"]\r\n":r+=t+" : ["+n[t].length+" values]\r\n":r+=t+" : "+n[t]+"\r\n");return r},a.readFromBinaryFile=function(e){return d(e)},void 0===(r=function(){return a}.apply(t,[]))||(e.exports=r)}).call(this)},763:function(e,t,n){var r;e=n.nmd(e),function(){var i,a="Expected a function",o="__lodash_hash_undefined__",u="__lodash_placeholder__",s=16,c=32,l=64,f=128,h=256,d=1/0,p=9007199254740991,v=NaN,y=4294967295,m=[["ary",f],["bind",1],["bindKey",2],["curry",8],["curryRight",s],["flip",512],["partial",c],["partialRight",l],["rearg",h]],g="[object Arguments]",k="[object Array]",w="[object Boolean]",b="[object Date]",_="[object Error]",x="[object Function]",S="[object GeneratorFunction]",I="[object Map]",E="[object Number]",T="[object Object]",C="[object Promise]",A="[object RegExp]",N="[object Set]",D="[object String]",O="[object Symbol]",R="[object WeakMap]",P="[object ArrayBuffer]",L="[object DataView]",M="[object Float32Array]",F="[object Float64Array]",U="[object Int8Array]",j="[object Int16Array]",V="[object Int32Array]",B="[object Uint8Array]",q="[object Uint8ClampedArray]",z="[object Uint16Array]",W="[object Uint32Array]",G=/\b__p \+= '';/g,H=/\b(__p \+=) '' \+/g,K=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Y=/&(?:amp|lt|gt|quot|#39);/g,Q=/[&<>"']/g,J=RegExp(Y.source),X=RegExp(Q.source),Z=/<%-([\s\S]+?)%>/g,$=/<%([\s\S]+?)%>/g,ee=/<%=([\s\S]+?)%>/g,te=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ne=/^\w*$/,re=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ie=/[\\^$.*+?()[\]{}|]/g,ae=RegExp(ie.source),oe=/^\s+/,ue=/\s/,se=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ce=/\{\n\/\* \[wrapped with (.+)\] \*/,le=/,? & /,fe=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,he=/[()=,{}\[\]\/\s]/,de=/\\(\\)?/g,pe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ve=/\w*$/,ye=/^[-+]0x[0-9a-f]+$/i,me=/^0b[01]+$/i,ge=/^\[object .+?Constructor\]$/,ke=/^0o[0-7]+$/i,we=/^(?:0|[1-9]\d*)$/,be=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,_e=/($^)/,xe=/['\n\r\u2028\u2029\\]/g,Se="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Ie="\\u2700-\\u27bf",Ee="a-z\\xdf-\\xf6\\xf8-\\xff",Te="A-Z\\xc0-\\xd6\\xd8-\\xde",Ce="\\ufe0e\\ufe0f",Ae="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ne="['\u2019]",De="[\\ud800-\\udfff]",Oe="["+Ae+"]",Re="["+Se+"]",Pe="\\d+",Le="[\\u2700-\\u27bf]",Me="["+Ee+"]",Fe="[^\\ud800-\\udfff"+Ae+Pe+Ie+Ee+Te+"]",Ue="\\ud83c[\\udffb-\\udfff]",je="[^\\ud800-\\udfff]",Ve="(?:\\ud83c[\\udde6-\\uddff]){2}",Be="[\\ud800-\\udbff][\\udc00-\\udfff]",qe="["+Te+"]",ze="(?:"+Me+"|"+Fe+")",We="(?:"+qe+"|"+Fe+")",Ge="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",He="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Ke="(?:"+Re+"|"+Ue+")"+"?",Ye="[\\ufe0e\\ufe0f]?",Qe=Ye+Ke+("(?:\\u200d(?:"+[je,Ve,Be].join("|")+")"+Ye+Ke+")*"),Je="(?:"+[Le,Ve,Be].join("|")+")"+Qe,Xe="(?:"+[je+Re+"?",Re,Ve,Be,De].join("|")+")",Ze=RegExp(Ne,"g"),$e=RegExp(Re,"g"),et=RegExp(Ue+"(?="+Ue+")|"+Xe+Qe,"g"),tt=RegExp([qe+"?"+Me+"+"+Ge+"(?="+[Oe,qe,"$"].join("|")+")",We+"+"+He+"(?="+[Oe,qe+ze,"$"].join("|")+")",qe+"?"+ze+"+"+Ge,qe+"+"+He,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Pe,Je].join("|"),"g"),nt=RegExp("[\\u200d\\ud800-\\udfff"+Se+Ce+"]"),rt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,it=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],at=-1,ot={};ot[M]=ot[F]=ot[U]=ot[j]=ot[V]=ot[B]=ot[q]=ot[z]=ot[W]=!0,ot[g]=ot[k]=ot[P]=ot[w]=ot[L]=ot[b]=ot[_]=ot[x]=ot[I]=ot[E]=ot[T]=ot[A]=ot[N]=ot[D]=ot[R]=!1;var ut={};ut[g]=ut[k]=ut[P]=ut[L]=ut[w]=ut[b]=ut[M]=ut[F]=ut[U]=ut[j]=ut[V]=ut[I]=ut[E]=ut[T]=ut[A]=ut[N]=ut[D]=ut[O]=ut[B]=ut[q]=ut[z]=ut[W]=!0,ut[_]=ut[x]=ut[R]=!1;var st={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ct=parseFloat,lt=parseInt,ft="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,ht="object"==typeof self&&self&&self.Object===Object&&self,dt=ft||ht||Function("return this")(),pt=t&&!t.nodeType&&t,vt=pt&&e&&!e.nodeType&&e,yt=vt&&vt.exports===pt,mt=yt&&ft.process,gt=function(){try{var e=vt&&vt.require&&vt.require("util").types;return e||mt&&mt.binding&&mt.binding("util")}catch(t){}}(),kt=gt&&gt.isArrayBuffer,wt=gt&&gt.isDate,bt=gt&&gt.isMap,_t=gt&&gt.isRegExp,xt=gt&&gt.isSet,St=gt&&gt.isTypedArray;function It(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Et(e,t,n,r){for(var i=-1,a=null==e?0:e.length;++i<a;){var o=e[i];t(r,o,n(o),e)}return r}function Tt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function Ct(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function At(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function Nt(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}function Dt(e,t){return!!(null==e?0:e.length)&&Bt(e,t,0)>-1}function Ot(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function Rt(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function Pt(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function Lt(e,t,n,r){var i=-1,a=null==e?0:e.length;for(r&&a&&(n=e[++i]);++i<a;)n=t(n,e[i],i,e);return n}function Mt(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function Ft(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Ut=Gt("length");function jt(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}function Vt(e,t,n,r){for(var i=e.length,a=n+(r?1:-1);r?a--:++a<i;)if(t(e[a],a,e))return a;return-1}function Bt(e,t,n){return t===t?function(e,t,n){var r=n-1,i=e.length;for(;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):Vt(e,zt,n)}function qt(e,t,n,r){for(var i=n-1,a=e.length;++i<a;)if(r(e[i],t))return i;return-1}function zt(e){return e!==e}function Wt(e,t){var n=null==e?0:e.length;return n?Yt(e,t)/n:v}function Gt(e){return function(t){return null==t?i:t[e]}}function Ht(e){return function(t){return null==e?i:e[t]}}function Kt(e,t,n,r,i){return i(e,(function(e,i,a){n=r?(r=!1,e):t(n,e,i,a)})),n}function Yt(e,t){for(var n,r=-1,a=e.length;++r<a;){var o=t(e[r]);o!==i&&(n=n===i?o:n+o)}return n}function Qt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Jt(e){return e?e.slice(0,vn(e)+1).replace(oe,""):e}function Xt(e){return function(t){return e(t)}}function Zt(e,t){return Rt(t,(function(t){return e[t]}))}function $t(e,t){return e.has(t)}function en(e,t){for(var n=-1,r=e.length;++n<r&&Bt(t,e[n],0)>-1;);return n}function tn(e,t){for(var n=e.length;n--&&Bt(t,e[n],0)>-1;);return n}function nn(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}var rn=Ht({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),an=Ht({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function on(e){return"\\"+st[e]}function un(e){return nt.test(e)}function sn(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function cn(e,t){return function(n){return e(t(n))}}function ln(e,t){for(var n=-1,r=e.length,i=0,a=[];++n<r;){var o=e[n];o!==t&&o!==u||(e[n]=u,a[i++]=n)}return a}function fn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function hn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function dn(e){return un(e)?function(e){var t=et.lastIndex=0;for(;et.test(e);)++t;return t}(e):Ut(e)}function pn(e){return un(e)?function(e){return e.match(et)||[]}(e):function(e){return e.split("")}(e)}function vn(e){for(var t=e.length;t--&&ue.test(e.charAt(t)););return t}var yn=Ht({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var mn=function e(t){var n=(t=null==t?dt:mn.defaults(dt.Object(),t,mn.pick(dt,it))).Array,r=t.Date,ue=t.Error,Se=t.Function,Ie=t.Math,Ee=t.Object,Te=t.RegExp,Ce=t.String,Ae=t.TypeError,Ne=n.prototype,De=Se.prototype,Oe=Ee.prototype,Re=t["__core-js_shared__"],Pe=De.toString,Le=Oe.hasOwnProperty,Me=0,Fe=function(){var e=/[^.]+$/.exec(Re&&Re.keys&&Re.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Ue=Oe.toString,je=Pe.call(Ee),Ve=dt._,Be=Te("^"+Pe.call(Le).replace(ie,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),qe=yt?t.Buffer:i,ze=t.Symbol,We=t.Uint8Array,Ge=qe?qe.allocUnsafe:i,He=cn(Ee.getPrototypeOf,Ee),Ke=Ee.create,Ye=Oe.propertyIsEnumerable,Qe=Ne.splice,Je=ze?ze.isConcatSpreadable:i,Xe=ze?ze.iterator:i,et=ze?ze.toStringTag:i,nt=function(){try{var e=ha(Ee,"defineProperty");return e({},"",{}),e}catch(t){}}(),st=t.clearTimeout!==dt.clearTimeout&&t.clearTimeout,ft=r&&r.now!==dt.Date.now&&r.now,ht=t.setTimeout!==dt.setTimeout&&t.setTimeout,pt=Ie.ceil,vt=Ie.floor,mt=Ee.getOwnPropertySymbols,gt=qe?qe.isBuffer:i,Ut=t.isFinite,Ht=Ne.join,gn=cn(Ee.keys,Ee),kn=Ie.max,wn=Ie.min,bn=r.now,_n=t.parseInt,xn=Ie.random,Sn=Ne.reverse,In=ha(t,"DataView"),En=ha(t,"Map"),Tn=ha(t,"Promise"),Cn=ha(t,"Set"),An=ha(t,"WeakMap"),Nn=ha(Ee,"create"),Dn=An&&new An,On={},Rn=ja(In),Pn=ja(En),Ln=ja(Tn),Mn=ja(Cn),Fn=ja(An),Un=ze?ze.prototype:i,jn=Un?Un.valueOf:i,Vn=Un?Un.toString:i;function Bn(e){if(ru(e)&&!Ho(e)&&!(e instanceof Gn)){if(e instanceof Wn)return e;if(Le.call(e,"__wrapped__"))return Va(e)}return new Wn(e)}var qn=function(){function e(){}return function(t){if(!nu(t))return{};if(Ke)return Ke(t);e.prototype=t;var n=new e;return e.prototype=i,n}}();function zn(){}function Wn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}function Gn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=y,this.__views__=[]}function Hn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Kn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Yn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Qn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Yn;++t<n;)this.add(e[t])}function Jn(e){var t=this.__data__=new Kn(e);this.size=t.size}function Xn(e,t){var n=Ho(e),r=!n&&Go(e),i=!n&&!r&&Jo(e),a=!n&&!r&&!i&&fu(e),o=n||r||i||a,u=o?Qt(e.length,Ce):[],s=u.length;for(var c in e)!t&&!Le.call(e,c)||o&&("length"==c||i&&("offset"==c||"parent"==c)||a&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||ka(c,s))||u.push(c);return u}function Zn(e){var t=e.length;return t?e[Qr(0,t-1)]:i}function $n(e,t){return Ma(Ni(e),sr(t,0,e.length))}function er(e){return Ma(Ni(e))}function tr(e,t,n){(n!==i&&!qo(e[t],n)||n===i&&!(t in e))&&or(e,t,n)}function nr(e,t,n){var r=e[t];Le.call(e,t)&&qo(r,n)&&(n!==i||t in e)||or(e,t,n)}function rr(e,t){for(var n=e.length;n--;)if(qo(e[n][0],t))return n;return-1}function ir(e,t,n,r){return dr(e,(function(e,i,a){t(r,e,n(e),a)})),r}function ar(e,t){return e&&Di(t,Ru(t),e)}function or(e,t,n){"__proto__"==t&&nt?nt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function ur(e,t){for(var r=-1,a=t.length,o=n(a),u=null==e;++r<a;)o[r]=u?i:Cu(e,t[r]);return o}function sr(e,t,n){return e===e&&(n!==i&&(e=e<=n?e:n),t!==i&&(e=e>=t?e:t)),e}function cr(e,t,n,r,a,o){var u,s=1&t,c=2&t,l=4&t;if(n&&(u=a?n(e,r,a,o):n(e)),u!==i)return u;if(!nu(e))return e;var f=Ho(e);if(f){if(u=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&Le.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!s)return Ni(e,u)}else{var h=va(e),d=h==x||h==S;if(Jo(e))return Si(e,s);if(h==T||h==g||d&&!a){if(u=c||d?{}:ma(e),!s)return c?function(e,t){return Di(e,pa(e),t)}(e,function(e,t){return e&&Di(t,Pu(t),e)}(u,e)):function(e,t){return Di(e,da(e),t)}(e,ar(u,e))}else{if(!ut[h])return a?e:{};u=function(e,t,n){var r=e.constructor;switch(t){case P:return Ii(e);case w:case b:return new r(+e);case L:return function(e,t){var n=t?Ii(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case M:case F:case U:case j:case V:case B:case q:case z:case W:return Ei(e,n);case I:return new r;case E:case D:return new r(e);case A:return function(e){var t=new e.constructor(e.source,ve.exec(e));return t.lastIndex=e.lastIndex,t}(e);case N:return new r;case O:return i=e,jn?Ee(jn.call(i)):{}}var i}(e,h,s)}}o||(o=new Jn);var p=o.get(e);if(p)return p;o.set(e,u),su(e)?e.forEach((function(r){u.add(cr(r,t,n,r,e,o))})):iu(e)&&e.forEach((function(r,i){u.set(i,cr(r,t,n,i,e,o))}));var v=f?i:(l?c?aa:ia:c?Pu:Ru)(e);return Tt(v||e,(function(r,i){v&&(r=e[i=r]),nr(u,i,cr(r,t,n,i,e,o))})),u}function lr(e,t,n){var r=n.length;if(null==e)return!r;for(e=Ee(e);r--;){var a=n[r],o=t[a],u=e[a];if(u===i&&!(a in e)||!o(u))return!1}return!0}function fr(e,t,n){if("function"!=typeof e)throw new Ae(a);return Oa((function(){e.apply(i,n)}),t)}function hr(e,t,n,r){var i=-1,a=Dt,o=!0,u=e.length,s=[],c=t.length;if(!u)return s;n&&(t=Rt(t,Xt(n))),r?(a=Ot,o=!1):t.length>=200&&(a=$t,o=!1,t=new Qn(t));e:for(;++i<u;){var l=e[i],f=null==n?l:n(l);if(l=r||0!==l?l:0,o&&f===f){for(var h=c;h--;)if(t[h]===f)continue e;s.push(l)}else a(t,f,r)||s.push(l)}return s}Bn.templateSettings={escape:Z,evaluate:$,interpolate:ee,variable:"",imports:{_:Bn}},Bn.prototype=zn.prototype,Bn.prototype.constructor=Bn,Wn.prototype=qn(zn.prototype),Wn.prototype.constructor=Wn,Gn.prototype=qn(zn.prototype),Gn.prototype.constructor=Gn,Hn.prototype.clear=function(){this.__data__=Nn?Nn(null):{},this.size=0},Hn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Hn.prototype.get=function(e){var t=this.__data__;if(Nn){var n=t[e];return n===o?i:n}return Le.call(t,e)?t[e]:i},Hn.prototype.has=function(e){var t=this.__data__;return Nn?t[e]!==i:Le.call(t,e)},Hn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Nn&&t===i?o:t,this},Kn.prototype.clear=function(){this.__data__=[],this.size=0},Kn.prototype.delete=function(e){var t=this.__data__,n=rr(t,e);return!(n<0)&&(n==t.length-1?t.pop():Qe.call(t,n,1),--this.size,!0)},Kn.prototype.get=function(e){var t=this.__data__,n=rr(t,e);return n<0?i:t[n][1]},Kn.prototype.has=function(e){return rr(this.__data__,e)>-1},Kn.prototype.set=function(e,t){var n=this.__data__,r=rr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Yn.prototype.clear=function(){this.size=0,this.__data__={hash:new Hn,map:new(En||Kn),string:new Hn}},Yn.prototype.delete=function(e){var t=la(this,e).delete(e);return this.size-=t?1:0,t},Yn.prototype.get=function(e){return la(this,e).get(e)},Yn.prototype.has=function(e){return la(this,e).has(e)},Yn.prototype.set=function(e,t){var n=la(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Qn.prototype.add=Qn.prototype.push=function(e){return this.__data__.set(e,o),this},Qn.prototype.has=function(e){return this.__data__.has(e)},Jn.prototype.clear=function(){this.__data__=new Kn,this.size=0},Jn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Jn.prototype.get=function(e){return this.__data__.get(e)},Jn.prototype.has=function(e){return this.__data__.has(e)},Jn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Kn){var r=n.__data__;if(!En||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Yn(r)}return n.set(e,t),this.size=n.size,this};var dr=Pi(br),pr=Pi(_r,!0);function vr(e,t){var n=!0;return dr(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function yr(e,t,n){for(var r=-1,a=e.length;++r<a;){var o=e[r],u=t(o);if(null!=u&&(s===i?u===u&&!lu(u):n(u,s)))var s=u,c=o}return c}function mr(e,t){var n=[];return dr(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function gr(e,t,n,r,i){var a=-1,o=e.length;for(n||(n=ga),i||(i=[]);++a<o;){var u=e[a];t>0&&n(u)?t>1?gr(u,t-1,n,r,i):Pt(i,u):r||(i[i.length]=u)}return i}var kr=Li(),wr=Li(!0);function br(e,t){return e&&kr(e,t,Ru)}function _r(e,t){return e&&wr(e,t,Ru)}function xr(e,t){return Nt(t,(function(t){return $o(e[t])}))}function Sr(e,t){for(var n=0,r=(t=wi(t,e)).length;null!=e&&n<r;)e=e[Ua(t[n++])];return n&&n==r?e:i}function Ir(e,t,n){var r=t(e);return Ho(e)?r:Pt(r,n(e))}function Er(e){return null==e?e===i?"[object Undefined]":"[object Null]":et&&et in Ee(e)?function(e){var t=Le.call(e,et),n=e[et];try{e[et]=i;var r=!0}catch(o){}var a=Ue.call(e);r&&(t?e[et]=n:delete e[et]);return a}(e):function(e){return Ue.call(e)}(e)}function Tr(e,t){return e>t}function Cr(e,t){return null!=e&&Le.call(e,t)}function Ar(e,t){return null!=e&&t in Ee(e)}function Nr(e,t,r){for(var a=r?Ot:Dt,o=e[0].length,u=e.length,s=u,c=n(u),l=1/0,f=[];s--;){var h=e[s];s&&t&&(h=Rt(h,Xt(t))),l=wn(h.length,l),c[s]=!r&&(t||o>=120&&h.length>=120)?new Qn(s&&h):i}h=e[0];var d=-1,p=c[0];e:for(;++d<o&&f.length<l;){var v=h[d],y=t?t(v):v;if(v=r||0!==v?v:0,!(p?$t(p,y):a(f,y,r))){for(s=u;--s;){var m=c[s];if(!(m?$t(m,y):a(e[s],y,r)))continue e}p&&p.push(y),f.push(v)}}return f}function Dr(e,t,n){var r=null==(e=Ca(e,t=wi(t,e)))?e:e[Ua(Xa(t))];return null==r?i:It(r,e,n)}function Or(e){return ru(e)&&Er(e)==g}function Rr(e,t,n,r,a){return e===t||(null==e||null==t||!ru(e)&&!ru(t)?e!==e&&t!==t:function(e,t,n,r,a,o){var u=Ho(e),s=Ho(t),c=u?k:va(e),l=s?k:va(t),f=(c=c==g?T:c)==T,h=(l=l==g?T:l)==T,d=c==l;if(d&&Jo(e)){if(!Jo(t))return!1;u=!0,f=!1}if(d&&!f)return o||(o=new Jn),u||fu(e)?na(e,t,n,r,a,o):function(e,t,n,r,i,a,o){switch(n){case L:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case P:return!(e.byteLength!=t.byteLength||!a(new We(e),new We(t)));case w:case b:case E:return qo(+e,+t);case _:return e.name==t.name&&e.message==t.message;case A:case D:return e==t+"";case I:var u=sn;case N:var s=1&r;if(u||(u=fn),e.size!=t.size&&!s)return!1;var c=o.get(e);if(c)return c==t;r|=2,o.set(e,t);var l=na(u(e),u(t),r,i,a,o);return o.delete(e),l;case O:if(jn)return jn.call(e)==jn.call(t)}return!1}(e,t,c,n,r,a,o);if(!(1&n)){var p=f&&Le.call(e,"__wrapped__"),v=h&&Le.call(t,"__wrapped__");if(p||v){var y=p?e.value():e,m=v?t.value():t;return o||(o=new Jn),a(y,m,n,r,o)}}if(!d)return!1;return o||(o=new Jn),function(e,t,n,r,a,o){var u=1&n,s=ia(e),c=s.length,l=ia(t).length;if(c!=l&&!u)return!1;var f=c;for(;f--;){var h=s[f];if(!(u?h in t:Le.call(t,h)))return!1}var d=o.get(e),p=o.get(t);if(d&&p)return d==t&&p==e;var v=!0;o.set(e,t),o.set(t,e);var y=u;for(;++f<c;){var m=e[h=s[f]],g=t[h];if(r)var k=u?r(g,m,h,t,e,o):r(m,g,h,e,t,o);if(!(k===i?m===g||a(m,g,n,r,o):k)){v=!1;break}y||(y="constructor"==h)}if(v&&!y){var w=e.constructor,b=t.constructor;w==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof w&&w instanceof w&&"function"==typeof b&&b instanceof b||(v=!1)}return o.delete(e),o.delete(t),v}(e,t,n,r,a,o)}(e,t,n,r,Rr,a))}function Pr(e,t,n,r){var a=n.length,o=a,u=!r;if(null==e)return!o;for(e=Ee(e);a--;){var s=n[a];if(u&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++a<o;){var c=(s=n[a])[0],l=e[c],f=s[1];if(u&&s[2]){if(l===i&&!(c in e))return!1}else{var h=new Jn;if(r)var d=r(l,f,c,e,t,h);if(!(d===i?Rr(f,l,3,r,h):d))return!1}}return!0}function Lr(e){return!(!nu(e)||(t=e,Fe&&Fe in t))&&($o(e)?Be:ge).test(ja(e));var t}function Mr(e){return"function"==typeof e?e:null==e?as:"object"==typeof e?Ho(e)?qr(e[0],e[1]):Br(e):ps(e)}function Fr(e){if(!Sa(e))return gn(e);var t=[];for(var n in Ee(e))Le.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Ur(e){if(!nu(e))return function(e){var t=[];if(null!=e)for(var n in Ee(e))t.push(n);return t}(e);var t=Sa(e),n=[];for(var r in e)("constructor"!=r||!t&&Le.call(e,r))&&n.push(r);return n}function jr(e,t){return e<t}function Vr(e,t){var r=-1,i=Yo(e)?n(e.length):[];return dr(e,(function(e,n,a){i[++r]=t(e,n,a)})),i}function Br(e){var t=fa(e);return 1==t.length&&t[0][2]?Ea(t[0][0],t[0][1]):function(n){return n===e||Pr(n,e,t)}}function qr(e,t){return ba(e)&&Ia(t)?Ea(Ua(e),t):function(n){var r=Cu(n,e);return r===i&&r===t?Au(n,e):Rr(t,r,3)}}function zr(e,t,n,r,a){e!==t&&kr(t,(function(o,u){if(a||(a=new Jn),nu(o))!function(e,t,n,r,a,o,u){var s=Na(e,n),c=Na(t,n),l=u.get(c);if(l)return void tr(e,n,l);var f=o?o(s,c,n+"",e,t,u):i,h=f===i;if(h){var d=Ho(c),p=!d&&Jo(c),v=!d&&!p&&fu(c);f=c,d||p||v?Ho(s)?f=s:Qo(s)?f=Ni(s):p?(h=!1,f=Si(c,!0)):v?(h=!1,f=Ei(c,!0)):f=[]:ou(c)||Go(c)?(f=s,Go(s)?f=ku(s):nu(s)&&!$o(s)||(f=ma(c))):h=!1}h&&(u.set(c,f),a(f,c,r,o,u),u.delete(c));tr(e,n,f)}(e,t,u,n,zr,r,a);else{var s=r?r(Na(e,u),o,u+"",e,t,a):i;s===i&&(s=o),tr(e,u,s)}}),Pu)}function Wr(e,t){var n=e.length;if(n)return ka(t+=t<0?n:0,n)?e[t]:i}function Gr(e,t,n){t=t.length?Rt(t,(function(e){return Ho(e)?function(t){return Sr(t,1===e.length?e[0]:e)}:e})):[as];var r=-1;t=Rt(t,Xt(ca()));var i=Vr(e,(function(e,n,i){var a=Rt(t,(function(t){return t(e)}));return{criteria:a,index:++r,value:e}}));return function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(i,(function(e,t){return function(e,t,n){var r=-1,i=e.criteria,a=t.criteria,o=i.length,u=n.length;for(;++r<o;){var s=Ti(i[r],a[r]);if(s)return r>=u?s:s*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}))}function Hr(e,t,n){for(var r=-1,i=t.length,a={};++r<i;){var o=t[r],u=Sr(e,o);n(u,o)&&ei(a,wi(o,e),u)}return a}function Kr(e,t,n,r){var i=r?qt:Bt,a=-1,o=t.length,u=e;for(e===t&&(t=Ni(t)),n&&(u=Rt(e,Xt(n)));++a<o;)for(var s=0,c=t[a],l=n?n(c):c;(s=i(u,l,s,r))>-1;)u!==e&&Qe.call(u,s,1),Qe.call(e,s,1);return e}function Yr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==a){var a=i;ka(i)?Qe.call(e,i,1):hi(e,i)}}return e}function Qr(e,t){return e+vt(xn()*(t-e+1))}function Jr(e,t){var n="";if(!e||t<1||t>p)return n;do{t%2&&(n+=e),(t=vt(t/2))&&(e+=e)}while(t);return n}function Xr(e,t){return Ra(Ta(e,t,as),e+"")}function Zr(e){return Zn(qu(e))}function $r(e,t){var n=qu(e);return Ma(n,sr(t,0,n.length))}function ei(e,t,n,r){if(!nu(e))return e;for(var a=-1,o=(t=wi(t,e)).length,u=o-1,s=e;null!=s&&++a<o;){var c=Ua(t[a]),l=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(a!=u){var f=s[c];(l=r?r(f,c,s):i)===i&&(l=nu(f)?f:ka(t[a+1])?[]:{})}nr(s,c,l),s=s[c]}return e}var ti=Dn?function(e,t){return Dn.set(e,t),e}:as,ni=nt?function(e,t){return nt(e,"toString",{configurable:!0,enumerable:!1,value:ns(t),writable:!0})}:as;function ri(e){return Ma(qu(e))}function ii(e,t,r){var i=-1,a=e.length;t<0&&(t=-t>a?0:a+t),(r=r>a?a:r)<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var o=n(a);++i<a;)o[i]=e[i+t];return o}function ai(e,t){var n;return dr(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}function oi(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t===t&&i<=2147483647){for(;r<i;){var a=r+i>>>1,o=e[a];null!==o&&!lu(o)&&(n?o<=t:o<t)?r=a+1:i=a}return i}return ui(e,t,as,n)}function ui(e,t,n,r){var a=0,o=null==e?0:e.length;if(0===o)return 0;for(var u=(t=n(t))!==t,s=null===t,c=lu(t),l=t===i;a<o;){var f=vt((a+o)/2),h=n(e[f]),d=h!==i,p=null===h,v=h===h,y=lu(h);if(u)var m=r||v;else m=l?v&&(r||d):s?v&&d&&(r||!p):c?v&&d&&!p&&(r||!y):!p&&!y&&(r?h<=t:h<t);m?a=f+1:o=f}return wn(o,4294967294)}function si(e,t){for(var n=-1,r=e.length,i=0,a=[];++n<r;){var o=e[n],u=t?t(o):o;if(!n||!qo(u,s)){var s=u;a[i++]=0===o?0:o}}return a}function ci(e){return"number"==typeof e?e:lu(e)?v:+e}function li(e){if("string"==typeof e)return e;if(Ho(e))return Rt(e,li)+"";if(lu(e))return Vn?Vn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function fi(e,t,n){var r=-1,i=Dt,a=e.length,o=!0,u=[],s=u;if(n)o=!1,i=Ot;else if(a>=200){var c=t?null:Ji(e);if(c)return fn(c);o=!1,i=$t,s=new Qn}else s=t?[]:u;e:for(;++r<a;){var l=e[r],f=t?t(l):l;if(l=n||0!==l?l:0,o&&f===f){for(var h=s.length;h--;)if(s[h]===f)continue e;t&&s.push(f),u.push(l)}else i(s,f,n)||(s!==u&&s.push(f),u.push(l))}return u}function hi(e,t){return null==(e=Ca(e,t=wi(t,e)))||delete e[Ua(Xa(t))]}function di(e,t,n,r){return ei(e,t,n(Sr(e,t)),r)}function pi(e,t,n,r){for(var i=e.length,a=r?i:-1;(r?a--:++a<i)&&t(e[a],a,e););return n?ii(e,r?0:a,r?a+1:i):ii(e,r?a+1:0,r?i:a)}function vi(e,t){var n=e;return n instanceof Gn&&(n=n.value()),Lt(t,(function(e,t){return t.func.apply(t.thisArg,Pt([e],t.args))}),n)}function yi(e,t,r){var i=e.length;if(i<2)return i?fi(e[0]):[];for(var a=-1,o=n(i);++a<i;)for(var u=e[a],s=-1;++s<i;)s!=a&&(o[a]=hr(o[a]||u,e[s],t,r));return fi(gr(o,1),t,r)}function mi(e,t,n){for(var r=-1,a=e.length,o=t.length,u={};++r<a;){var s=r<o?t[r]:i;n(u,e[r],s)}return u}function gi(e){return Qo(e)?e:[]}function ki(e){return"function"==typeof e?e:as}function wi(e,t){return Ho(e)?e:ba(e,t)?[e]:Fa(wu(e))}var bi=Xr;function _i(e,t,n){var r=e.length;return n=n===i?r:n,!t&&n>=r?e:ii(e,t,n)}var xi=st||function(e){return dt.clearTimeout(e)};function Si(e,t){if(t)return e.slice();var n=e.length,r=Ge?Ge(n):new e.constructor(n);return e.copy(r),r}function Ii(e){var t=new e.constructor(e.byteLength);return new We(t).set(new We(e)),t}function Ei(e,t){var n=t?Ii(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Ti(e,t){if(e!==t){var n=e!==i,r=null===e,a=e===e,o=lu(e),u=t!==i,s=null===t,c=t===t,l=lu(t);if(!s&&!l&&!o&&e>t||o&&u&&c&&!s&&!l||r&&u&&c||!n&&c||!a)return 1;if(!r&&!o&&!l&&e<t||l&&n&&a&&!r&&!o||s&&n&&a||!u&&a||!c)return-1}return 0}function Ci(e,t,r,i){for(var a=-1,o=e.length,u=r.length,s=-1,c=t.length,l=kn(o-u,0),f=n(c+l),h=!i;++s<c;)f[s]=t[s];for(;++a<u;)(h||a<o)&&(f[r[a]]=e[a]);for(;l--;)f[s++]=e[a++];return f}function Ai(e,t,r,i){for(var a=-1,o=e.length,u=-1,s=r.length,c=-1,l=t.length,f=kn(o-s,0),h=n(f+l),d=!i;++a<f;)h[a]=e[a];for(var p=a;++c<l;)h[p+c]=t[c];for(;++u<s;)(d||a<o)&&(h[p+r[u]]=e[a++]);return h}function Ni(e,t){var r=-1,i=e.length;for(t||(t=n(i));++r<i;)t[r]=e[r];return t}function Di(e,t,n,r){var a=!n;n||(n={});for(var o=-1,u=t.length;++o<u;){var s=t[o],c=r?r(n[s],e[s],s,n,e):i;c===i&&(c=e[s]),a?or(n,s,c):nr(n,s,c)}return n}function Oi(e,t){return function(n,r){var i=Ho(n)?Et:ir,a=t?t():{};return i(n,e,ca(r,2),a)}}function Ri(e){return Xr((function(t,n){var r=-1,a=n.length,o=a>1?n[a-1]:i,u=a>2?n[2]:i;for(o=e.length>3&&"function"==typeof o?(a--,o):i,u&&wa(n[0],n[1],u)&&(o=a<3?i:o,a=1),t=Ee(t);++r<a;){var s=n[r];s&&e(t,s,r,o)}return t}))}function Pi(e,t){return function(n,r){if(null==n)return n;if(!Yo(n))return e(n,r);for(var i=n.length,a=t?i:-1,o=Ee(n);(t?a--:++a<i)&&!1!==r(o[a],a,o););return n}}function Li(e){return function(t,n,r){for(var i=-1,a=Ee(t),o=r(t),u=o.length;u--;){var s=o[e?u:++i];if(!1===n(a[s],s,a))break}return t}}function Mi(e){return function(t){var n=un(t=wu(t))?pn(t):i,r=n?n[0]:t.charAt(0),a=n?_i(n,1).join(""):t.slice(1);return r[e]()+a}}function Fi(e){return function(t){return Lt($u(Gu(t).replace(Ze,"")),e,"")}}function Ui(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=qn(e.prototype),r=e.apply(n,t);return nu(r)?r:n}}function ji(e){return function(t,n,r){var a=Ee(t);if(!Yo(t)){var o=ca(n,3);t=Ru(t),n=function(e){return o(a[e],e,a)}}var u=e(t,n,r);return u>-1?a[o?t[u]:u]:i}}function Vi(e){return ra((function(t){var n=t.length,r=n,o=Wn.prototype.thru;for(e&&t.reverse();r--;){var u=t[r];if("function"!=typeof u)throw new Ae(a);if(o&&!s&&"wrapper"==ua(u))var s=new Wn([],!0)}for(r=s?r:n;++r<n;){var c=ua(u=t[r]),l="wrapper"==c?oa(u):i;s=l&&_a(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?s[ua(l[0])].apply(s,l[3]):1==u.length&&_a(u)?s[c]():s.thru(u)}return function(){var e=arguments,r=e[0];if(s&&1==e.length&&Ho(r))return s.plant(r).value();for(var i=0,a=n?t[i].apply(this,e):r;++i<n;)a=t[i].call(this,a);return a}}))}function Bi(e,t,r,a,o,u,s,c,l,h){var d=t&f,p=1&t,v=2&t,y=24&t,m=512&t,g=v?i:Ui(e);return function i(){for(var f=arguments.length,k=n(f),w=f;w--;)k[w]=arguments[w];if(y)var b=sa(i),_=nn(k,b);if(a&&(k=Ci(k,a,o,y)),u&&(k=Ai(k,u,s,y)),f-=_,y&&f<h){var x=ln(k,b);return Yi(e,t,Bi,i.placeholder,r,k,x,c,l,h-f)}var S=p?r:this,I=v?S[e]:e;return f=k.length,c?k=Aa(k,c):m&&f>1&&k.reverse(),d&&l<f&&(k.length=l),this&&this!==dt&&this instanceof i&&(I=g||Ui(I)),I.apply(S,k)}}function qi(e,t){return function(n,r){return function(e,t,n,r){return br(e,(function(e,i,a){t(r,n(e),i,a)})),r}(n,e,t(r),{})}}function zi(e,t){return function(n,r){var a;if(n===i&&r===i)return t;if(n!==i&&(a=n),r!==i){if(a===i)return r;"string"==typeof n||"string"==typeof r?(n=li(n),r=li(r)):(n=ci(n),r=ci(r)),a=e(n,r)}return a}}function Wi(e){return ra((function(t){return t=Rt(t,Xt(ca())),Xr((function(n){var r=this;return e(t,(function(e){return It(e,r,n)}))}))}))}function Gi(e,t){var n=(t=t===i?" ":li(t)).length;if(n<2)return n?Jr(t,e):t;var r=Jr(t,pt(e/dn(t)));return un(t)?_i(pn(r),0,e).join(""):r.slice(0,e)}function Hi(e){return function(t,r,a){return a&&"number"!=typeof a&&wa(t,r,a)&&(r=a=i),t=vu(t),r===i?(r=t,t=0):r=vu(r),function(e,t,r,i){for(var a=-1,o=kn(pt((t-e)/(r||1)),0),u=n(o);o--;)u[i?o:++a]=e,e+=r;return u}(t,r,a=a===i?t<r?1:-1:vu(a),e)}}function Ki(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=gu(t),n=gu(n)),e(t,n)}}function Yi(e,t,n,r,a,o,u,s,f,h){var d=8&t;t|=d?c:l,4&(t&=~(d?l:c))||(t&=-4);var p=[e,t,a,d?o:i,d?u:i,d?i:o,d?i:u,s,f,h],v=n.apply(i,p);return _a(e)&&Da(v,p),v.placeholder=r,Pa(v,e,t)}function Qi(e){var t=Ie[e];return function(e,n){if(e=gu(e),(n=null==n?0:wn(yu(n),292))&&Ut(e)){var r=(wu(e)+"e").split("e");return+((r=(wu(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Ji=Cn&&1/fn(new Cn([,-0]))[1]==d?function(e){return new Cn(e)}:ls;function Xi(e){return function(t){var n=va(t);return n==I?sn(t):n==N?hn(t):function(e,t){return Rt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Zi(e,t,r,o,d,p,v,y){var m=2&t;if(!m&&"function"!=typeof e)throw new Ae(a);var g=o?o.length:0;if(g||(t&=-97,o=d=i),v=v===i?v:kn(yu(v),0),y=y===i?y:yu(y),g-=d?d.length:0,t&l){var k=o,w=d;o=d=i}var b=m?i:oa(e),_=[e,t,r,o,d,k,w,p,v,y];if(b&&function(e,t){var n=e[1],r=t[1],i=n|r,a=i<131,o=r==f&&8==n||r==f&&n==h&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!a&&!o)return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var s=t[3];if(s){var c=e[3];e[3]=c?Ci(c,s,t[4]):s,e[4]=c?ln(e[3],u):t[4]}(s=t[5])&&(c=e[5],e[5]=c?Ai(c,s,t[6]):s,e[6]=c?ln(e[5],u):t[6]);(s=t[7])&&(e[7]=s);r&f&&(e[8]=null==e[8]?t[8]:wn(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=i}(_,b),e=_[0],t=_[1],r=_[2],o=_[3],d=_[4],!(y=_[9]=_[9]===i?m?0:e.length:kn(_[9]-g,0))&&24&t&&(t&=-25),t&&1!=t)x=8==t||t==s?function(e,t,r){var a=Ui(e);return function o(){for(var u=arguments.length,s=n(u),c=u,l=sa(o);c--;)s[c]=arguments[c];var f=u<3&&s[0]!==l&&s[u-1]!==l?[]:ln(s,l);return(u-=f.length)<r?Yi(e,t,Bi,o.placeholder,i,s,f,i,i,r-u):It(this&&this!==dt&&this instanceof o?a:e,this,s)}}(e,t,y):t!=c&&33!=t||d.length?Bi.apply(i,_):function(e,t,r,i){var a=1&t,o=Ui(e);return function t(){for(var u=-1,s=arguments.length,c=-1,l=i.length,f=n(l+s),h=this&&this!==dt&&this instanceof t?o:e;++c<l;)f[c]=i[c];for(;s--;)f[c++]=arguments[++u];return It(h,a?r:this,f)}}(e,t,r,o);else var x=function(e,t,n){var r=1&t,i=Ui(e);return function t(){return(this&&this!==dt&&this instanceof t?i:e).apply(r?n:this,arguments)}}(e,t,r);return Pa((b?ti:Da)(x,_),e,t)}function $i(e,t,n,r){return e===i||qo(e,Oe[n])&&!Le.call(r,n)?t:e}function ea(e,t,n,r,a,o){return nu(e)&&nu(t)&&(o.set(t,e),zr(e,t,i,ea,o),o.delete(t)),e}function ta(e){return ou(e)?i:e}function na(e,t,n,r,a,o){var u=1&n,s=e.length,c=t.length;if(s!=c&&!(u&&c>s))return!1;var l=o.get(e),f=o.get(t);if(l&&f)return l==t&&f==e;var h=-1,d=!0,p=2&n?new Qn:i;for(o.set(e,t),o.set(t,e);++h<s;){var v=e[h],y=t[h];if(r)var m=u?r(y,v,h,t,e,o):r(v,y,h,e,t,o);if(m!==i){if(m)continue;d=!1;break}if(p){if(!Ft(t,(function(e,t){if(!$t(p,t)&&(v===e||a(v,e,n,r,o)))return p.push(t)}))){d=!1;break}}else if(v!==y&&!a(v,y,n,r,o)){d=!1;break}}return o.delete(e),o.delete(t),d}function ra(e){return Ra(Ta(e,i,Ha),e+"")}function ia(e){return Ir(e,Ru,da)}function aa(e){return Ir(e,Pu,pa)}var oa=Dn?function(e){return Dn.get(e)}:ls;function ua(e){for(var t=e.name+"",n=On[t],r=Le.call(On,t)?n.length:0;r--;){var i=n[r],a=i.func;if(null==a||a==e)return i.name}return t}function sa(e){return(Le.call(Bn,"placeholder")?Bn:e).placeholder}function ca(){var e=Bn.iteratee||os;return e=e===os?Mr:e,arguments.length?e(arguments[0],arguments[1]):e}function la(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function fa(e){for(var t=Ru(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,Ia(i)]}return t}function ha(e,t){var n=function(e,t){return null==e?i:e[t]}(e,t);return Lr(n)?n:i}var da=mt?function(e){return null==e?[]:(e=Ee(e),Nt(mt(e),(function(t){return Ye.call(e,t)})))}:ms,pa=mt?function(e){for(var t=[];e;)Pt(t,da(e)),e=He(e);return t}:ms,va=Er;function ya(e,t,n){for(var r=-1,i=(t=wi(t,e)).length,a=!1;++r<i;){var o=Ua(t[r]);if(!(a=null!=e&&n(e,o)))break;e=e[o]}return a||++r!=i?a:!!(i=null==e?0:e.length)&&tu(i)&&ka(o,i)&&(Ho(e)||Go(e))}function ma(e){return"function"!=typeof e.constructor||Sa(e)?{}:qn(He(e))}function ga(e){return Ho(e)||Go(e)||!!(Je&&e&&e[Je])}function ka(e,t){var n=typeof e;return!!(t=null==t?p:t)&&("number"==n||"symbol"!=n&&we.test(e))&&e>-1&&e%1==0&&e<t}function wa(e,t,n){if(!nu(n))return!1;var r=typeof t;return!!("number"==r?Yo(n)&&ka(t,n.length):"string"==r&&t in n)&&qo(n[t],e)}function ba(e,t){if(Ho(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!lu(e))||(ne.test(e)||!te.test(e)||null!=t&&e in Ee(t))}function _a(e){var t=ua(e),n=Bn[t];if("function"!=typeof n||!(t in Gn.prototype))return!1;if(e===n)return!0;var r=oa(n);return!!r&&e===r[0]}(In&&va(new In(new ArrayBuffer(1)))!=L||En&&va(new En)!=I||Tn&&va(Tn.resolve())!=C||Cn&&va(new Cn)!=N||An&&va(new An)!=R)&&(va=function(e){var t=Er(e),n=t==T?e.constructor:i,r=n?ja(n):"";if(r)switch(r){case Rn:return L;case Pn:return I;case Ln:return C;case Mn:return N;case Fn:return R}return t});var xa=Re?$o:gs;function Sa(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Oe)}function Ia(e){return e===e&&!nu(e)}function Ea(e,t){return function(n){return null!=n&&(n[e]===t&&(t!==i||e in Ee(n)))}}function Ta(e,t,r){return t=kn(t===i?e.length-1:t,0),function(){for(var i=arguments,a=-1,o=kn(i.length-t,0),u=n(o);++a<o;)u[a]=i[t+a];a=-1;for(var s=n(t+1);++a<t;)s[a]=i[a];return s[t]=r(u),It(e,this,s)}}function Ca(e,t){return t.length<2?e:Sr(e,ii(t,0,-1))}function Aa(e,t){for(var n=e.length,r=wn(t.length,n),a=Ni(e);r--;){var o=t[r];e[r]=ka(o,n)?a[o]:i}return e}function Na(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}var Da=La(ti),Oa=ht||function(e,t){return dt.setTimeout(e,t)},Ra=La(ni);function Pa(e,t,n){var r=t+"";return Ra(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(se,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return Tt(m,(function(n){var r="_."+n[0];t&n[1]&&!Dt(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(ce);return t?t[1].split(le):[]}(r),n)))}function La(e){var t=0,n=0;return function(){var r=bn(),a=16-(r-n);if(n=r,a>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(i,arguments)}}function Ma(e,t){var n=-1,r=e.length,a=r-1;for(t=t===i?r:t;++n<t;){var o=Qr(n,a),u=e[o];e[o]=e[n],e[n]=u}return e.length=t,e}var Fa=function(e){var t=Mo(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(re,(function(e,n,r,i){t.push(r?i.replace(de,"$1"):n||e)})),t}));function Ua(e){if("string"==typeof e||lu(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function ja(e){if(null!=e){try{return Pe.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Va(e){if(e instanceof Gn)return e.clone();var t=new Wn(e.__wrapped__,e.__chain__);return t.__actions__=Ni(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Ba=Xr((function(e,t){return Qo(e)?hr(e,gr(t,1,Qo,!0)):[]})),qa=Xr((function(e,t){var n=Xa(t);return Qo(n)&&(n=i),Qo(e)?hr(e,gr(t,1,Qo,!0),ca(n,2)):[]})),za=Xr((function(e,t){var n=Xa(t);return Qo(n)&&(n=i),Qo(e)?hr(e,gr(t,1,Qo,!0),i,n):[]}));function Wa(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:yu(n);return i<0&&(i=kn(r+i,0)),Vt(e,ca(t,3),i)}function Ga(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var a=r-1;return n!==i&&(a=yu(n),a=n<0?kn(r+a,0):wn(a,r-1)),Vt(e,ca(t,3),a,!0)}function Ha(e){return(null==e?0:e.length)?gr(e,1):[]}function Ka(e){return e&&e.length?e[0]:i}var Ya=Xr((function(e){var t=Rt(e,gi);return t.length&&t[0]===e[0]?Nr(t):[]})),Qa=Xr((function(e){var t=Xa(e),n=Rt(e,gi);return t===Xa(n)?t=i:n.pop(),n.length&&n[0]===e[0]?Nr(n,ca(t,2)):[]})),Ja=Xr((function(e){var t=Xa(e),n=Rt(e,gi);return(t="function"==typeof t?t:i)&&n.pop(),n.length&&n[0]===e[0]?Nr(n,i,t):[]}));function Xa(e){var t=null==e?0:e.length;return t?e[t-1]:i}var Za=Xr($a);function $a(e,t){return e&&e.length&&t&&t.length?Kr(e,t):e}var eo=ra((function(e,t){var n=null==e?0:e.length,r=ur(e,t);return Yr(e,Rt(t,(function(e){return ka(e,n)?+e:e})).sort(Ti)),r}));function to(e){return null==e?e:Sn.call(e)}var no=Xr((function(e){return fi(gr(e,1,Qo,!0))})),ro=Xr((function(e){var t=Xa(e);return Qo(t)&&(t=i),fi(gr(e,1,Qo,!0),ca(t,2))})),io=Xr((function(e){var t=Xa(e);return t="function"==typeof t?t:i,fi(gr(e,1,Qo,!0),i,t)}));function ao(e){if(!e||!e.length)return[];var t=0;return e=Nt(e,(function(e){if(Qo(e))return t=kn(e.length,t),!0})),Qt(t,(function(t){return Rt(e,Gt(t))}))}function oo(e,t){if(!e||!e.length)return[];var n=ao(e);return null==t?n:Rt(n,(function(e){return It(t,i,e)}))}var uo=Xr((function(e,t){return Qo(e)?hr(e,t):[]})),so=Xr((function(e){return yi(Nt(e,Qo))})),co=Xr((function(e){var t=Xa(e);return Qo(t)&&(t=i),yi(Nt(e,Qo),ca(t,2))})),lo=Xr((function(e){var t=Xa(e);return t="function"==typeof t?t:i,yi(Nt(e,Qo),i,t)})),fo=Xr(ao);var ho=Xr((function(e){var t=e.length,n=t>1?e[t-1]:i;return n="function"==typeof n?(e.pop(),n):i,oo(e,n)}));function po(e){var t=Bn(e);return t.__chain__=!0,t}function vo(e,t){return t(e)}var yo=ra((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,a=function(t){return ur(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Gn&&ka(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:vo,args:[a],thisArg:i}),new Wn(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(i),e}))):this.thru(a)}));var mo=Oi((function(e,t,n){Le.call(e,n)?++e[n]:or(e,n,1)}));var go=ji(Wa),ko=ji(Ga);function wo(e,t){return(Ho(e)?Tt:dr)(e,ca(t,3))}function bo(e,t){return(Ho(e)?Ct:pr)(e,ca(t,3))}var _o=Oi((function(e,t,n){Le.call(e,n)?e[n].push(t):or(e,n,[t])}));var xo=Xr((function(e,t,r){var i=-1,a="function"==typeof t,o=Yo(e)?n(e.length):[];return dr(e,(function(e){o[++i]=a?It(t,e,r):Dr(e,t,r)})),o})),So=Oi((function(e,t,n){or(e,n,t)}));function Io(e,t){return(Ho(e)?Rt:Vr)(e,ca(t,3))}var Eo=Oi((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var To=Xr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&wa(e,t[0],t[1])?t=[]:n>2&&wa(t[0],t[1],t[2])&&(t=[t[0]]),Gr(e,gr(t,1),[])})),Co=ft||function(){return dt.Date.now()};function Ao(e,t,n){return t=n?i:t,t=e&&null==t?e.length:t,Zi(e,f,i,i,i,i,t)}function No(e,t){var n;if("function"!=typeof t)throw new Ae(a);return e=yu(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=i),n}}var Do=Xr((function(e,t,n){var r=1;if(n.length){var i=ln(n,sa(Do));r|=c}return Zi(e,r,t,n,i)})),Oo=Xr((function(e,t,n){var r=3;if(n.length){var i=ln(n,sa(Oo));r|=c}return Zi(t,r,e,n,i)}));function Ro(e,t,n){var r,o,u,s,c,l,f=0,h=!1,d=!1,p=!0;if("function"!=typeof e)throw new Ae(a);function v(t){var n=r,a=o;return r=o=i,f=t,s=e.apply(a,n)}function y(e){return f=e,c=Oa(g,t),h?v(e):s}function m(e){var n=e-l;return l===i||n>=t||n<0||d&&e-f>=u}function g(){var e=Co();if(m(e))return k(e);c=Oa(g,function(e){var n=t-(e-l);return d?wn(n,u-(e-f)):n}(e))}function k(e){return c=i,p&&r?v(e):(r=o=i,s)}function w(){var e=Co(),n=m(e);if(r=arguments,o=this,l=e,n){if(c===i)return y(l);if(d)return xi(c),c=Oa(g,t),v(l)}return c===i&&(c=Oa(g,t)),s}return t=gu(t)||0,nu(n)&&(h=!!n.leading,u=(d="maxWait"in n)?kn(gu(n.maxWait)||0,t):u,p="trailing"in n?!!n.trailing:p),w.cancel=function(){c!==i&&xi(c),f=0,r=l=o=c=i},w.flush=function(){return c===i?s:k(Co())},w}var Po=Xr((function(e,t){return fr(e,1,t)})),Lo=Xr((function(e,t,n){return fr(e,gu(t)||0,n)}));function Mo(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Ae(a);var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(Mo.Cache||Yn),n}function Fo(e){if("function"!=typeof e)throw new Ae(a);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Mo.Cache=Yn;var Uo=bi((function(e,t){var n=(t=1==t.length&&Ho(t[0])?Rt(t[0],Xt(ca())):Rt(gr(t,1),Xt(ca()))).length;return Xr((function(r){for(var i=-1,a=wn(r.length,n);++i<a;)r[i]=t[i].call(this,r[i]);return It(e,this,r)}))})),jo=Xr((function(e,t){var n=ln(t,sa(jo));return Zi(e,c,i,t,n)})),Vo=Xr((function(e,t){var n=ln(t,sa(Vo));return Zi(e,l,i,t,n)})),Bo=ra((function(e,t){return Zi(e,h,i,i,i,t)}));function qo(e,t){return e===t||e!==e&&t!==t}var zo=Ki(Tr),Wo=Ki((function(e,t){return e>=t})),Go=Or(function(){return arguments}())?Or:function(e){return ru(e)&&Le.call(e,"callee")&&!Ye.call(e,"callee")},Ho=n.isArray,Ko=kt?Xt(kt):function(e){return ru(e)&&Er(e)==P};function Yo(e){return null!=e&&tu(e.length)&&!$o(e)}function Qo(e){return ru(e)&&Yo(e)}var Jo=gt||gs,Xo=wt?Xt(wt):function(e){return ru(e)&&Er(e)==b};function Zo(e){if(!ru(e))return!1;var t=Er(e);return t==_||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!ou(e)}function $o(e){if(!nu(e))return!1;var t=Er(e);return t==x||t==S||"[object AsyncFunction]"==t||"[object Proxy]"==t}function eu(e){return"number"==typeof e&&e==yu(e)}function tu(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=p}function nu(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ru(e){return null!=e&&"object"==typeof e}var iu=bt?Xt(bt):function(e){return ru(e)&&va(e)==I};function au(e){return"number"==typeof e||ru(e)&&Er(e)==E}function ou(e){if(!ru(e)||Er(e)!=T)return!1;var t=He(e);if(null===t)return!0;var n=Le.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Pe.call(n)==je}var uu=_t?Xt(_t):function(e){return ru(e)&&Er(e)==A};var su=xt?Xt(xt):function(e){return ru(e)&&va(e)==N};function cu(e){return"string"==typeof e||!Ho(e)&&ru(e)&&Er(e)==D}function lu(e){return"symbol"==typeof e||ru(e)&&Er(e)==O}var fu=St?Xt(St):function(e){return ru(e)&&tu(e.length)&&!!ot[Er(e)]};var hu=Ki(jr),du=Ki((function(e,t){return e<=t}));function pu(e){if(!e)return[];if(Yo(e))return cu(e)?pn(e):Ni(e);if(Xe&&e[Xe])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Xe]());var t=va(e);return(t==I?sn:t==N?fn:qu)(e)}function vu(e){return e?(e=gu(e))===d||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}function yu(e){var t=vu(e),n=t%1;return t===t?n?t-n:t:0}function mu(e){return e?sr(yu(e),0,y):0}function gu(e){if("number"==typeof e)return e;if(lu(e))return v;if(nu(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=nu(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Jt(e);var n=me.test(e);return n||ke.test(e)?lt(e.slice(2),n?2:8):ye.test(e)?v:+e}function ku(e){return Di(e,Pu(e))}function wu(e){return null==e?"":li(e)}var bu=Ri((function(e,t){if(Sa(t)||Yo(t))Di(t,Ru(t),e);else for(var n in t)Le.call(t,n)&&nr(e,n,t[n])})),_u=Ri((function(e,t){Di(t,Pu(t),e)})),xu=Ri((function(e,t,n,r){Di(t,Pu(t),e,r)})),Su=Ri((function(e,t,n,r){Di(t,Ru(t),e,r)})),Iu=ra(ur);var Eu=Xr((function(e,t){e=Ee(e);var n=-1,r=t.length,a=r>2?t[2]:i;for(a&&wa(t[0],t[1],a)&&(r=1);++n<r;)for(var o=t[n],u=Pu(o),s=-1,c=u.length;++s<c;){var l=u[s],f=e[l];(f===i||qo(f,Oe[l])&&!Le.call(e,l))&&(e[l]=o[l])}return e})),Tu=Xr((function(e){return e.push(i,ea),It(Mu,i,e)}));function Cu(e,t,n){var r=null==e?i:Sr(e,t);return r===i?n:r}function Au(e,t){return null!=e&&ya(e,t,Ar)}var Nu=qi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Ue.call(t)),e[t]=n}),ns(as)),Du=qi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Ue.call(t)),Le.call(e,t)?e[t].push(n):e[t]=[n]}),ca),Ou=Xr(Dr);function Ru(e){return Yo(e)?Xn(e):Fr(e)}function Pu(e){return Yo(e)?Xn(e,!0):Ur(e)}var Lu=Ri((function(e,t,n){zr(e,t,n)})),Mu=Ri((function(e,t,n,r){zr(e,t,n,r)})),Fu=ra((function(e,t){var n={};if(null==e)return n;var r=!1;t=Rt(t,(function(t){return t=wi(t,e),r||(r=t.length>1),t})),Di(e,aa(e),n),r&&(n=cr(n,7,ta));for(var i=t.length;i--;)hi(n,t[i]);return n}));var Uu=ra((function(e,t){return null==e?{}:function(e,t){return Hr(e,t,(function(t,n){return Au(e,n)}))}(e,t)}));function ju(e,t){if(null==e)return{};var n=Rt(aa(e),(function(e){return[e]}));return t=ca(t),Hr(e,n,(function(e,n){return t(e,n[0])}))}var Vu=Xi(Ru),Bu=Xi(Pu);function qu(e){return null==e?[]:Zt(e,Ru(e))}var zu=Fi((function(e,t,n){return t=t.toLowerCase(),e+(n?Wu(t):t)}));function Wu(e){return Zu(wu(e).toLowerCase())}function Gu(e){return(e=wu(e))&&e.replace(be,rn).replace($e,"")}var Hu=Fi((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Ku=Fi((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Yu=Mi("toLowerCase");var Qu=Fi((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var Ju=Fi((function(e,t,n){return e+(n?" ":"")+Zu(t)}));var Xu=Fi((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Zu=Mi("toUpperCase");function $u(e,t,n){return e=wu(e),(t=n?i:t)===i?function(e){return rt.test(e)}(e)?function(e){return e.match(tt)||[]}(e):function(e){return e.match(fe)||[]}(e):e.match(t)||[]}var es=Xr((function(e,t){try{return It(e,i,t)}catch(n){return Zo(n)?n:new ue(n)}})),ts=ra((function(e,t){return Tt(t,(function(t){t=Ua(t),or(e,t,Do(e[t],e))})),e}));function ns(e){return function(){return e}}var rs=Vi(),is=Vi(!0);function as(e){return e}function os(e){return Mr("function"==typeof e?e:cr(e,1))}var us=Xr((function(e,t){return function(n){return Dr(n,e,t)}})),ss=Xr((function(e,t){return function(n){return Dr(e,n,t)}}));function cs(e,t,n){var r=Ru(t),i=xr(t,r);null!=n||nu(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=xr(t,Ru(t)));var a=!(nu(n)&&"chain"in n)||!!n.chain,o=$o(e);return Tt(i,(function(n){var r=t[n];e[n]=r,o&&(e.prototype[n]=function(){var t=this.__chain__;if(a||t){var n=e(this.__wrapped__),i=n.__actions__=Ni(this.__actions__);return i.push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,Pt([this.value()],arguments))})})),e}function ls(){}var fs=Wi(Rt),hs=Wi(At),ds=Wi(Ft);function ps(e){return ba(e)?Gt(Ua(e)):function(e){return function(t){return Sr(t,e)}}(e)}var vs=Hi(),ys=Hi(!0);function ms(){return[]}function gs(){return!1}var ks=zi((function(e,t){return e+t}),0),ws=Qi("ceil"),bs=zi((function(e,t){return e/t}),1),_s=Qi("floor");var xs=zi((function(e,t){return e*t}),1),Ss=Qi("round"),Is=zi((function(e,t){return e-t}),0);return Bn.after=function(e,t){if("function"!=typeof t)throw new Ae(a);return e=yu(e),function(){if(--e<1)return t.apply(this,arguments)}},Bn.ary=Ao,Bn.assign=bu,Bn.assignIn=_u,Bn.assignInWith=xu,Bn.assignWith=Su,Bn.at=Iu,Bn.before=No,Bn.bind=Do,Bn.bindAll=ts,Bn.bindKey=Oo,Bn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Ho(e)?e:[e]},Bn.chain=po,Bn.chunk=function(e,t,r){t=(r?wa(e,t,r):t===i)?1:kn(yu(t),0);var a=null==e?0:e.length;if(!a||t<1)return[];for(var o=0,u=0,s=n(pt(a/t));o<a;)s[u++]=ii(e,o,o+=t);return s},Bn.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var a=e[t];a&&(i[r++]=a)}return i},Bn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=n(e-1),r=arguments[0],i=e;i--;)t[i-1]=arguments[i];return Pt(Ho(r)?Ni(r):[r],gr(t,1))},Bn.cond=function(e){var t=null==e?0:e.length,n=ca();return e=t?Rt(e,(function(e){if("function"!=typeof e[1])throw new Ae(a);return[n(e[0]),e[1]]})):[],Xr((function(n){for(var r=-1;++r<t;){var i=e[r];if(It(i[0],this,n))return It(i[1],this,n)}}))},Bn.conforms=function(e){return function(e){var t=Ru(e);return function(n){return lr(n,e,t)}}(cr(e,1))},Bn.constant=ns,Bn.countBy=mo,Bn.create=function(e,t){var n=qn(e);return null==t?n:ar(n,t)},Bn.curry=function e(t,n,r){var a=Zi(t,8,i,i,i,i,i,n=r?i:n);return a.placeholder=e.placeholder,a},Bn.curryRight=function e(t,n,r){var a=Zi(t,s,i,i,i,i,i,n=r?i:n);return a.placeholder=e.placeholder,a},Bn.debounce=Ro,Bn.defaults=Eu,Bn.defaultsDeep=Tu,Bn.defer=Po,Bn.delay=Lo,Bn.difference=Ba,Bn.differenceBy=qa,Bn.differenceWith=za,Bn.drop=function(e,t,n){var r=null==e?0:e.length;return r?ii(e,(t=n||t===i?1:yu(t))<0?0:t,r):[]},Bn.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?ii(e,0,(t=r-(t=n||t===i?1:yu(t)))<0?0:t):[]},Bn.dropRightWhile=function(e,t){return e&&e.length?pi(e,ca(t,3),!0,!0):[]},Bn.dropWhile=function(e,t){return e&&e.length?pi(e,ca(t,3),!0):[]},Bn.fill=function(e,t,n,r){var a=null==e?0:e.length;return a?(n&&"number"!=typeof n&&wa(e,t,n)&&(n=0,r=a),function(e,t,n,r){var a=e.length;for((n=yu(n))<0&&(n=-n>a?0:a+n),(r=r===i||r>a?a:yu(r))<0&&(r+=a),r=n>r?0:mu(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},Bn.filter=function(e,t){return(Ho(e)?Nt:mr)(e,ca(t,3))},Bn.flatMap=function(e,t){return gr(Io(e,t),1)},Bn.flatMapDeep=function(e,t){return gr(Io(e,t),d)},Bn.flatMapDepth=function(e,t,n){return n=n===i?1:yu(n),gr(Io(e,t),n)},Bn.flatten=Ha,Bn.flattenDeep=function(e){return(null==e?0:e.length)?gr(e,d):[]},Bn.flattenDepth=function(e,t){return(null==e?0:e.length)?gr(e,t=t===i?1:yu(t)):[]},Bn.flip=function(e){return Zi(e,512)},Bn.flow=rs,Bn.flowRight=is,Bn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},Bn.functions=function(e){return null==e?[]:xr(e,Ru(e))},Bn.functionsIn=function(e){return null==e?[]:xr(e,Pu(e))},Bn.groupBy=_o,Bn.initial=function(e){return(null==e?0:e.length)?ii(e,0,-1):[]},Bn.intersection=Ya,Bn.intersectionBy=Qa,Bn.intersectionWith=Ja,Bn.invert=Nu,Bn.invertBy=Du,Bn.invokeMap=xo,Bn.iteratee=os,Bn.keyBy=So,Bn.keys=Ru,Bn.keysIn=Pu,Bn.map=Io,Bn.mapKeys=function(e,t){var n={};return t=ca(t,3),br(e,(function(e,r,i){or(n,t(e,r,i),e)})),n},Bn.mapValues=function(e,t){var n={};return t=ca(t,3),br(e,(function(e,r,i){or(n,r,t(e,r,i))})),n},Bn.matches=function(e){return Br(cr(e,1))},Bn.matchesProperty=function(e,t){return qr(e,cr(t,1))},Bn.memoize=Mo,Bn.merge=Lu,Bn.mergeWith=Mu,Bn.method=us,Bn.methodOf=ss,Bn.mixin=cs,Bn.negate=Fo,Bn.nthArg=function(e){return e=yu(e),Xr((function(t){return Wr(t,e)}))},Bn.omit=Fu,Bn.omitBy=function(e,t){return ju(e,Fo(ca(t)))},Bn.once=function(e){return No(2,e)},Bn.orderBy=function(e,t,n,r){return null==e?[]:(Ho(t)||(t=null==t?[]:[t]),Ho(n=r?i:n)||(n=null==n?[]:[n]),Gr(e,t,n))},Bn.over=fs,Bn.overArgs=Uo,Bn.overEvery=hs,Bn.overSome=ds,Bn.partial=jo,Bn.partialRight=Vo,Bn.partition=Eo,Bn.pick=Uu,Bn.pickBy=ju,Bn.property=ps,Bn.propertyOf=function(e){return function(t){return null==e?i:Sr(e,t)}},Bn.pull=Za,Bn.pullAll=$a,Bn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Kr(e,t,ca(n,2)):e},Bn.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Kr(e,t,i,n):e},Bn.pullAt=eo,Bn.range=vs,Bn.rangeRight=ys,Bn.rearg=Bo,Bn.reject=function(e,t){return(Ho(e)?Nt:mr)(e,Fo(ca(t,3)))},Bn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],a=e.length;for(t=ca(t,3);++r<a;){var o=e[r];t(o,r,e)&&(n.push(o),i.push(r))}return Yr(e,i),n},Bn.rest=function(e,t){if("function"!=typeof e)throw new Ae(a);return Xr(e,t=t===i?t:yu(t))},Bn.reverse=to,Bn.sampleSize=function(e,t,n){return t=(n?wa(e,t,n):t===i)?1:yu(t),(Ho(e)?$n:$r)(e,t)},Bn.set=function(e,t,n){return null==e?e:ei(e,t,n)},Bn.setWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:ei(e,t,n,r)},Bn.shuffle=function(e){return(Ho(e)?er:ri)(e)},Bn.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&wa(e,t,n)?(t=0,n=r):(t=null==t?0:yu(t),n=n===i?r:yu(n)),ii(e,t,n)):[]},Bn.sortBy=To,Bn.sortedUniq=function(e){return e&&e.length?si(e):[]},Bn.sortedUniqBy=function(e,t){return e&&e.length?si(e,ca(t,2)):[]},Bn.split=function(e,t,n){return n&&"number"!=typeof n&&wa(e,t,n)&&(t=n=i),(n=n===i?y:n>>>0)?(e=wu(e))&&("string"==typeof t||null!=t&&!uu(t))&&!(t=li(t))&&un(e)?_i(pn(e),0,n):e.split(t,n):[]},Bn.spread=function(e,t){if("function"!=typeof e)throw new Ae(a);return t=null==t?0:kn(yu(t),0),Xr((function(n){var r=n[t],i=_i(n,0,t);return r&&Pt(i,r),It(e,this,i)}))},Bn.tail=function(e){var t=null==e?0:e.length;return t?ii(e,1,t):[]},Bn.take=function(e,t,n){return e&&e.length?ii(e,0,(t=n||t===i?1:yu(t))<0?0:t):[]},Bn.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?ii(e,(t=r-(t=n||t===i?1:yu(t)))<0?0:t,r):[]},Bn.takeRightWhile=function(e,t){return e&&e.length?pi(e,ca(t,3),!1,!0):[]},Bn.takeWhile=function(e,t){return e&&e.length?pi(e,ca(t,3)):[]},Bn.tap=function(e,t){return t(e),e},Bn.throttle=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new Ae(a);return nu(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Ro(e,t,{leading:r,maxWait:t,trailing:i})},Bn.thru=vo,Bn.toArray=pu,Bn.toPairs=Vu,Bn.toPairsIn=Bu,Bn.toPath=function(e){return Ho(e)?Rt(e,Ua):lu(e)?[e]:Ni(Fa(wu(e)))},Bn.toPlainObject=ku,Bn.transform=function(e,t,n){var r=Ho(e),i=r||Jo(e)||fu(e);if(t=ca(t,4),null==n){var a=e&&e.constructor;n=i?r?new a:[]:nu(e)&&$o(a)?qn(He(e)):{}}return(i?Tt:br)(e,(function(e,r,i){return t(n,e,r,i)})),n},Bn.unary=function(e){return Ao(e,1)},Bn.union=no,Bn.unionBy=ro,Bn.unionWith=io,Bn.uniq=function(e){return e&&e.length?fi(e):[]},Bn.uniqBy=function(e,t){return e&&e.length?fi(e,ca(t,2)):[]},Bn.uniqWith=function(e,t){return t="function"==typeof t?t:i,e&&e.length?fi(e,i,t):[]},Bn.unset=function(e,t){return null==e||hi(e,t)},Bn.unzip=ao,Bn.unzipWith=oo,Bn.update=function(e,t,n){return null==e?e:di(e,t,ki(n))},Bn.updateWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:di(e,t,ki(n),r)},Bn.values=qu,Bn.valuesIn=function(e){return null==e?[]:Zt(e,Pu(e))},Bn.without=uo,Bn.words=$u,Bn.wrap=function(e,t){return jo(ki(t),e)},Bn.xor=so,Bn.xorBy=co,Bn.xorWith=lo,Bn.zip=fo,Bn.zipObject=function(e,t){return mi(e||[],t||[],nr)},Bn.zipObjectDeep=function(e,t){return mi(e||[],t||[],ei)},Bn.zipWith=ho,Bn.entries=Vu,Bn.entriesIn=Bu,Bn.extend=_u,Bn.extendWith=xu,cs(Bn,Bn),Bn.add=ks,Bn.attempt=es,Bn.camelCase=zu,Bn.capitalize=Wu,Bn.ceil=ws,Bn.clamp=function(e,t,n){return n===i&&(n=t,t=i),n!==i&&(n=(n=gu(n))===n?n:0),t!==i&&(t=(t=gu(t))===t?t:0),sr(gu(e),t,n)},Bn.clone=function(e){return cr(e,4)},Bn.cloneDeep=function(e){return cr(e,5)},Bn.cloneDeepWith=function(e,t){return cr(e,5,t="function"==typeof t?t:i)},Bn.cloneWith=function(e,t){return cr(e,4,t="function"==typeof t?t:i)},Bn.conformsTo=function(e,t){return null==t||lr(e,t,Ru(t))},Bn.deburr=Gu,Bn.defaultTo=function(e,t){return null==e||e!==e?t:e},Bn.divide=bs,Bn.endsWith=function(e,t,n){e=wu(e),t=li(t);var r=e.length,a=n=n===i?r:sr(yu(n),0,r);return(n-=t.length)>=0&&e.slice(n,a)==t},Bn.eq=qo,Bn.escape=function(e){return(e=wu(e))&&X.test(e)?e.replace(Q,an):e},Bn.escapeRegExp=function(e){return(e=wu(e))&&ae.test(e)?e.replace(ie,"\\$&"):e},Bn.every=function(e,t,n){var r=Ho(e)?At:vr;return n&&wa(e,t,n)&&(t=i),r(e,ca(t,3))},Bn.find=go,Bn.findIndex=Wa,Bn.findKey=function(e,t){return jt(e,ca(t,3),br)},Bn.findLast=ko,Bn.findLastIndex=Ga,Bn.findLastKey=function(e,t){return jt(e,ca(t,3),_r)},Bn.floor=_s,Bn.forEach=wo,Bn.forEachRight=bo,Bn.forIn=function(e,t){return null==e?e:kr(e,ca(t,3),Pu)},Bn.forInRight=function(e,t){return null==e?e:wr(e,ca(t,3),Pu)},Bn.forOwn=function(e,t){return e&&br(e,ca(t,3))},Bn.forOwnRight=function(e,t){return e&&_r(e,ca(t,3))},Bn.get=Cu,Bn.gt=zo,Bn.gte=Wo,Bn.has=function(e,t){return null!=e&&ya(e,t,Cr)},Bn.hasIn=Au,Bn.head=Ka,Bn.identity=as,Bn.includes=function(e,t,n,r){e=Yo(e)?e:qu(e),n=n&&!r?yu(n):0;var i=e.length;return n<0&&(n=kn(i+n,0)),cu(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&Bt(e,t,n)>-1},Bn.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:yu(n);return i<0&&(i=kn(r+i,0)),Bt(e,t,i)},Bn.inRange=function(e,t,n){return t=vu(t),n===i?(n=t,t=0):n=vu(n),function(e,t,n){return e>=wn(t,n)&&e<kn(t,n)}(e=gu(e),t,n)},Bn.invoke=Ou,Bn.isArguments=Go,Bn.isArray=Ho,Bn.isArrayBuffer=Ko,Bn.isArrayLike=Yo,Bn.isArrayLikeObject=Qo,Bn.isBoolean=function(e){return!0===e||!1===e||ru(e)&&Er(e)==w},Bn.isBuffer=Jo,Bn.isDate=Xo,Bn.isElement=function(e){return ru(e)&&1===e.nodeType&&!ou(e)},Bn.isEmpty=function(e){if(null==e)return!0;if(Yo(e)&&(Ho(e)||"string"==typeof e||"function"==typeof e.splice||Jo(e)||fu(e)||Go(e)))return!e.length;var t=va(e);if(t==I||t==N)return!e.size;if(Sa(e))return!Fr(e).length;for(var n in e)if(Le.call(e,n))return!1;return!0},Bn.isEqual=function(e,t){return Rr(e,t)},Bn.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:i)?n(e,t):i;return r===i?Rr(e,t,i,n):!!r},Bn.isError=Zo,Bn.isFinite=function(e){return"number"==typeof e&&Ut(e)},Bn.isFunction=$o,Bn.isInteger=eu,Bn.isLength=tu,Bn.isMap=iu,Bn.isMatch=function(e,t){return e===t||Pr(e,t,fa(t))},Bn.isMatchWith=function(e,t,n){return n="function"==typeof n?n:i,Pr(e,t,fa(t),n)},Bn.isNaN=function(e){return au(e)&&e!=+e},Bn.isNative=function(e){if(xa(e))throw new ue("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Lr(e)},Bn.isNil=function(e){return null==e},Bn.isNull=function(e){return null===e},Bn.isNumber=au,Bn.isObject=nu,Bn.isObjectLike=ru,Bn.isPlainObject=ou,Bn.isRegExp=uu,Bn.isSafeInteger=function(e){return eu(e)&&e>=-9007199254740991&&e<=p},Bn.isSet=su,Bn.isString=cu,Bn.isSymbol=lu,Bn.isTypedArray=fu,Bn.isUndefined=function(e){return e===i},Bn.isWeakMap=function(e){return ru(e)&&va(e)==R},Bn.isWeakSet=function(e){return ru(e)&&"[object WeakSet]"==Er(e)},Bn.join=function(e,t){return null==e?"":Ht.call(e,t)},Bn.kebabCase=Hu,Bn.last=Xa,Bn.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var a=r;return n!==i&&(a=(a=yu(n))<0?kn(r+a,0):wn(a,r-1)),t===t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,a):Vt(e,zt,a,!0)},Bn.lowerCase=Ku,Bn.lowerFirst=Yu,Bn.lt=hu,Bn.lte=du,Bn.max=function(e){return e&&e.length?yr(e,as,Tr):i},Bn.maxBy=function(e,t){return e&&e.length?yr(e,ca(t,2),Tr):i},Bn.mean=function(e){return Wt(e,as)},Bn.meanBy=function(e,t){return Wt(e,ca(t,2))},Bn.min=function(e){return e&&e.length?yr(e,as,jr):i},Bn.minBy=function(e,t){return e&&e.length?yr(e,ca(t,2),jr):i},Bn.stubArray=ms,Bn.stubFalse=gs,Bn.stubObject=function(){return{}},Bn.stubString=function(){return""},Bn.stubTrue=function(){return!0},Bn.multiply=xs,Bn.nth=function(e,t){return e&&e.length?Wr(e,yu(t)):i},Bn.noConflict=function(){return dt._===this&&(dt._=Ve),this},Bn.noop=ls,Bn.now=Co,Bn.pad=function(e,t,n){e=wu(e);var r=(t=yu(t))?dn(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return Gi(vt(i),n)+e+Gi(pt(i),n)},Bn.padEnd=function(e,t,n){e=wu(e);var r=(t=yu(t))?dn(e):0;return t&&r<t?e+Gi(t-r,n):e},Bn.padStart=function(e,t,n){e=wu(e);var r=(t=yu(t))?dn(e):0;return t&&r<t?Gi(t-r,n)+e:e},Bn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),_n(wu(e).replace(oe,""),t||0)},Bn.random=function(e,t,n){if(n&&"boolean"!=typeof n&&wa(e,t,n)&&(t=n=i),n===i&&("boolean"==typeof t?(n=t,t=i):"boolean"==typeof e&&(n=e,e=i)),e===i&&t===i?(e=0,t=1):(e=vu(e),t===i?(t=e,e=0):t=vu(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var a=xn();return wn(e+a*(t-e+ct("1e-"+((a+"").length-1))),t)}return Qr(e,t)},Bn.reduce=function(e,t,n){var r=Ho(e)?Lt:Kt,i=arguments.length<3;return r(e,ca(t,4),n,i,dr)},Bn.reduceRight=function(e,t,n){var r=Ho(e)?Mt:Kt,i=arguments.length<3;return r(e,ca(t,4),n,i,pr)},Bn.repeat=function(e,t,n){return t=(n?wa(e,t,n):t===i)?1:yu(t),Jr(wu(e),t)},Bn.replace=function(){var e=arguments,t=wu(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Bn.result=function(e,t,n){var r=-1,a=(t=wi(t,e)).length;for(a||(a=1,e=i);++r<a;){var o=null==e?i:e[Ua(t[r])];o===i&&(r=a,o=n),e=$o(o)?o.call(e):o}return e},Bn.round=Ss,Bn.runInContext=e,Bn.sample=function(e){return(Ho(e)?Zn:Zr)(e)},Bn.size=function(e){if(null==e)return 0;if(Yo(e))return cu(e)?dn(e):e.length;var t=va(e);return t==I||t==N?e.size:Fr(e).length},Bn.snakeCase=Qu,Bn.some=function(e,t,n){var r=Ho(e)?Ft:ai;return n&&wa(e,t,n)&&(t=i),r(e,ca(t,3))},Bn.sortedIndex=function(e,t){return oi(e,t)},Bn.sortedIndexBy=function(e,t,n){return ui(e,t,ca(n,2))},Bn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=oi(e,t);if(r<n&&qo(e[r],t))return r}return-1},Bn.sortedLastIndex=function(e,t){return oi(e,t,!0)},Bn.sortedLastIndexBy=function(e,t,n){return ui(e,t,ca(n,2),!0)},Bn.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=oi(e,t,!0)-1;if(qo(e[n],t))return n}return-1},Bn.startCase=Ju,Bn.startsWith=function(e,t,n){return e=wu(e),n=null==n?0:sr(yu(n),0,e.length),t=li(t),e.slice(n,n+t.length)==t},Bn.subtract=Is,Bn.sum=function(e){return e&&e.length?Yt(e,as):0},Bn.sumBy=function(e,t){return e&&e.length?Yt(e,ca(t,2)):0},Bn.template=function(e,t,n){var r=Bn.templateSettings;n&&wa(e,t,n)&&(t=i),e=wu(e),t=xu({},t,r,$i);var a,o,u=xu({},t.imports,r.imports,$i),s=Ru(u),c=Zt(u,s),l=0,f=t.interpolate||_e,h="__p += '",d=Te((t.escape||_e).source+"|"+f.source+"|"+(f===ee?pe:_e).source+"|"+(t.evaluate||_e).source+"|$","g"),p="//# sourceURL="+(Le.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++at+"]")+"\n";e.replace(d,(function(t,n,r,i,u,s){return r||(r=i),h+=e.slice(l,s).replace(xe,on),n&&(a=!0,h+="' +\n__e("+n+") +\n'"),u&&(o=!0,h+="';\n"+u+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=s+t.length,t})),h+="';\n";var v=Le.call(t,"variable")&&t.variable;if(v){if(he.test(v))throw new ue("Invalid `variable` option passed into `_.template`")}else h="with (obj) {\n"+h+"\n}\n";h=(o?h.replace(G,""):h).replace(H,"$1").replace(K,"$1;"),h="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var y=es((function(){return Se(s,p+"return "+h).apply(i,c)}));if(y.source=h,Zo(y))throw y;return y},Bn.times=function(e,t){if((e=yu(e))<1||e>p)return[];var n=y,r=wn(e,y);t=ca(t),e-=y;for(var i=Qt(r,t);++n<e;)t(n);return i},Bn.toFinite=vu,Bn.toInteger=yu,Bn.toLength=mu,Bn.toLower=function(e){return wu(e).toLowerCase()},Bn.toNumber=gu,Bn.toSafeInteger=function(e){return e?sr(yu(e),-9007199254740991,p):0===e?e:0},Bn.toString=wu,Bn.toUpper=function(e){return wu(e).toUpperCase()},Bn.trim=function(e,t,n){if((e=wu(e))&&(n||t===i))return Jt(e);if(!e||!(t=li(t)))return e;var r=pn(e),a=pn(t);return _i(r,en(r,a),tn(r,a)+1).join("")},Bn.trimEnd=function(e,t,n){if((e=wu(e))&&(n||t===i))return e.slice(0,vn(e)+1);if(!e||!(t=li(t)))return e;var r=pn(e);return _i(r,0,tn(r,pn(t))+1).join("")},Bn.trimStart=function(e,t,n){if((e=wu(e))&&(n||t===i))return e.replace(oe,"");if(!e||!(t=li(t)))return e;var r=pn(e);return _i(r,en(r,pn(t))).join("")},Bn.truncate=function(e,t){var n=30,r="...";if(nu(t)){var a="separator"in t?t.separator:a;n="length"in t?yu(t.length):n,r="omission"in t?li(t.omission):r}var o=(e=wu(e)).length;if(un(e)){var u=pn(e);o=u.length}if(n>=o)return e;var s=n-dn(r);if(s<1)return r;var c=u?_i(u,0,s).join(""):e.slice(0,s);if(a===i)return c+r;if(u&&(s+=c.length-s),uu(a)){if(e.slice(s).search(a)){var l,f=c;for(a.global||(a=Te(a.source,wu(ve.exec(a))+"g")),a.lastIndex=0;l=a.exec(f);)var h=l.index;c=c.slice(0,h===i?s:h)}}else if(e.indexOf(li(a),s)!=s){var d=c.lastIndexOf(a);d>-1&&(c=c.slice(0,d))}return c+r},Bn.unescape=function(e){return(e=wu(e))&&J.test(e)?e.replace(Y,yn):e},Bn.uniqueId=function(e){var t=++Me;return wu(e)+t},Bn.upperCase=Xu,Bn.upperFirst=Zu,Bn.each=wo,Bn.eachRight=bo,Bn.first=Ka,cs(Bn,function(){var e={};return br(Bn,(function(t,n){Le.call(Bn.prototype,n)||(e[n]=t)})),e}(),{chain:!1}),Bn.VERSION="4.17.21",Tt(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Bn[e].placeholder=Bn})),Tt(["drop","take"],(function(e,t){Gn.prototype[e]=function(n){n=n===i?1:kn(yu(n),0);var r=this.__filtered__&&!t?new Gn(this):this.clone();return r.__filtered__?r.__takeCount__=wn(n,r.__takeCount__):r.__views__.push({size:wn(n,y),type:e+(r.__dir__<0?"Right":"")}),r},Gn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),Tt(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;Gn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:ca(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),Tt(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Gn.prototype[e]=function(){return this[n](1).value()[0]}})),Tt(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Gn.prototype[e]=function(){return this.__filtered__?new Gn(this):this[n](1)}})),Gn.prototype.compact=function(){return this.filter(as)},Gn.prototype.find=function(e){return this.filter(e).head()},Gn.prototype.findLast=function(e){return this.reverse().find(e)},Gn.prototype.invokeMap=Xr((function(e,t){return"function"==typeof e?new Gn(this):this.map((function(n){return Dr(n,e,t)}))})),Gn.prototype.reject=function(e){return this.filter(Fo(ca(e)))},Gn.prototype.slice=function(e,t){e=yu(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Gn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==i&&(n=(t=yu(t))<0?n.dropRight(-t):n.take(t-e)),n)},Gn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Gn.prototype.toArray=function(){return this.take(y)},br(Gn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),a=Bn[r?"take"+("last"==t?"Right":""):t],o=r||/^find/.test(t);a&&(Bn.prototype[t]=function(){var t=this.__wrapped__,u=r?[1]:arguments,s=t instanceof Gn,c=u[0],l=s||Ho(t),f=function(e){var t=a.apply(Bn,Pt([e],u));return r&&h?t[0]:t};l&&n&&"function"==typeof c&&1!=c.length&&(s=l=!1);var h=this.__chain__,d=!!this.__actions__.length,p=o&&!h,v=s&&!d;if(!o&&l){t=v?t:new Gn(this);var y=e.apply(t,u);return y.__actions__.push({func:vo,args:[f],thisArg:i}),new Wn(y,h)}return p&&v?e.apply(this,u):(y=this.thru(f),p?r?y.value()[0]:y.value():y)})})),Tt(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Ne[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);Bn.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(Ho(i)?i:[],e)}return this[n]((function(n){return t.apply(Ho(n)?n:[],e)}))}})),br(Gn.prototype,(function(e,t){var n=Bn[t];if(n){var r=n.name+"";Le.call(On,r)||(On[r]=[]),On[r].push({name:t,func:n})}})),On[Bi(i,2).name]=[{name:"wrapper",func:i}],Gn.prototype.clone=function(){var e=new Gn(this.__wrapped__);return e.__actions__=Ni(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Ni(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Ni(this.__views__),e},Gn.prototype.reverse=function(){if(this.__filtered__){var e=new Gn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Gn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Ho(e),r=t<0,i=n?e.length:0,a=function(e,t,n){var r=-1,i=n.length;for(;++r<i;){var a=n[r],o=a.size;switch(a.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=wn(t,e+o);break;case"takeRight":e=kn(e,t-o)}}return{start:e,end:t}}(0,i,this.__views__),o=a.start,u=a.end,s=u-o,c=r?u:o-1,l=this.__iteratees__,f=l.length,h=0,d=wn(s,this.__takeCount__);if(!n||!r&&i==s&&d==s)return vi(e,this.__actions__);var p=[];e:for(;s--&&h<d;){for(var v=-1,y=e[c+=t];++v<f;){var m=l[v],g=m.iteratee,k=m.type,w=g(y);if(2==k)y=w;else if(!w){if(1==k)continue e;break e}}p[h++]=y}return p},Bn.prototype.at=yo,Bn.prototype.chain=function(){return po(this)},Bn.prototype.commit=function(){return new Wn(this.value(),this.__chain__)},Bn.prototype.next=function(){this.__values__===i&&(this.__values__=pu(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?i:this.__values__[this.__index__++]}},Bn.prototype.plant=function(e){for(var t,n=this;n instanceof zn;){var r=Va(n);r.__index__=0,r.__values__=i,t?a.__wrapped__=r:t=r;var a=r;n=n.__wrapped__}return a.__wrapped__=e,t},Bn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Gn){var t=e;return this.__actions__.length&&(t=new Gn(this)),(t=t.reverse()).__actions__.push({func:vo,args:[to],thisArg:i}),new Wn(t,this.__chain__)}return this.thru(to)},Bn.prototype.toJSON=Bn.prototype.valueOf=Bn.prototype.value=function(){return vi(this.__wrapped__,this.__actions__)},Bn.prototype.first=Bn.prototype.head,Xe&&(Bn.prototype[Xe]=function(){return this}),Bn}();dt._=mn,(r=function(){return mn}.call(t,n,t,e))===i||(e.exports=r)}.call(this)},426:function(e,t,n){(e=n.nmd(e)).exports=function(){"use strict";var t,n;function r(){return t.apply(null,arguments)}function i(e){t=e}function a(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function o(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function u(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function s(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(u(e,t))return!1;return!0}function c(e){return void 0===e}function l(e){return"number"===typeof e||"[object Number]"===Object.prototype.toString.call(e)}function f(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function h(e,t){var n,r=[];for(n=0;n<e.length;++n)r.push(t(e[n],n));return r}function d(e,t){for(var n in t)u(t,n)&&(e[n]=t[n]);return u(t,"toString")&&(e.toString=t.toString),u(t,"valueOf")&&(e.valueOf=t.valueOf),e}function p(e,t,n,r){return Kn(e,t,n,r,!0).utc()}function v(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function y(e){return null==e._pf&&(e._pf=v()),e._pf}function m(e){if(null==e._isValid){var t=y(e),r=n.call(t.parsedDateParts,(function(e){return null!=e})),i=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&r);if(e._strict&&(i=i&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return i;e._isValid=i}return e._isValid}function g(e){var t=p(NaN);return null!=e?d(y(t),e):y(t).userInvalidated=!0,t}n=Array.prototype.some?Array.prototype.some:function(e){var t,n=Object(this),r=n.length>>>0;for(t=0;t<r;t++)if(t in n&&e.call(this,n[t],t,n))return!0;return!1};var k=r.momentProperties=[],w=!1;function b(e,t){var n,r,i;if(c(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),c(t._i)||(e._i=t._i),c(t._f)||(e._f=t._f),c(t._l)||(e._l=t._l),c(t._strict)||(e._strict=t._strict),c(t._tzm)||(e._tzm=t._tzm),c(t._isUTC)||(e._isUTC=t._isUTC),c(t._offset)||(e._offset=t._offset),c(t._pf)||(e._pf=y(t)),c(t._locale)||(e._locale=t._locale),k.length>0)for(n=0;n<k.length;n++)c(i=t[r=k[n]])||(e[r]=i);return e}function _(e){b(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===w&&(w=!0,r.updateOffset(this),w=!1)}function x(e){return e instanceof _||null!=e&&null!=e._isAMomentObject}function S(e){!1===r.suppressDeprecationWarnings&&"undefined"!==typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function I(e,t){var n=!0;return d((function(){if(null!=r.deprecationHandler&&r.deprecationHandler(null,e),n){var i,a,o,s=[];for(a=0;a<arguments.length;a++){if(i="","object"===typeof arguments[a]){for(o in i+="\n["+a+"] ",arguments[0])u(arguments[0],o)&&(i+=o+": "+arguments[0][o]+", ");i=i.slice(0,-2)}else i=arguments[a];s.push(i)}S(e+"\nArguments: "+Array.prototype.slice.call(s).join("")+"\n"+(new Error).stack),n=!1}return t.apply(this,arguments)}),t)}var E,T={};function C(e,t){null!=r.deprecationHandler&&r.deprecationHandler(e,t),T[e]||(S(t),T[e]=!0)}function A(e){return"undefined"!==typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function N(e){var t,n;for(n in e)u(e,n)&&(A(t=e[n])?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function D(e,t){var n,r=d({},e);for(n in t)u(t,n)&&(o(e[n])&&o(t[n])?(r[n]={},d(r[n],e[n]),d(r[n],t[n])):null!=t[n]?r[n]=t[n]:delete r[n]);for(n in e)u(e,n)&&!u(t,n)&&o(e[n])&&(r[n]=d({},r[n]));return r}function O(e){null!=e&&this.set(e)}r.suppressDeprecationWarnings=!1,r.deprecationHandler=null,E=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)u(e,t)&&n.push(t);return n};var R={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function P(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return A(r)?r.call(t,n):r}function L(e,t,n){var r=""+Math.abs(e),i=t-r.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var M=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,F=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,U={},j={};function V(e,t,n,r){var i=r;"string"===typeof r&&(i=function(){return this[r]()}),e&&(j[e]=i),t&&(j[t[0]]=function(){return L(i.apply(this,arguments),t[1],t[2])}),n&&(j[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function B(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function q(e){var t,n,r=e.match(M);for(t=0,n=r.length;t<n;t++)j[r[t]]?r[t]=j[r[t]]:r[t]=B(r[t]);return function(t){var i,a="";for(i=0;i<n;i++)a+=A(r[i])?r[i].call(t,e):r[i];return a}}function z(e,t){return e.isValid()?(t=W(t,e.localeData()),U[t]=U[t]||q(t),U[t](e)):e.localeData().invalidDate()}function W(e,t){var n=5;function r(e){return t.longDateFormat(e)||e}for(F.lastIndex=0;n>=0&&F.test(e);)e=e.replace(F,r),F.lastIndex=0,n-=1;return e}var G={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function H(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(M).map((function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e})).join(""),this._longDateFormat[e])}var K="Invalid date";function Y(){return this._invalidDate}var Q="%d",J=/\d{1,2}/;function X(e){return this._ordinal.replace("%d",e)}var Z={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function $(e,t,n,r){var i=this._relativeTime[n];return A(i)?i(e,t,n,r):i.replace(/%d/i,e)}function ee(e,t){var n=this._relativeTime[e>0?"future":"past"];return A(n)?n(t):n.replace(/%s/i,t)}var te={};function ne(e,t){var n=e.toLowerCase();te[n]=te[n+"s"]=te[t]=e}function re(e){return"string"===typeof e?te[e]||te[e.toLowerCase()]:void 0}function ie(e){var t,n,r={};for(n in e)u(e,n)&&(t=re(n))&&(r[t]=e[n]);return r}var ae={};function oe(e,t){ae[e]=t}function ue(e){var t,n=[];for(t in e)u(e,t)&&n.push({unit:t,priority:ae[t]});return n.sort((function(e,t){return e.priority-t.priority})),n}function se(e){return e%4===0&&e%100!==0||e%400===0}function ce(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function le(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=ce(t)),n}function fe(e,t){return function(n){return null!=n?(de(this,e,n),r.updateOffset(this,t),this):he(this,e)}}function he(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function de(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&se(e.year())&&1===e.month()&&29===e.date()?(n=le(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),$e(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function pe(e){return A(this[e=re(e)])?this[e]():this}function ve(e,t){if("object"===typeof e){var n,r=ue(e=ie(e));for(n=0;n<r.length;n++)this[r[n].unit](e[r[n].unit])}else if(A(this[e=re(e)]))return this[e](t);return this}var ye,me=/\d/,ge=/\d\d/,ke=/\d{3}/,we=/\d{4}/,be=/[+-]?\d{6}/,_e=/\d\d?/,xe=/\d\d\d\d?/,Se=/\d\d\d\d\d\d?/,Ie=/\d{1,3}/,Ee=/\d{1,4}/,Te=/[+-]?\d{1,6}/,Ce=/\d+/,Ae=/[+-]?\d+/,Ne=/Z|[+-]\d\d:?\d\d/gi,De=/Z|[+-]\d\d(?::?\d\d)?/gi,Oe=/[+-]?\d+(\.\d{1,3})?/,Re=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function Pe(e,t,n){ye[e]=A(t)?t:function(e,r){return e&&n?n:t}}function Le(e,t){return u(ye,e)?ye[e](t._strict,t._locale):new RegExp(Me(e))}function Me(e){return Fe(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,n,r,i){return t||n||r||i})))}function Fe(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}ye={};var Ue={};function je(e,t){var n,r=t;for("string"===typeof e&&(e=[e]),l(t)&&(r=function(e,n){n[t]=le(e)}),n=0;n<e.length;n++)Ue[e[n]]=r}function Ve(e,t){je(e,(function(e,n,r,i){r._w=r._w||{},t(e,r._w,r,i)}))}function Be(e,t,n){null!=t&&u(Ue,e)&&Ue[e](t,n._a,n,e)}var qe,ze=0,We=1,Ge=2,He=3,Ke=4,Ye=5,Qe=6,Je=7,Xe=8;function Ze(e,t){return(e%t+t)%t}function $e(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=Ze(t,12);return e+=(t-n)/12,1===n?se(e)?29:28:31-n%7%2}qe=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},V("M",["MM",2],"Mo",(function(){return this.month()+1})),V("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),V("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),ne("month","M"),oe("month",8),Pe("M",_e),Pe("MM",_e,ge),Pe("MMM",(function(e,t){return t.monthsShortRegex(e)})),Pe("MMMM",(function(e,t){return t.monthsRegex(e)})),je(["M","MM"],(function(e,t){t[We]=le(e)-1})),je(["MMM","MMMM"],(function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);null!=i?t[We]=i:y(n).invalidMonth=e}));var et="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),tt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),nt=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,rt=Re,it=Re;function at(e,t){return e?a(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||nt).test(t)?"format":"standalone"][e.month()]:a(this._months)?this._months:this._months.standalone}function ot(e,t){return e?a(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[nt.test(t)?"format":"standalone"][e.month()]:a(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function ut(e,t,n){var r,i,a,o=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)a=p([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(a,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(a,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(i=qe.call(this._shortMonthsParse,o))?i:null:-1!==(i=qe.call(this._longMonthsParse,o))?i:null:"MMM"===t?-1!==(i=qe.call(this._shortMonthsParse,o))||-1!==(i=qe.call(this._longMonthsParse,o))?i:null:-1!==(i=qe.call(this._longMonthsParse,o))||-1!==(i=qe.call(this._shortMonthsParse,o))?i:null}function st(e,t,n){var r,i,a;if(this._monthsParseExact)return ut.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=p([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(a="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(a.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function ct(e,t){var n;if(!e.isValid())return e;if("string"===typeof t)if(/^\d+$/.test(t))t=le(t);else if(!l(t=e.localeData().monthsParse(t)))return e;return n=Math.min(e.date(),$e(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function lt(e){return null!=e?(ct(this,e),r.updateOffset(this,!0),this):he(this,"Month")}function ft(){return $e(this.year(),this.month())}function ht(e){return this._monthsParseExact?(u(this,"_monthsRegex")||pt.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(u(this,"_monthsShortRegex")||(this._monthsShortRegex=rt),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function dt(e){return this._monthsParseExact?(u(this,"_monthsRegex")||pt.call(this),e?this._monthsStrictRegex:this._monthsRegex):(u(this,"_monthsRegex")||(this._monthsRegex=it),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function pt(){function e(e,t){return t.length-e.length}var t,n,r=[],i=[],a=[];for(t=0;t<12;t++)n=p([2e3,t]),r.push(this.monthsShort(n,"")),i.push(this.months(n,"")),a.push(this.months(n,"")),a.push(this.monthsShort(n,""));for(r.sort(e),i.sort(e),a.sort(e),t=0;t<12;t++)r[t]=Fe(r[t]),i[t]=Fe(i[t]);for(t=0;t<24;t++)a[t]=Fe(a[t]);this._monthsRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function vt(e){return se(e)?366:365}V("Y",0,0,(function(){var e=this.year();return e<=9999?L(e,4):"+"+e})),V(0,["YY",2],0,(function(){return this.year()%100})),V(0,["YYYY",4],0,"year"),V(0,["YYYYY",5],0,"year"),V(0,["YYYYYY",6,!0],0,"year"),ne("year","y"),oe("year",1),Pe("Y",Ae),Pe("YY",_e,ge),Pe("YYYY",Ee,we),Pe("YYYYY",Te,be),Pe("YYYYYY",Te,be),je(["YYYYY","YYYYYY"],ze),je("YYYY",(function(e,t){t[ze]=2===e.length?r.parseTwoDigitYear(e):le(e)})),je("YY",(function(e,t){t[ze]=r.parseTwoDigitYear(e)})),je("Y",(function(e,t){t[ze]=parseInt(e,10)})),r.parseTwoDigitYear=function(e){return le(e)+(le(e)>68?1900:2e3)};var yt=fe("FullYear",!0);function mt(){return se(this.year())}function gt(e,t,n,r,i,a,o){var u;return e<100&&e>=0?(u=new Date(e+400,t,n,r,i,a,o),isFinite(u.getFullYear())&&u.setFullYear(e)):u=new Date(e,t,n,r,i,a,o),u}function kt(e){var t,n;return e<100&&e>=0?((n=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function wt(e,t,n){var r=7+t-n;return-(7+kt(e,0,r).getUTCDay()-t)%7+r-1}function bt(e,t,n,r,i){var a,o,u=1+7*(t-1)+(7+n-r)%7+wt(e,r,i);return u<=0?o=vt(a=e-1)+u:u>vt(e)?(a=e+1,o=u-vt(e)):(a=e,o=u),{year:a,dayOfYear:o}}function _t(e,t,n){var r,i,a=wt(e.year(),t,n),o=Math.floor((e.dayOfYear()-a-1)/7)+1;return o<1?r=o+xt(i=e.year()-1,t,n):o>xt(e.year(),t,n)?(r=o-xt(e.year(),t,n),i=e.year()+1):(i=e.year(),r=o),{week:r,year:i}}function xt(e,t,n){var r=wt(e,t,n),i=wt(e+1,t,n);return(vt(e)-r+i)/7}function St(e){return _t(e,this._week.dow,this._week.doy).week}V("w",["ww",2],"wo","week"),V("W",["WW",2],"Wo","isoWeek"),ne("week","w"),ne("isoWeek","W"),oe("week",5),oe("isoWeek",5),Pe("w",_e),Pe("ww",_e,ge),Pe("W",_e),Pe("WW",_e,ge),Ve(["w","ww","W","WW"],(function(e,t,n,r){t[r.substr(0,1)]=le(e)}));var It={dow:0,doy:6};function Et(){return this._week.dow}function Tt(){return this._week.doy}function Ct(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function At(e){var t=_t(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function Nt(e,t){return"string"!==typeof e?e:isNaN(e)?"number"===typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}function Dt(e,t){return"string"===typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Ot(e,t){return e.slice(t,7).concat(e.slice(0,t))}V("d",0,"do","day"),V("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),V("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),V("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),V("e",0,0,"weekday"),V("E",0,0,"isoWeekday"),ne("day","d"),ne("weekday","e"),ne("isoWeekday","E"),oe("day",11),oe("weekday",11),oe("isoWeekday",11),Pe("d",_e),Pe("e",_e),Pe("E",_e),Pe("dd",(function(e,t){return t.weekdaysMinRegex(e)})),Pe("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),Pe("dddd",(function(e,t){return t.weekdaysRegex(e)})),Ve(["dd","ddd","dddd"],(function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);null!=i?t.d=i:y(n).invalidWeekday=e})),Ve(["d","e","E"],(function(e,t,n,r){t[r]=le(e)}));var Rt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Pt="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Lt="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Mt=Re,Ft=Re,Ut=Re;function jt(e,t){var n=a(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?Ot(n,this._week.dow):e?n[e.day()]:n}function Vt(e){return!0===e?Ot(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function Bt(e){return!0===e?Ot(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function qt(e,t,n){var r,i,a,o=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)a=p([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(a,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(a,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(a,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(i=qe.call(this._weekdaysParse,o))?i:null:"ddd"===t?-1!==(i=qe.call(this._shortWeekdaysParse,o))?i:null:-1!==(i=qe.call(this._minWeekdaysParse,o))?i:null:"dddd"===t?-1!==(i=qe.call(this._weekdaysParse,o))||-1!==(i=qe.call(this._shortWeekdaysParse,o))||-1!==(i=qe.call(this._minWeekdaysParse,o))?i:null:"ddd"===t?-1!==(i=qe.call(this._shortWeekdaysParse,o))||-1!==(i=qe.call(this._weekdaysParse,o))||-1!==(i=qe.call(this._minWeekdaysParse,o))?i:null:-1!==(i=qe.call(this._minWeekdaysParse,o))||-1!==(i=qe.call(this._weekdaysParse,o))||-1!==(i=qe.call(this._shortWeekdaysParse,o))?i:null}function zt(e,t,n){var r,i,a;if(this._weekdaysParseExact)return qt.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=p([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(a="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(a.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function Wt(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=Nt(e,this.localeData()),this.add(e-t,"d")):t}function Gt(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function Ht(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=Dt(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function Kt(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||Jt.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(u(this,"_weekdaysRegex")||(this._weekdaysRegex=Mt),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Yt(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||Jt.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(u(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Ft),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Qt(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||Jt.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(u(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Ut),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Jt(){function e(e,t){return t.length-e.length}var t,n,r,i,a,o=[],u=[],s=[],c=[];for(t=0;t<7;t++)n=p([2e3,1]).day(t),r=Fe(this.weekdaysMin(n,"")),i=Fe(this.weekdaysShort(n,"")),a=Fe(this.weekdays(n,"")),o.push(r),u.push(i),s.push(a),c.push(r),c.push(i),c.push(a);o.sort(e),u.sort(e),s.sort(e),c.sort(e),this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+o.join("|")+")","i")}function Xt(){return this.hours()%12||12}function Zt(){return this.hours()||24}function $t(e,t){V(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function en(e,t){return t._meridiemParse}function tn(e){return"p"===(e+"").toLowerCase().charAt(0)}V("H",["HH",2],0,"hour"),V("h",["hh",2],0,Xt),V("k",["kk",2],0,Zt),V("hmm",0,0,(function(){return""+Xt.apply(this)+L(this.minutes(),2)})),V("hmmss",0,0,(function(){return""+Xt.apply(this)+L(this.minutes(),2)+L(this.seconds(),2)})),V("Hmm",0,0,(function(){return""+this.hours()+L(this.minutes(),2)})),V("Hmmss",0,0,(function(){return""+this.hours()+L(this.minutes(),2)+L(this.seconds(),2)})),$t("a",!0),$t("A",!1),ne("hour","h"),oe("hour",13),Pe("a",en),Pe("A",en),Pe("H",_e),Pe("h",_e),Pe("k",_e),Pe("HH",_e,ge),Pe("hh",_e,ge),Pe("kk",_e,ge),Pe("hmm",xe),Pe("hmmss",Se),Pe("Hmm",xe),Pe("Hmmss",Se),je(["H","HH"],He),je(["k","kk"],(function(e,t,n){var r=le(e);t[He]=24===r?0:r})),je(["a","A"],(function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e})),je(["h","hh"],(function(e,t,n){t[He]=le(e),y(n).bigHour=!0})),je("hmm",(function(e,t,n){var r=e.length-2;t[He]=le(e.substr(0,r)),t[Ke]=le(e.substr(r)),y(n).bigHour=!0})),je("hmmss",(function(e,t,n){var r=e.length-4,i=e.length-2;t[He]=le(e.substr(0,r)),t[Ke]=le(e.substr(r,2)),t[Ye]=le(e.substr(i)),y(n).bigHour=!0})),je("Hmm",(function(e,t,n){var r=e.length-2;t[He]=le(e.substr(0,r)),t[Ke]=le(e.substr(r))})),je("Hmmss",(function(e,t,n){var r=e.length-4,i=e.length-2;t[He]=le(e.substr(0,r)),t[Ke]=le(e.substr(r,2)),t[Ye]=le(e.substr(i))}));var nn=/[ap]\.?m?\.?/i,rn=fe("Hours",!0);function an(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var on,un={calendar:R,longDateFormat:G,invalidDate:K,ordinal:Q,dayOfMonthOrdinalParse:J,relativeTime:Z,months:et,monthsShort:tt,week:It,weekdays:Rt,weekdaysMin:Lt,weekdaysShort:Pt,meridiemParse:nn},sn={},cn={};function ln(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n+=1)if(e[n]!==t[n])return n;return r}function fn(e){return e?e.toLowerCase().replace("_","-"):e}function hn(e){for(var t,n,r,i,a=0;a<e.length;){for(t=(i=fn(e[a]).split("-")).length,n=(n=fn(e[a+1]))?n.split("-"):null;t>0;){if(r=dn(i.slice(0,t).join("-")))return r;if(n&&n.length>=t&&ln(i,n)>=t-1)break;t--}a++}return on}function dn(t){var n=null;if(void 0===sn[t]&&e&&e.exports)try{n=on._abbr,Object(function(){var e=new Error("Cannot find module 'undefined'");throw e.code="MODULE_NOT_FOUND",e}()),pn(n)}catch(r){sn[t]=null}return sn[t]}function pn(e,t){var n;return e&&((n=c(t)?mn(e):vn(e,t))?on=n:"undefined"!==typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),on._abbr}function vn(e,t){if(null!==t){var n,r=un;if(t.abbr=e,null!=sn[e])C("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=sn[e]._config;else if(null!=t.parentLocale)if(null!=sn[t.parentLocale])r=sn[t.parentLocale]._config;else{if(null==(n=dn(t.parentLocale)))return cn[t.parentLocale]||(cn[t.parentLocale]=[]),cn[t.parentLocale].push({name:e,config:t}),null;r=n._config}return sn[e]=new O(D(r,t)),cn[e]&&cn[e].forEach((function(e){vn(e.name,e.config)})),pn(e),sn[e]}return delete sn[e],null}function yn(e,t){if(null!=t){var n,r,i=un;null!=sn[e]&&null!=sn[e].parentLocale?sn[e].set(D(sn[e]._config,t)):(null!=(r=dn(e))&&(i=r._config),t=D(i,t),null==r&&(t.abbr=e),(n=new O(t)).parentLocale=sn[e],sn[e]=n),pn(e)}else null!=sn[e]&&(null!=sn[e].parentLocale?(sn[e]=sn[e].parentLocale,e===pn()&&pn(e)):null!=sn[e]&&delete sn[e]);return sn[e]}function mn(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return on;if(!a(e)){if(t=dn(e))return t;e=[e]}return hn(e)}function gn(){return E(sn)}function kn(e){var t,n=e._a;return n&&-2===y(e).overflow&&(t=n[We]<0||n[We]>11?We:n[Ge]<1||n[Ge]>$e(n[ze],n[We])?Ge:n[He]<0||n[He]>24||24===n[He]&&(0!==n[Ke]||0!==n[Ye]||0!==n[Qe])?He:n[Ke]<0||n[Ke]>59?Ke:n[Ye]<0||n[Ye]>59?Ye:n[Qe]<0||n[Qe]>999?Qe:-1,y(e)._overflowDayOfYear&&(t<ze||t>Ge)&&(t=Ge),y(e)._overflowWeeks&&-1===t&&(t=Je),y(e)._overflowWeekday&&-1===t&&(t=Xe),y(e).overflow=t),e}var wn=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,bn=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,_n=/Z|[+-]\d\d(?::?\d\d)?/,xn=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Sn=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],In=/^\/?Date\((-?\d+)/i,En=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Tn={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Cn(e){var t,n,r,i,a,o,u=e._i,s=wn.exec(u)||bn.exec(u);if(s){for(y(e).iso=!0,t=0,n=xn.length;t<n;t++)if(xn[t][1].exec(s[1])){i=xn[t][0],r=!1!==xn[t][2];break}if(null==i)return void(e._isValid=!1);if(s[3]){for(t=0,n=Sn.length;t<n;t++)if(Sn[t][1].exec(s[3])){a=(s[2]||" ")+Sn[t][0];break}if(null==a)return void(e._isValid=!1)}if(!r&&null!=a)return void(e._isValid=!1);if(s[4]){if(!_n.exec(s[4]))return void(e._isValid=!1);o="Z"}e._f=i+(a||"")+(o||""),Vn(e)}else e._isValid=!1}function An(e,t,n,r,i,a){var o=[Nn(e),tt.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return a&&o.push(parseInt(a,10)),o}function Nn(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function Dn(e){return e.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function On(e,t,n){return!e||Pt.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(y(n).weekdayMismatch=!0,n._isValid=!1,!1)}function Rn(e,t,n){if(e)return Tn[e];if(t)return 0;var r=parseInt(n,10),i=r%100;return(r-i)/100*60+i}function Pn(e){var t,n=En.exec(Dn(e._i));if(n){if(t=An(n[4],n[3],n[2],n[5],n[6],n[7]),!On(n[1],t,e))return;e._a=t,e._tzm=Rn(n[8],n[9],n[10]),e._d=kt.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),y(e).rfc2822=!0}else e._isValid=!1}function Ln(e){var t=In.exec(e._i);null===t?(Cn(e),!1===e._isValid&&(delete e._isValid,Pn(e),!1===e._isValid&&(delete e._isValid,e._strict?e._isValid=!1:r.createFromInputFallback(e)))):e._d=new Date(+t[1])}function Mn(e,t,n){return null!=e?e:null!=t?t:n}function Fn(e){var t=new Date(r.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function Un(e){var t,n,r,i,a,o=[];if(!e._d){for(r=Fn(e),e._w&&null==e._a[Ge]&&null==e._a[We]&&jn(e),null!=e._dayOfYear&&(a=Mn(e._a[ze],r[ze]),(e._dayOfYear>vt(a)||0===e._dayOfYear)&&(y(e)._overflowDayOfYear=!0),n=kt(a,0,e._dayOfYear),e._a[We]=n.getUTCMonth(),e._a[Ge]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=o[t]=r[t];for(;t<7;t++)e._a[t]=o[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[He]&&0===e._a[Ke]&&0===e._a[Ye]&&0===e._a[Qe]&&(e._nextDay=!0,e._a[He]=0),e._d=(e._useUTC?kt:gt).apply(null,o),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[He]=24),e._w&&"undefined"!==typeof e._w.d&&e._w.d!==i&&(y(e).weekdayMismatch=!0)}}function jn(e){var t,n,r,i,a,o,u,s,c;null!=(t=e._w).GG||null!=t.W||null!=t.E?(a=1,o=4,n=Mn(t.GG,e._a[ze],_t(Yn(),1,4).year),r=Mn(t.W,1),((i=Mn(t.E,1))<1||i>7)&&(s=!0)):(a=e._locale._week.dow,o=e._locale._week.doy,c=_t(Yn(),a,o),n=Mn(t.gg,e._a[ze],c.year),r=Mn(t.w,c.week),null!=t.d?((i=t.d)<0||i>6)&&(s=!0):null!=t.e?(i=t.e+a,(t.e<0||t.e>6)&&(s=!0)):i=a),r<1||r>xt(n,a,o)?y(e)._overflowWeeks=!0:null!=s?y(e)._overflowWeekday=!0:(u=bt(n,r,i,a,o),e._a[ze]=u.year,e._dayOfYear=u.dayOfYear)}function Vn(e){if(e._f!==r.ISO_8601)if(e._f!==r.RFC_2822){e._a=[],y(e).empty=!0;var t,n,i,a,o,u,s=""+e._i,c=s.length,l=0;for(i=W(e._f,e._locale).match(M)||[],t=0;t<i.length;t++)a=i[t],(n=(s.match(Le(a,e))||[])[0])&&((o=s.substr(0,s.indexOf(n))).length>0&&y(e).unusedInput.push(o),s=s.slice(s.indexOf(n)+n.length),l+=n.length),j[a]?(n?y(e).empty=!1:y(e).unusedTokens.push(a),Be(a,n,e)):e._strict&&!n&&y(e).unusedTokens.push(a);y(e).charsLeftOver=c-l,s.length>0&&y(e).unusedInput.push(s),e._a[He]<=12&&!0===y(e).bigHour&&e._a[He]>0&&(y(e).bigHour=void 0),y(e).parsedDateParts=e._a.slice(0),y(e).meridiem=e._meridiem,e._a[He]=Bn(e._locale,e._a[He],e._meridiem),null!==(u=y(e).era)&&(e._a[ze]=e._locale.erasConvertYear(u,e._a[ze])),Un(e),kn(e)}else Pn(e);else Cn(e)}function Bn(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((r=e.isPM(n))&&t<12&&(t+=12),r||12!==t||(t=0),t):t}function qn(e){var t,n,r,i,a,o,u=!1;if(0===e._f.length)return y(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<e._f.length;i++)a=0,o=!1,t=b({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],Vn(t),m(t)&&(o=!0),a+=y(t).charsLeftOver,a+=10*y(t).unusedTokens.length,y(t).score=a,u?a<r&&(r=a,n=t):(null==r||a<r||o)&&(r=a,n=t,o&&(u=!0));d(e,n||t)}function zn(e){if(!e._d){var t=ie(e._i),n=void 0===t.day?t.date:t.day;e._a=h([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),Un(e)}}function Wn(e){var t=new _(kn(Gn(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function Gn(e){var t=e._i,n=e._f;return e._locale=e._locale||mn(e._l),null===t||void 0===n&&""===t?g({nullInput:!0}):("string"===typeof t&&(e._i=t=e._locale.preparse(t)),x(t)?new _(kn(t)):(f(t)?e._d=t:a(n)?qn(e):n?Vn(e):Hn(e),m(e)||(e._d=null),e))}function Hn(e){var t=e._i;c(t)?e._d=new Date(r.now()):f(t)?e._d=new Date(t.valueOf()):"string"===typeof t?Ln(e):a(t)?(e._a=h(t.slice(0),(function(e){return parseInt(e,10)})),Un(e)):o(t)?zn(e):l(t)?e._d=new Date(t):r.createFromInputFallback(e)}function Kn(e,t,n,r,i){var u={};return!0!==t&&!1!==t||(r=t,t=void 0),!0!==n&&!1!==n||(r=n,n=void 0),(o(e)&&s(e)||a(e)&&0===e.length)&&(e=void 0),u._isAMomentObject=!0,u._useUTC=u._isUTC=i,u._l=n,u._i=e,u._f=t,u._strict=r,Wn(u)}function Yn(e,t,n,r){return Kn(e,t,n,r,!1)}r.createFromInputFallback=I("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),r.ISO_8601=function(){},r.RFC_2822=function(){};var Qn=I("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Yn.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:g()})),Jn=I("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Yn.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:g()}));function Xn(e,t){var n,r;if(1===t.length&&a(t[0])&&(t=t[0]),!t.length)return Yn();for(n=t[0],r=1;r<t.length;++r)t[r].isValid()&&!t[r][e](n)||(n=t[r]);return n}function Zn(){return Xn("isBefore",[].slice.call(arguments,0))}function $n(){return Xn("isAfter",[].slice.call(arguments,0))}var er=function(){return Date.now?Date.now():+new Date},tr=["year","quarter","month","week","day","hour","minute","second","millisecond"];function nr(e){var t,n,r=!1;for(t in e)if(u(e,t)&&(-1===qe.call(tr,t)||null!=e[t]&&isNaN(e[t])))return!1;for(n=0;n<tr.length;++n)if(e[tr[n]]){if(r)return!1;parseFloat(e[tr[n]])!==le(e[tr[n]])&&(r=!0)}return!0}function rr(){return this._isValid}function ir(){return Tr(NaN)}function ar(e){var t=ie(e),n=t.year||0,r=t.quarter||0,i=t.month||0,a=t.week||t.isoWeek||0,o=t.day||0,u=t.hour||0,s=t.minute||0,c=t.second||0,l=t.millisecond||0;this._isValid=nr(t),this._milliseconds=+l+1e3*c+6e4*s+1e3*u*60*60,this._days=+o+7*a,this._months=+i+3*r+12*n,this._data={},this._locale=mn(),this._bubble()}function or(e){return e instanceof ar}function ur(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function sr(e,t,n){var r,i=Math.min(e.length,t.length),a=Math.abs(e.length-t.length),o=0;for(r=0;r<i;r++)(n&&e[r]!==t[r]||!n&&le(e[r])!==le(t[r]))&&o++;return o+a}function cr(e,t){V(e,0,0,(function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+L(~~(e/60),2)+t+L(~~e%60,2)}))}cr("Z",":"),cr("ZZ",""),Pe("Z",De),Pe("ZZ",De),je(["Z","ZZ"],(function(e,t,n){n._useUTC=!0,n._tzm=fr(De,e)}));var lr=/([\+\-]|\d\d)/gi;function fr(e,t){var n,r,i=(t||"").match(e);return null===i?null:0===(r=60*(n=((i[i.length-1]||[])+"").match(lr)||["-",0,0])[1]+le(n[2]))?0:"+"===n[0]?r:-r}function hr(e,t){var n,i;return t._isUTC?(n=t.clone(),i=(x(e)||f(e)?e.valueOf():Yn(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+i),r.updateOffset(n,!1),n):Yn(e).local()}function dr(e){return-Math.round(e._d.getTimezoneOffset())}function pr(e,t,n){var i,a=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"===typeof e){if(null===(e=fr(De,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(i=dr(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),a!==e&&(!t||this._changeInProgress?Or(this,Tr(e-a,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,r.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?a:dr(this)}function vr(e,t){return null!=e?("string"!==typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function yr(e){return this.utcOffset(0,e)}function mr(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(dr(this),"m")),this}function gr(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"===typeof this._i){var e=fr(Ne,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this}function kr(e){return!!this.isValid()&&(e=e?Yn(e).utcOffset():0,(this.utcOffset()-e)%60===0)}function wr(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function br(){if(!c(this._isDSTShifted))return this._isDSTShifted;var e,t={};return b(t,this),(t=Gn(t))._a?(e=t._isUTC?p(t._a):Yn(t._a),this._isDSTShifted=this.isValid()&&sr(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function _r(){return!!this.isValid()&&!this._isUTC}function xr(){return!!this.isValid()&&this._isUTC}function Sr(){return!!this.isValid()&&this._isUTC&&0===this._offset}r.updateOffset=function(){};var Ir=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Er=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Tr(e,t){var n,r,i,a=e,o=null;return or(e)?a={ms:e._milliseconds,d:e._days,M:e._months}:l(e)||!isNaN(+e)?(a={},t?a[t]=+e:a.milliseconds=+e):(o=Ir.exec(e))?(n="-"===o[1]?-1:1,a={y:0,d:le(o[Ge])*n,h:le(o[He])*n,m:le(o[Ke])*n,s:le(o[Ye])*n,ms:le(ur(1e3*o[Qe]))*n}):(o=Er.exec(e))?(n="-"===o[1]?-1:1,a={y:Cr(o[2],n),M:Cr(o[3],n),w:Cr(o[4],n),d:Cr(o[5],n),h:Cr(o[6],n),m:Cr(o[7],n),s:Cr(o[8],n)}):null==a?a={}:"object"===typeof a&&("from"in a||"to"in a)&&(i=Nr(Yn(a.from),Yn(a.to)),(a={}).ms=i.milliseconds,a.M=i.months),r=new ar(a),or(e)&&u(e,"_locale")&&(r._locale=e._locale),or(e)&&u(e,"_isValid")&&(r._isValid=e._isValid),r}function Cr(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Ar(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Nr(e,t){var n;return e.isValid()&&t.isValid()?(t=hr(t,e),e.isBefore(t)?n=Ar(e,t):((n=Ar(t,e)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Dr(e,t){return function(n,r){var i;return null===r||isNaN(+r)||(C(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=r,r=i),Or(this,Tr(n,r),e),this}}function Or(e,t,n,i){var a=t._milliseconds,o=ur(t._days),u=ur(t._months);e.isValid()&&(i=null==i||i,u&&ct(e,he(e,"Month")+u*n),o&&de(e,"Date",he(e,"Date")+o*n),a&&e._d.setTime(e._d.valueOf()+a*n),i&&r.updateOffset(e,o||u))}Tr.fn=ar.prototype,Tr.invalid=ir;var Rr=Dr(1,"add"),Pr=Dr(-1,"subtract");function Lr(e){return"string"===typeof e||e instanceof String}function Mr(e){return x(e)||f(e)||Lr(e)||l(e)||Ur(e)||Fr(e)||null===e||void 0===e}function Fr(e){var t,n,r=o(e)&&!s(e),i=!1,a=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"];for(t=0;t<a.length;t+=1)n=a[t],i=i||u(e,n);return r&&i}function Ur(e){var t=a(e),n=!1;return t&&(n=0===e.filter((function(t){return!l(t)&&Lr(e)})).length),t&&n}function jr(e){var t,n,r=o(e)&&!s(e),i=!1,a=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(t=0;t<a.length;t+=1)n=a[t],i=i||u(e,n);return r&&i}function Vr(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function Br(e,t){1===arguments.length&&(arguments[0]?Mr(arguments[0])?(e=arguments[0],t=void 0):jr(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||Yn(),i=hr(n,this).startOf("day"),a=r.calendarFormat(this,i)||"sameElse",o=t&&(A(t[a])?t[a].call(this,n):t[a]);return this.format(o||this.localeData().calendar(a,this,Yn(n)))}function qr(){return new _(this)}function zr(e,t){var n=x(e)?e:Yn(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=re(t)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())}function Wr(e,t){var n=x(e)?e:Yn(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=re(t)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())}function Gr(e,t,n,r){var i=x(e)?e:Yn(e),a=x(t)?t:Yn(t);return!!(this.isValid()&&i.isValid()&&a.isValid())&&("("===(r=r||"()")[0]?this.isAfter(i,n):!this.isBefore(i,n))&&(")"===r[1]?this.isBefore(a,n):!this.isAfter(a,n))}function Hr(e,t){var n,r=x(e)?e:Yn(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=re(t)||"millisecond")?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))}function Kr(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function Yr(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function Qr(e,t,n){var r,i,a;if(!this.isValid())return NaN;if(!(r=hr(e,this)).isValid())return NaN;switch(i=6e4*(r.utcOffset()-this.utcOffset()),t=re(t)){case"year":a=Jr(this,r)/12;break;case"month":a=Jr(this,r);break;case"quarter":a=Jr(this,r)/3;break;case"second":a=(this-r)/1e3;break;case"minute":a=(this-r)/6e4;break;case"hour":a=(this-r)/36e5;break;case"day":a=(this-r-i)/864e5;break;case"week":a=(this-r-i)/6048e5;break;default:a=this-r}return n?a:ce(a)}function Jr(e,t){if(e.date()<t.date())return-Jr(t,e);var n=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(n,"months");return-(n+(t-r<0?(t-r)/(r-e.clone().add(n-1,"months")):(t-r)/(e.clone().add(n+1,"months")-r)))||0}function Xr(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Zr(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?z(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):A(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",z(n,"Z")):z(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function $r(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t,n,r,i="moment",a="";return this.isLocal()||(i=0===this.utcOffset()?"moment.utc":"moment.parseZone",a="Z"),e="["+i+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",n="-MM-DD[T]HH:mm:ss.SSS",r=a+'[")]',this.format(e+t+n+r)}function ei(e){e||(e=this.isUtc()?r.defaultFormatUtc:r.defaultFormat);var t=z(this,e);return this.localeData().postformat(t)}function ti(e,t){return this.isValid()&&(x(e)&&e.isValid()||Yn(e).isValid())?Tr({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ni(e){return this.from(Yn(),e)}function ri(e,t){return this.isValid()&&(x(e)&&e.isValid()||Yn(e).isValid())?Tr({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ii(e){return this.to(Yn(),e)}function ai(e){var t;return void 0===e?this._locale._abbr:(null!=(t=mn(e))&&(this._locale=t),this)}r.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",r.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var oi=I("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function ui(){return this._locale}var si=1e3,ci=60*si,li=60*ci,fi=3506328*li;function hi(e,t){return(e%t+t)%t}function di(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-fi:new Date(e,t,n).valueOf()}function pi(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-fi:Date.UTC(e,t,n)}function vi(e){var t,n;if(void 0===(e=re(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?pi:di,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=hi(t+(this._isUTC?0:this.utcOffset()*ci),li);break;case"minute":t=this._d.valueOf(),t-=hi(t,ci);break;case"second":t=this._d.valueOf(),t-=hi(t,si)}return this._d.setTime(t),r.updateOffset(this,!0),this}function yi(e){var t,n;if(void 0===(e=re(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?pi:di,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=li-hi(t+(this._isUTC?0:this.utcOffset()*ci),li)-1;break;case"minute":t=this._d.valueOf(),t+=ci-hi(t,ci)-1;break;case"second":t=this._d.valueOf(),t+=si-hi(t,si)-1}return this._d.setTime(t),r.updateOffset(this,!0),this}function mi(){return this._d.valueOf()-6e4*(this._offset||0)}function gi(){return Math.floor(this.valueOf()/1e3)}function ki(){return new Date(this.valueOf())}function wi(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function bi(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function _i(){return this.isValid()?this.toISOString():null}function xi(){return m(this)}function Si(){return d({},y(this))}function Ii(){return y(this).overflow}function Ei(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Ti(e,t){var n,i,a,o=this._eras||mn("en")._eras;for(n=0,i=o.length;n<i;++n)switch("string"===typeof o[n].since&&(a=r(o[n].since).startOf("day"),o[n].since=a.valueOf()),typeof o[n].until){case"undefined":o[n].until=1/0;break;case"string":a=r(o[n].until).startOf("day").valueOf(),o[n].until=a.valueOf()}return o}function Ci(e,t,n){var r,i,a,o,u,s=this.eras();for(e=e.toUpperCase(),r=0,i=s.length;r<i;++r)if(a=s[r].name.toUpperCase(),o=s[r].abbr.toUpperCase(),u=s[r].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(o===e)return s[r];break;case"NNNN":if(a===e)return s[r];break;case"NNNNN":if(u===e)return s[r]}else if([a,o,u].indexOf(e)>=0)return s[r]}function Ai(e,t){var n=e.since<=e.until?1:-1;return void 0===t?r(e.since).year():r(e.since).year()+(t-e.offset)*n}function Ni(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].name;if(r[e].until<=n&&n<=r[e].since)return r[e].name}return""}function Di(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].narrow;if(r[e].until<=n&&n<=r[e].since)return r[e].narrow}return""}function Oi(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].abbr;if(r[e].until<=n&&n<=r[e].since)return r[e].abbr}return""}function Ri(){var e,t,n,i,a=this.localeData().eras();for(e=0,t=a.length;e<t;++e)if(n=a[e].since<=a[e].until?1:-1,i=this.clone().startOf("day").valueOf(),a[e].since<=i&&i<=a[e].until||a[e].until<=i&&i<=a[e].since)return(this.year()-r(a[e].since).year())*n+a[e].offset;return this.year()}function Pi(e){return u(this,"_erasNameRegex")||Bi.call(this),e?this._erasNameRegex:this._erasRegex}function Li(e){return u(this,"_erasAbbrRegex")||Bi.call(this),e?this._erasAbbrRegex:this._erasRegex}function Mi(e){return u(this,"_erasNarrowRegex")||Bi.call(this),e?this._erasNarrowRegex:this._erasRegex}function Fi(e,t){return t.erasAbbrRegex(e)}function Ui(e,t){return t.erasNameRegex(e)}function ji(e,t){return t.erasNarrowRegex(e)}function Vi(e,t){return t._eraYearOrdinalRegex||Ce}function Bi(){var e,t,n=[],r=[],i=[],a=[],o=this.eras();for(e=0,t=o.length;e<t;++e)r.push(Fe(o[e].name)),n.push(Fe(o[e].abbr)),i.push(Fe(o[e].narrow)),a.push(Fe(o[e].name)),a.push(Fe(o[e].abbr)),a.push(Fe(o[e].narrow));this._erasRegex=new RegExp("^("+a.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+r.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+i.join("|")+")","i")}function qi(e,t){V(0,[e,e.length],0,t)}function zi(e){return Qi.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Wi(e){return Qi.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Gi(){return xt(this.year(),1,4)}function Hi(){return xt(this.isoWeekYear(),1,4)}function Ki(){var e=this.localeData()._week;return xt(this.year(),e.dow,e.doy)}function Yi(){var e=this.localeData()._week;return xt(this.weekYear(),e.dow,e.doy)}function Qi(e,t,n,r,i){var a;return null==e?_t(this,r,i).year:(t>(a=xt(e,r,i))&&(t=a),Ji.call(this,e,t,n,r,i))}function Ji(e,t,n,r,i){var a=bt(e,t,n,r,i),o=kt(a.year,0,a.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}function Xi(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}V("N",0,0,"eraAbbr"),V("NN",0,0,"eraAbbr"),V("NNN",0,0,"eraAbbr"),V("NNNN",0,0,"eraName"),V("NNNNN",0,0,"eraNarrow"),V("y",["y",1],"yo","eraYear"),V("y",["yy",2],0,"eraYear"),V("y",["yyy",3],0,"eraYear"),V("y",["yyyy",4],0,"eraYear"),Pe("N",Fi),Pe("NN",Fi),Pe("NNN",Fi),Pe("NNNN",Ui),Pe("NNNNN",ji),je(["N","NN","NNN","NNNN","NNNNN"],(function(e,t,n,r){var i=n._locale.erasParse(e,r,n._strict);i?y(n).era=i:y(n).invalidEra=e})),Pe("y",Ce),Pe("yy",Ce),Pe("yyy",Ce),Pe("yyyy",Ce),Pe("yo",Vi),je(["y","yy","yyy","yyyy"],ze),je(["yo"],(function(e,t,n,r){var i;n._locale._eraYearOrdinalRegex&&(i=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[ze]=n._locale.eraYearOrdinalParse(e,i):t[ze]=parseInt(e,10)})),V(0,["gg",2],0,(function(){return this.weekYear()%100})),V(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),qi("gggg","weekYear"),qi("ggggg","weekYear"),qi("GGGG","isoWeekYear"),qi("GGGGG","isoWeekYear"),ne("weekYear","gg"),ne("isoWeekYear","GG"),oe("weekYear",1),oe("isoWeekYear",1),Pe("G",Ae),Pe("g",Ae),Pe("GG",_e,ge),Pe("gg",_e,ge),Pe("GGGG",Ee,we),Pe("gggg",Ee,we),Pe("GGGGG",Te,be),Pe("ggggg",Te,be),Ve(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,n,r){t[r.substr(0,2)]=le(e)})),Ve(["gg","GG"],(function(e,t,n,i){t[i]=r.parseTwoDigitYear(e)})),V("Q",0,"Qo","quarter"),ne("quarter","Q"),oe("quarter",7),Pe("Q",me),je("Q",(function(e,t){t[We]=3*(le(e)-1)})),V("D",["DD",2],"Do","date"),ne("date","D"),oe("date",9),Pe("D",_e),Pe("DD",_e,ge),Pe("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),je(["D","DD"],Ge),je("Do",(function(e,t){t[Ge]=le(e.match(_e)[0])}));var Zi=fe("Date",!0);function $i(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}V("DDD",["DDDD",3],"DDDo","dayOfYear"),ne("dayOfYear","DDD"),oe("dayOfYear",4),Pe("DDD",Ie),Pe("DDDD",ke),je(["DDD","DDDD"],(function(e,t,n){n._dayOfYear=le(e)})),V("m",["mm",2],0,"minute"),ne("minute","m"),oe("minute",14),Pe("m",_e),Pe("mm",_e,ge),je(["m","mm"],Ke);var ea=fe("Minutes",!1);V("s",["ss",2],0,"second"),ne("second","s"),oe("second",15),Pe("s",_e),Pe("ss",_e,ge),je(["s","ss"],Ye);var ta,na,ra=fe("Seconds",!1);for(V("S",0,0,(function(){return~~(this.millisecond()/100)})),V(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),V(0,["SSS",3],0,"millisecond"),V(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),V(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),V(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),V(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),V(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),V(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),ne("millisecond","ms"),oe("millisecond",16),Pe("S",Ie,me),Pe("SS",Ie,ge),Pe("SSS",Ie,ke),ta="SSSS";ta.length<=9;ta+="S")Pe(ta,Ce);function ia(e,t){t[Qe]=le(1e3*("0."+e))}for(ta="S";ta.length<=9;ta+="S")je(ta,ia);function aa(){return this._isUTC?"UTC":""}function oa(){return this._isUTC?"Coordinated Universal Time":""}na=fe("Milliseconds",!1),V("z",0,0,"zoneAbbr"),V("zz",0,0,"zoneName");var ua=_.prototype;function sa(e){return Yn(1e3*e)}function ca(){return Yn.apply(null,arguments).parseZone()}function la(e){return e}ua.add=Rr,ua.calendar=Br,ua.clone=qr,ua.diff=Qr,ua.endOf=yi,ua.format=ei,ua.from=ti,ua.fromNow=ni,ua.to=ri,ua.toNow=ii,ua.get=pe,ua.invalidAt=Ii,ua.isAfter=zr,ua.isBefore=Wr,ua.isBetween=Gr,ua.isSame=Hr,ua.isSameOrAfter=Kr,ua.isSameOrBefore=Yr,ua.isValid=xi,ua.lang=oi,ua.locale=ai,ua.localeData=ui,ua.max=Jn,ua.min=Qn,ua.parsingFlags=Si,ua.set=ve,ua.startOf=vi,ua.subtract=Pr,ua.toArray=wi,ua.toObject=bi,ua.toDate=ki,ua.toISOString=Zr,ua.inspect=$r,"undefined"!==typeof Symbol&&null!=Symbol.for&&(ua[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),ua.toJSON=_i,ua.toString=Xr,ua.unix=gi,ua.valueOf=mi,ua.creationData=Ei,ua.eraName=Ni,ua.eraNarrow=Di,ua.eraAbbr=Oi,ua.eraYear=Ri,ua.year=yt,ua.isLeapYear=mt,ua.weekYear=zi,ua.isoWeekYear=Wi,ua.quarter=ua.quarters=Xi,ua.month=lt,ua.daysInMonth=ft,ua.week=ua.weeks=Ct,ua.isoWeek=ua.isoWeeks=At,ua.weeksInYear=Ki,ua.weeksInWeekYear=Yi,ua.isoWeeksInYear=Gi,ua.isoWeeksInISOWeekYear=Hi,ua.date=Zi,ua.day=ua.days=Wt,ua.weekday=Gt,ua.isoWeekday=Ht,ua.dayOfYear=$i,ua.hour=ua.hours=rn,ua.minute=ua.minutes=ea,ua.second=ua.seconds=ra,ua.millisecond=ua.milliseconds=na,ua.utcOffset=pr,ua.utc=yr,ua.local=mr,ua.parseZone=gr,ua.hasAlignedHourOffset=kr,ua.isDST=wr,ua.isLocal=_r,ua.isUtcOffset=xr,ua.isUtc=Sr,ua.isUTC=Sr,ua.zoneAbbr=aa,ua.zoneName=oa,ua.dates=I("dates accessor is deprecated. Use date instead.",Zi),ua.months=I("months accessor is deprecated. Use month instead",lt),ua.years=I("years accessor is deprecated. Use year instead",yt),ua.zone=I("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",vr),ua.isDSTShifted=I("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",br);var fa=O.prototype;function ha(e,t,n,r){var i=mn(),a=p().set(r,t);return i[n](a,e)}function da(e,t,n){if(l(e)&&(t=e,e=void 0),e=e||"",null!=t)return ha(e,t,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=ha(e,r,n,"month");return i}function pa(e,t,n,r){"boolean"===typeof e?(l(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,l(t)&&(n=t,t=void 0),t=t||"");var i,a=mn(),o=e?a._week.dow:0,u=[];if(null!=n)return ha(t,(n+o)%7,r,"day");for(i=0;i<7;i++)u[i]=ha(t,(i+o)%7,r,"day");return u}function va(e,t){return da(e,t,"months")}function ya(e,t){return da(e,t,"monthsShort")}function ma(e,t,n){return pa(e,t,n,"weekdays")}function ga(e,t,n){return pa(e,t,n,"weekdaysShort")}function ka(e,t,n){return pa(e,t,n,"weekdaysMin")}fa.calendar=P,fa.longDateFormat=H,fa.invalidDate=Y,fa.ordinal=X,fa.preparse=la,fa.postformat=la,fa.relativeTime=$,fa.pastFuture=ee,fa.set=N,fa.eras=Ti,fa.erasParse=Ci,fa.erasConvertYear=Ai,fa.erasAbbrRegex=Li,fa.erasNameRegex=Pi,fa.erasNarrowRegex=Mi,fa.months=at,fa.monthsShort=ot,fa.monthsParse=st,fa.monthsRegex=dt,fa.monthsShortRegex=ht,fa.week=St,fa.firstDayOfYear=Tt,fa.firstDayOfWeek=Et,fa.weekdays=jt,fa.weekdaysMin=Bt,fa.weekdaysShort=Vt,fa.weekdaysParse=zt,fa.weekdaysRegex=Kt,fa.weekdaysShortRegex=Yt,fa.weekdaysMinRegex=Qt,fa.isPM=tn,fa.meridiem=an,pn("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===le(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),r.lang=I("moment.lang is deprecated. Use moment.locale instead.",pn),r.langData=I("moment.langData is deprecated. Use moment.localeData instead.",mn);var wa=Math.abs;function ba(){var e=this._data;return this._milliseconds=wa(this._milliseconds),this._days=wa(this._days),this._months=wa(this._months),e.milliseconds=wa(e.milliseconds),e.seconds=wa(e.seconds),e.minutes=wa(e.minutes),e.hours=wa(e.hours),e.months=wa(e.months),e.years=wa(e.years),this}function _a(e,t,n,r){var i=Tr(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function xa(e,t){return _a(this,e,t,1)}function Sa(e,t){return _a(this,e,t,-1)}function Ia(e){return e<0?Math.floor(e):Math.ceil(e)}function Ea(){var e,t,n,r,i,a=this._milliseconds,o=this._days,u=this._months,s=this._data;return a>=0&&o>=0&&u>=0||a<=0&&o<=0&&u<=0||(a+=864e5*Ia(Ca(u)+o),o=0,u=0),s.milliseconds=a%1e3,e=ce(a/1e3),s.seconds=e%60,t=ce(e/60),s.minutes=t%60,n=ce(t/60),s.hours=n%24,o+=ce(n/24),u+=i=ce(Ta(o)),o-=Ia(Ca(i)),r=ce(u/12),u%=12,s.days=o,s.months=u,s.years=r,this}function Ta(e){return 4800*e/146097}function Ca(e){return 146097*e/4800}function Aa(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if("month"===(e=re(e))||"quarter"===e||"year"===e)switch(t=this._days+r/864e5,n=this._months+Ta(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(Ca(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}}function Na(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*le(this._months/12):NaN}function Da(e){return function(){return this.as(e)}}var Oa=Da("ms"),Ra=Da("s"),Pa=Da("m"),La=Da("h"),Ma=Da("d"),Fa=Da("w"),Ua=Da("M"),ja=Da("Q"),Va=Da("y");function Ba(){return Tr(this)}function qa(e){return e=re(e),this.isValid()?this[e+"s"]():NaN}function za(e){return function(){return this.isValid()?this._data[e]:NaN}}var Wa=za("milliseconds"),Ga=za("seconds"),Ha=za("minutes"),Ka=za("hours"),Ya=za("days"),Qa=za("months"),Ja=za("years");function Xa(){return ce(this.days()/7)}var Za=Math.round,$a={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function eo(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function to(e,t,n,r){var i=Tr(e).abs(),a=Za(i.as("s")),o=Za(i.as("m")),u=Za(i.as("h")),s=Za(i.as("d")),c=Za(i.as("M")),l=Za(i.as("w")),f=Za(i.as("y")),h=a<=n.ss&&["s",a]||a<n.s&&["ss",a]||o<=1&&["m"]||o<n.m&&["mm",o]||u<=1&&["h"]||u<n.h&&["hh",u]||s<=1&&["d"]||s<n.d&&["dd",s];return null!=n.w&&(h=h||l<=1&&["w"]||l<n.w&&["ww",l]),(h=h||c<=1&&["M"]||c<n.M&&["MM",c]||f<=1&&["y"]||["yy",f])[2]=t,h[3]=+e>0,h[4]=r,eo.apply(null,h)}function no(e){return void 0===e?Za:"function"===typeof e&&(Za=e,!0)}function ro(e,t){return void 0!==$a[e]&&(void 0===t?$a[e]:($a[e]=t,"s"===e&&($a.ss=t-1),!0))}function io(e,t){if(!this.isValid())return this.localeData().invalidDate();var n,r,i=!1,a=$a;return"object"===typeof e&&(t=e,e=!1),"boolean"===typeof e&&(i=e),"object"===typeof t&&(a=Object.assign({},$a,t),null!=t.s&&null==t.ss&&(a.ss=t.s-1)),r=to(this,!i,a,n=this.localeData()),i&&(r=n.pastFuture(+this,r)),n.postformat(r)}var ao=Math.abs;function oo(e){return(e>0)-(e<0)||+e}function uo(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,r,i,a,o,u,s=ao(this._milliseconds)/1e3,c=ao(this._days),l=ao(this._months),f=this.asSeconds();return f?(e=ce(s/60),t=ce(e/60),s%=60,e%=60,n=ce(l/12),l%=12,r=s?s.toFixed(3).replace(/\.?0+$/,""):"",i=f<0?"-":"",a=oo(this._months)!==oo(f)?"-":"",o=oo(this._days)!==oo(f)?"-":"",u=oo(this._milliseconds)!==oo(f)?"-":"",i+"P"+(n?a+n+"Y":"")+(l?a+l+"M":"")+(c?o+c+"D":"")+(t||e||s?"T":"")+(t?u+t+"H":"")+(e?u+e+"M":"")+(s?u+r+"S":"")):"P0D"}var so=ar.prototype;return so.isValid=rr,so.abs=ba,so.add=xa,so.subtract=Sa,so.as=Aa,so.asMilliseconds=Oa,so.asSeconds=Ra,so.asMinutes=Pa,so.asHours=La,so.asDays=Ma,so.asWeeks=Fa,so.asMonths=Ua,so.asQuarters=ja,so.asYears=Va,so.valueOf=Na,so._bubble=Ea,so.clone=Ba,so.get=qa,so.milliseconds=Wa,so.seconds=Ga,so.minutes=Ha,so.hours=Ka,so.days=Ya,so.weeks=Xa,so.months=Qa,so.years=Ja,so.humanize=io,so.toISOString=uo,so.toString=uo,so.toJSON=uo,so.locale=ai,so.localeData=ui,so.toIsoString=I("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",uo),so.lang=oi,V("X",0,0,"unix"),V("x",0,0,"valueOf"),Pe("x",Ae),Pe("X",Oe),je("X",(function(e,t,n){n._d=new Date(1e3*parseFloat(e))})),je("x",(function(e,t,n){n._d=new Date(le(e))})),r.version="2.29.1",i(Yn),r.fn=ua,r.min=Zn,r.max=$n,r.now=er,r.utc=p,r.unix=sa,r.months=va,r.isDate=f,r.locale=pn,r.invalid=g,r.duration=Tr,r.isMoment=x,r.weekdays=ma,r.parseZone=ca,r.localeData=mn,r.isDuration=or,r.monthsShort=ya,r.weekdaysMin=ka,r.defineLocale=vn,r.updateLocale=yn,r.locales=gn,r.weekdaysShort=ga,r.normalizeUnits=re,r.relativeTimeRounding=no,r.relativeTimeThreshold=ro,r.calendarFormat=Vr,r.prototype=ua,r.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},r}()},725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,a){for(var o,u,s=i(e),c=1;c<arguments.length;c++){for(var l in o=Object(arguments[c]))n.call(o,l)&&(s[l]=o[l]);if(t){u=t(o);for(var f=0;f<u.length;f++)r.call(o,u[f])&&(s[u[f]]=o[u[f]])}}return s}},463:function(e,t,r){"use strict";var i=r(791),a=r(725),o=r(296);function u(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!i)throw Error(u(227));var s=new Set,c={};function l(e,t){f(e,t),f(e+"Capture",t)}function f(e,t){for(c[e]=t,e=0;e<t.length;e++)s.add(t[e])}var h=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p=Object.prototype.hasOwnProperty,v={},y={};function m(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var k=/[\-:]([a-z])/g;function w(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!p.call(y,e)||!p.call(v,e)&&(d.test(e)?y[e]=!0:(v[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(k,w);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(k,w);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(k,w);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var _=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=60103,S=60106,I=60107,E=60108,T=60114,C=60109,A=60110,N=60112,D=60113,O=60120,R=60115,P=60116,L=60121,M=60128,F=60129,U=60130,j=60131;if("function"===typeof Symbol&&Symbol.for){var V=Symbol.for;x=V("react.element"),S=V("react.portal"),I=V("react.fragment"),E=V("react.strict_mode"),T=V("react.profiler"),C=V("react.provider"),A=V("react.context"),N=V("react.forward_ref"),D=V("react.suspense"),O=V("react.suspense_list"),R=V("react.memo"),P=V("react.lazy"),L=V("react.block"),V("react.scope"),M=V("react.opaque.id"),F=V("react.debug_trace_mode"),U=V("react.offscreen"),j=V("react.legacy_hidden")}var B,q="function"===typeof Symbol&&Symbol.iterator;function z(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=q&&e[q]||e["@@iterator"])?e:null}function W(e){if(void 0===B)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);B=t&&t[1]||""}return"\n"+B+e}var G=!1;function H(e,t){if(!e||G)return"";G=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(s){var r=s}Reflect.construct(e,[],t)}else{try{t.call()}catch(s){r=s}e.call(t.prototype)}else{try{throw Error()}catch(s){r=s}e()}}catch(s){if(s&&r&&"string"===typeof s.stack){for(var i=s.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=u);break}}}finally{G=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?W(e):""}function K(e){switch(e.tag){case 5:return W(e.type);case 16:return W("Lazy");case 13:return W("Suspense");case 19:return W("SuspenseList");case 0:case 2:case 15:return e=H(e.type,!1);case 11:return e=H(e.type.render,!1);case 22:return e=H(e.type._render,!1);case 1:return e=H(e.type,!0);default:return""}}function Y(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case I:return"Fragment";case S:return"Portal";case T:return"Profiler";case E:return"StrictMode";case D:return"Suspense";case O:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case A:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case R:return Y(e.type);case L:return Y(e._render);case P:t=e._payload,e=e._init;try{return Y(e(t))}catch(n){}}return null}function Q(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function J(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function X(e){e._valueTracker||(e._valueTracker=function(e){var t=J(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Z(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=J(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function $(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function ee(e,t){var n=t.checked;return a({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function te(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function ne(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function re(e,t){ne(e,t);var n=Q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ae(e,t.type,n):t.hasOwnProperty("defaultValue")&&ae(e,t.type,Q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function ie(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ae(e,t,n){"number"===t&&$(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function oe(e,t){return e=a({children:void 0},t),(t=function(e){var t="";return i.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function ue(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(u(91));return a({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ce(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(u(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(u(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Q(n)}}function le(e,t){var n=Q(t.value),r=Q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function fe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var he="http://www.w3.org/1999/xhtml",de="http://www.w3.org/2000/svg";function pe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ve(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?pe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ye,me,ge=(me=function(e,t){if(e.namespaceURI!==de||"innerHTML"in e)e.innerHTML=t;else{for((ye=ye||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ye.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return me(e,t)}))}:me);function ke(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var we={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},be=["Webkit","ms","Moz","O"];function _e(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||we.hasOwnProperty(e)&&we[e]?(""+t).trim():t+"px"}function xe(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=_e(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(we).forEach((function(e){be.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),we[t]=we[e]}))}));var Se=a({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ie(e,t){if(t){if(Se[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(u(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(u(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(u(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(u(62))}}function Ee(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Te(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ce=null,Ae=null,Ne=null;function De(e){if(e=ii(e)){if("function"!==typeof Ce)throw Error(u(280));var t=e.stateNode;t&&(t=oi(t),Ce(e.stateNode,e.type,t))}}function Oe(e){Ae?Ne?Ne.push(e):Ne=[e]:Ae=e}function Re(){if(Ae){var e=Ae,t=Ne;if(Ne=Ae=null,De(e),t)for(e=0;e<t.length;e++)De(t[e])}}function Pe(e,t){return e(t)}function Le(e,t,n,r,i){return e(t,n,r,i)}function Me(){}var Fe=Pe,Ue=!1,je=!1;function Ve(){null===Ae&&null===Ne||(Me(),Re())}function Be(e,t){var n=e.stateNode;if(null===n)return null;var r=oi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(u(231,t,typeof n));return n}var qe=!1;if(h)try{var ze={};Object.defineProperty(ze,"passive",{get:function(){qe=!0}}),window.addEventListener("test",ze,ze),window.removeEventListener("test",ze,ze)}catch(me){qe=!1}function We(e,t,r,i,a,o,u,s,c){var l=Array.prototype.slice.call(arguments,3);try{t.apply(r,l)}catch(n){this.onError(n)}}var Ge=!1,He=null,Ke=!1,Ye=null,Qe={onError:function(e){Ge=!0,He=e}};function Je(e,t,n,r,i,a,o,u,s){Ge=!1,He=null,We.apply(Qe,arguments)}function Xe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ze(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function $e(e){if(Xe(e)!==e)throw Error(u(188))}function et(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Xe(e)))throw Error(u(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return $e(i),e;if(a===r)return $e(i),t;a=a.sibling}throw Error(u(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,s=i.child;s;){if(s===n){o=!0,n=i,r=a;break}if(s===r){o=!0,r=i,n=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===n){o=!0,n=a,r=i;break}if(s===r){o=!0,r=a,n=i;break}s=s.sibling}if(!o)throw Error(u(189))}}if(n.alternate!==r)throw Error(u(190))}if(3!==n.tag)throw Error(u(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function tt(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var nt,rt,it,at,ot=!1,ut=[],st=null,ct=null,lt=null,ft=new Map,ht=new Map,dt=[],pt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function vt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function yt(e,t){switch(e){case"focusin":case"focusout":st=null;break;case"dragenter":case"dragleave":ct=null;break;case"mouseover":case"mouseout":lt=null;break;case"pointerover":case"pointerout":ft.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ht.delete(t.pointerId)}}function mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=vt(t,n,r,i,a),null!==t&&(null!==(t=ii(t))&&rt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function gt(e){var t=ri(e.target);if(null!==t){var n=Xe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ze(n)))return e.blockedOn=t,void at(e.lanePriority,(function(){o.unstable_runWithPriority(e.priority,(function(){it(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function kt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=en(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ii(n))&&rt(t),e.blockedOn=n,!1;t.shift()}return!0}function wt(e,t,n){kt(e)&&n.delete(t)}function bt(){for(ot=!1;0<ut.length;){var e=ut[0];if(null!==e.blockedOn){null!==(e=ii(e.blockedOn))&&nt(e);break}for(var t=e.targetContainers;0<t.length;){var n=en(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ut.shift()}null!==st&&kt(st)&&(st=null),null!==ct&&kt(ct)&&(ct=null),null!==lt&&kt(lt)&&(lt=null),ft.forEach(wt),ht.forEach(wt)}function _t(e,t){e.blockedOn===t&&(e.blockedOn=null,ot||(ot=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,bt)))}function xt(e){function t(t){return _t(t,e)}if(0<ut.length){_t(ut[0],e);for(var n=1;n<ut.length;n++){var r=ut[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==st&&_t(st,e),null!==ct&&_t(ct,e),null!==lt&&_t(lt,e),ft.forEach(t),ht.forEach(t),n=0;n<dt.length;n++)(r=dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<dt.length&&null===(n=dt[0]).blockedOn;)gt(n),null===n.blockedOn&&dt.shift()}function St(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var It={animationend:St("Animation","AnimationEnd"),animationiteration:St("Animation","AnimationIteration"),animationstart:St("Animation","AnimationStart"),transitionend:St("Transition","TransitionEnd")},Et={},Tt={};function Ct(e){if(Et[e])return Et[e];if(!It[e])return e;var t,n=It[e];for(t in n)if(n.hasOwnProperty(t)&&t in Tt)return Et[e]=n[t];return e}h&&(Tt=document.createElement("div").style,"AnimationEvent"in window||(delete It.animationend.animation,delete It.animationiteration.animation,delete It.animationstart.animation),"TransitionEvent"in window||delete It.transitionend.transition);var At=Ct("animationend"),Nt=Ct("animationiteration"),Dt=Ct("animationstart"),Ot=Ct("transitionend"),Rt=new Map,Pt=new Map,Lt=["abort","abort",At,"animationEnd",Nt,"animationIteration",Dt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Ot,"transitionEnd","waiting","waiting"];function Mt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Pt.set(r,t),Rt.set(r,i),l(i,[r])}}(0,o.unstable_now)();var Ft=8;function Ut(e){if(0!==(1&e))return Ft=15,1;if(0!==(2&e))return Ft=14,2;if(0!==(4&e))return Ft=13,4;var t=24&e;return 0!==t?(Ft=12,t):0!==(32&e)?(Ft=11,32):0!==(t=192&e)?(Ft=10,t):0!==(256&e)?(Ft=9,256):0!==(t=3584&e)?(Ft=8,t):0!==(4096&e)?(Ft=7,4096):0!==(t=4186112&e)?(Ft=6,t):0!==(t=62914560&e)?(Ft=5,t):67108864&e?(Ft=4,67108864):0!==(134217728&e)?(Ft=3,134217728):0!==(t=805306368&e)?(Ft=2,t):0!==(1073741824&e)?(Ft=1,1073741824):(Ft=8,e)}function jt(e,t){var n=e.pendingLanes;if(0===n)return Ft=0;var r=0,i=0,a=e.expiredLanes,o=e.suspendedLanes,u=e.pingedLanes;if(0!==a)r=a,i=Ft=15;else if(0!==(a=134217727&n)){var s=a&~o;0!==s?(r=Ut(s),i=Ft):0!==(u&=a)&&(r=Ut(u),i=Ft)}else 0!==(a=n&~o)?(r=Ut(a),i=Ft):0!==u&&(r=Ut(u),i=Ft);if(0===r)return 0;if(r=n&((0>(r=31-Gt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&o)){if(Ut(t),i<=Ft)return t;Ft=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Gt(t)),r|=e[n],t&=~i;return r}function Vt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Bt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=qt(24&~t))?Bt(10,t):e;case 10:return 0===(e=qt(192&~t))?Bt(8,t):e;case 8:return 0===(e=qt(3584&~t))&&(0===(e=qt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=qt(805306368&~t))&&(t=268435456),t}throw Error(u(358,e))}function qt(e){return e&-e}function zt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Wt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Gt(t)]=n}var Gt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Ht(e)/Kt|0)|0},Ht=Math.log,Kt=Math.LN2;var Yt=o.unstable_UserBlockingPriority,Qt=o.unstable_runWithPriority,Jt=!0;function Xt(e,t,n,r){Ue||Me();var i=$t,a=Ue;Ue=!0;try{Le(i,e,t,n,r)}finally{(Ue=a)||Ve()}}function Zt(e,t,n,r){Qt(Yt,$t.bind(null,e,t,n,r))}function $t(e,t,n,r){var i;if(Jt)if((i=0===(4&t))&&0<ut.length&&-1<pt.indexOf(e))e=vt(null,e,t,n,r),ut.push(e);else{var a=en(e,t,n,r);if(null===a)i&&yt(e,r);else{if(i){if(-1<pt.indexOf(e))return e=vt(a,e,t,n,r),void ut.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return st=mt(st,e,t,n,r,i),!0;case"dragenter":return ct=mt(ct,e,t,n,r,i),!0;case"mouseover":return lt=mt(lt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return ft.set(a,mt(ft.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,ht.set(a,mt(ht.get(a)||null,e,t,n,r,i)),!0}return!1}(a,e,t,n,r))return;yt(e,r)}Mr(e,t,r,null,n)}}}function en(e,t,n,r){var i=Te(r);if(null!==(i=ri(i))){var a=Xe(i);if(null===a)i=null;else{var o=a.tag;if(13===o){if(null!==(i=Ze(a)))return i;i=null}else if(3===o){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Mr(e,t,r,i,n),null}var tn=null,nn=null,rn=null;function an(){if(rn)return rn;var e,t,n=nn,r=n.length,i="value"in tn?tn.value:tn.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return rn=i.slice(e,1<t?1-t:void 0)}function on(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function un(){return!0}function sn(){return!1}function cn(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?un:sn,this.isPropagationStopped=sn,this}return a(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=un)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=un)},persist:function(){},isPersistent:un}),t}var ln,fn,hn,dn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pn=cn(dn),vn=a({},dn,{view:0,detail:0}),yn=cn(vn),mn=a({},vn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:An,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==hn&&(hn&&"mousemove"===e.type?(ln=e.screenX-hn.screenX,fn=e.screenY-hn.screenY):fn=ln=0,hn=e),ln)},movementY:function(e){return"movementY"in e?e.movementY:fn}}),gn=cn(mn),kn=cn(a({},mn,{dataTransfer:0})),wn=cn(a({},vn,{relatedTarget:0})),bn=cn(a({},dn,{animationName:0,elapsedTime:0,pseudoElement:0})),_n=a({},dn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xn=cn(_n),Sn=cn(a({},dn,{data:0})),In={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},En={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Tn[e])&&!!t[e]}function An(){return Cn}var Nn=a({},vn,{key:function(e){if(e.key){var t=In[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=on(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?En[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:An,charCode:function(e){return"keypress"===e.type?on(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?on(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Dn=cn(Nn),On=cn(a({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Rn=cn(a({},vn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:An})),Pn=cn(a({},dn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Ln=a({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Mn=cn(Ln),Fn=[9,13,27,32],Un=h&&"CompositionEvent"in window,jn=null;h&&"documentMode"in document&&(jn=document.documentMode);var Vn=h&&"TextEvent"in window&&!jn,Bn=h&&(!Un||jn&&8<jn&&11>=jn),qn=String.fromCharCode(32),zn=!1;function Wn(e,t){switch(e){case"keyup":return-1!==Fn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Hn=!1;var Kn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Kn[e.type]:"textarea"===t}function Qn(e,t,n,r){Oe(r),0<(t=Ur(t,"onChange")).length&&(n=new pn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Jn=null,Xn=null;function Zn(e){Nr(e,0)}function $n(e){if(Z(ai(e)))return e}function er(e,t){if("change"===e)return t}var tr=!1;if(h){var nr;if(h){var rr="oninput"in document;if(!rr){var ir=document.createElement("div");ir.setAttribute("oninput","return;"),rr="function"===typeof ir.oninput}nr=rr}else nr=!1;tr=nr&&(!document.documentMode||9<document.documentMode)}function ar(){Jn&&(Jn.detachEvent("onpropertychange",or),Xn=Jn=null)}function or(e){if("value"===e.propertyName&&$n(Xn)){var t=[];if(Qn(t,Xn,e,Te(e)),e=Zn,Ue)e(t);else{Ue=!0;try{Pe(e,t)}finally{Ue=!1,Ve()}}}}function ur(e,t,n){"focusin"===e?(ar(),Xn=n,(Jn=t).attachEvent("onpropertychange",or)):"focusout"===e&&ar()}function sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Xn)}function cr(e,t){if("click"===e)return $n(t)}function lr(e,t){if("input"===e||"change"===e)return $n(t)}var fr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},hr=Object.prototype.hasOwnProperty;function dr(e,t){if(fr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!hr.call(t,n[r])||!fr(e[n[r]],t[n[r]]))return!1;return!0}function pr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function vr(e,t){var n,r=pr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=pr(r)}}function yr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?yr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mr(){for(var e=window,t=$();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=$((e=t.contentWindow).document)}return t}function gr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var kr=h&&"documentMode"in document&&11>=document.documentMode,wr=null,br=null,_r=null,xr=!1;function Sr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;xr||null==wr||wr!==$(r)||("selectionStart"in(r=wr)&&gr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},_r&&dr(_r,r)||(_r=r,0<(r=Ur(br,"onSelect")).length&&(t=new pn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=wr)))}Mt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Mt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Mt(Lt,2);for(var Ir="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Er=0;Er<Ir.length;Er++)Pt.set(Ir[Er],0);f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tr));function Ar(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,o,s,c){if(Je.apply(this,arguments),Ge){if(!Ge)throw Error(u(198));var l=He;Ge=!1,He=null,Ke||(Ke=!0,Ye=l)}}(r,t,void 0,e),e.currentTarget=null}function Nr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Ar(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Ar(i,u,c),a=s}}}if(Ke)throw e=Ye,Ke=!1,Ye=null,e}function Dr(e,t){var n=ui(t),r=e+"__bubble";n.has(r)||(Lr(t,e,2,!1),n.add(r))}var Or="_reactListening"+Math.random().toString(36).slice(2);function Rr(e){e[Or]||(e[Or]=!0,s.forEach((function(t){Cr.has(t)||Pr(t,!1,e,null),Pr(t,!0,e,null)})))}function Pr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=n;if("selectionchange"===e&&9!==n.nodeType&&(a=n.ownerDocument),null!==r&&!t&&Cr.has(e)){if("scroll"!==e)return;i|=2,a=r}var o=ui(a),u=e+"__"+(t?"capture":"bubble");o.has(u)||(t&&(i|=4),Lr(a,e,i,t),o.add(u))}function Lr(e,t,n,r){var i=Pt.get(t);switch(void 0===i?2:i){case 0:i=Xt;break;case 1:i=Zt;break;default:i=$t}n=i.bind(null,t,n,e),i=void 0,!qe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Mr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=ri(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}!function(e,t,n){if(je)return e(t,n);je=!0;try{Fe(e,t,n)}finally{je=!1,Ve()}}((function(){var r=a,i=Te(n),o=[];e:{var u=Rt.get(e);if(void 0!==u){var s=pn,c=e;switch(e){case"keypress":if(0===on(n))break e;case"keydown":case"keyup":s=Dn;break;case"focusin":c="focus",s=wn;break;case"focusout":c="blur",s=wn;break;case"beforeblur":case"afterblur":s=wn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=kn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Rn;break;case At:case Nt:case Dt:s=bn;break;case Ot:s=Pn;break;case"scroll":s=yn;break;case"wheel":s=Mn;break;case"copy":case"cut":case"paste":s=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=On}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Be(p,h))&&l.push(Fr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!ri(c)&&!c[ti])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?ri(c):null)&&(c!==(f=Xe(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=gn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=On,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:ai(s),d=null==c?u:ai(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,ri(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=jr(d))p++;for(d=0,v=h;v;v=jr(v))d++;for(;0<p-d;)l=jr(l),p--;for(;0<d-p;)h=jr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=jr(l),h=jr(h)}l=null}else l=null;null!==s&&Vr(o,u,s,l,!1),null!==c&&null!==f&&Vr(o,f,c,l,!0)}if("select"===(s=(u=r?ai(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var y=er;else if(Yn(u))if(tr)y=lr;else{y=sr;var m=ur}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(y=cr);switch(y&&(y=y(e,r))?Qn(o,y,n,i):(m&&m(e,u,r),"focusout"===e&&(m=u._wrapperState)&&m.controlled&&"number"===u.type&&ae(u,"number",u.value)),m=r?ai(r):window,e){case"focusin":(Yn(m)||"true"===m.contentEditable)&&(wr=m,br=r,_r=null);break;case"focusout":_r=br=wr=null;break;case"mousedown":xr=!0;break;case"contextmenu":case"mouseup":case"dragend":xr=!1,Sr(o,n,i);break;case"selectionchange":if(kr)break;case"keydown":case"keyup":Sr(o,n,i)}var g;if(Un)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Hn?Wn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Bn&&"ko"!==n.locale&&(Hn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Hn&&(g=an()):(nn="value"in(tn=i)?tn.value:tn.textContent,Hn=!0)),0<(m=Ur(r,k)).length&&(k=new Sn(k,e,null,n,i),o.push({event:k,listeners:m}),g?k.data=g:null!==(g=Gn(n))&&(k.data=g))),(g=Vn?function(e,t){switch(e){case"compositionend":return Gn(t);case"keypress":return 32!==t.which?null:(zn=!0,qn);case"textInput":return(e=t.data)===qn&&zn?null:e;default:return null}}(e,n):function(e,t){if(Hn)return"compositionend"===e||!Un&&Wn(e,t)?(e=an(),rn=nn=tn=null,Hn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Bn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Ur(r,"onBeforeInput")).length&&(i=new Sn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Nr(o,t)}))}function Fr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ur(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Be(e,n))&&r.unshift(Fr(e,a,i)),null!=(a=Be(e,t))&&r.push(Fr(e,a,i))),e=e.return}return r}function jr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Vr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Be(n,a))&&o.unshift(Fr(n,s,u)):i||null!=(s=Be(n,a))&&o.push(Fr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function Br(){}var qr=null,zr=null;function Wr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Gr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Hr="function"===typeof setTimeout?setTimeout:void 0,Kr="function"===typeof clearTimeout?clearTimeout:void 0;function Yr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Qr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Jr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Xr=0;var Zr=Math.random().toString(36).slice(2),$r="__reactFiber$"+Zr,ei="__reactProps$"+Zr,ti="__reactContainer$"+Zr,ni="__reactEvents$"+Zr;function ri(e){var t=e[$r];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ti]||n[$r]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Jr(e);null!==e;){if(n=e[$r])return n;e=Jr(e)}return t}n=(e=n).parentNode}return null}function ii(e){return!(e=e[$r]||e[ti])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ai(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(u(33))}function oi(e){return e[ei]||null}function ui(e){var t=e[ni];return void 0===t&&(t=e[ni]=new Set),t}var si=[],ci=-1;function li(e){return{current:e}}function fi(e){0>ci||(e.current=si[ci],si[ci]=null,ci--)}function hi(e,t){ci++,si[ci]=e.current,e.current=t}var di={},pi=li(di),vi=li(!1),yi=di;function mi(e,t){var n=e.type.contextTypes;if(!n)return di;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function gi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function ki(){fi(vi),fi(pi)}function wi(e,t,n){if(pi.current!==di)throw Error(u(168));hi(pi,t),hi(vi,n)}function bi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in e))throw Error(u(108,Y(t)||"Unknown",i));return a({},n,r)}function _i(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||di,yi=pi.current,hi(pi,e),hi(vi,vi.current),!0}function xi(e,t,n){var r=e.stateNode;if(!r)throw Error(u(169));n?(e=bi(e,t,yi),r.__reactInternalMemoizedMergedChildContext=e,fi(vi),fi(pi),hi(pi,e)):fi(vi),hi(vi,n)}var Si=null,Ii=null,Ei=o.unstable_runWithPriority,Ti=o.unstable_scheduleCallback,Ci=o.unstable_cancelCallback,Ai=o.unstable_shouldYield,Ni=o.unstable_requestPaint,Di=o.unstable_now,Oi=o.unstable_getCurrentPriorityLevel,Ri=o.unstable_ImmediatePriority,Pi=o.unstable_UserBlockingPriority,Li=o.unstable_NormalPriority,Mi=o.unstable_LowPriority,Fi=o.unstable_IdlePriority,Ui={},ji=void 0!==Ni?Ni:function(){},Vi=null,Bi=null,qi=!1,zi=Di(),Wi=1e4>zi?Di:function(){return Di()-zi};function Gi(){switch(Oi()){case Ri:return 99;case Pi:return 98;case Li:return 97;case Mi:return 96;case Fi:return 95;default:throw Error(u(332))}}function Hi(e){switch(e){case 99:return Ri;case 98:return Pi;case 97:return Li;case 96:return Mi;case 95:return Fi;default:throw Error(u(332))}}function Ki(e,t){return e=Hi(e),Ei(e,t)}function Yi(e,t,n){return e=Hi(e),Ti(e,t,n)}function Qi(){if(null!==Bi){var e=Bi;Bi=null,Ci(e)}Ji()}function Ji(){if(!qi&&null!==Vi){qi=!0;var e=0;try{var t=Vi;Ki(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Vi=null}catch(n){throw null!==Vi&&(Vi=Vi.slice(e+1)),Ti(Ri,Qi),n}finally{qi=!1}}}var Xi=_.ReactCurrentBatchConfig;function Zi(e,t){if(e&&e.defaultProps){for(var n in t=a({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var $i=li(null),ea=null,ta=null,na=null;function ra(){na=ta=ea=null}function ia(e){var t=$i.current;fi($i),e.type._context._currentValue=t}function aa(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function oa(e,t){ea=e,na=ta=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Uo=!0),e.firstContext=null)}function ua(e,t){if(na!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(na=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ta){if(null===ea)throw Error(u(308));ta=t,ea.dependencies={lanes:0,firstContext:t,responders:null}}else ta=ta.next=t;return e._currentValue}var sa=!1;function ca(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function la(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function fa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ha(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function da(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function pa(e,t,n,r){var i=e.updateQueue;sa=!1;var o=i.firstBaseUpdate,u=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var c=s,l=c.next;c.next=null,null===u?o=l:u.next=l,u=c;var f=e.alternate;if(null!==f){var h=(f=f.updateQueue).lastBaseUpdate;h!==u&&(null===h?f.firstBaseUpdate=l:h.next=l,f.lastBaseUpdate=c)}}if(null!==o){for(h=i.baseState,u=0,f=l=c=null;;){s=o.lane;var d=o.eventTime;if((r&s)===s){null!==f&&(f=f.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,v=o;switch(s=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){h=p.call(d,h,s);break e}h=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(s="function"===typeof(p=v.payload)?p.call(d,h,s):p)||void 0===s)break e;h=a({},h,s);break e;case 2:sa=!0}}null!==o.callback&&(e.flags|=32,null===(s=i.effects)?i.effects=[o]:s.push(o))}else d={eventTime:d,lane:s,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===f?(l=f=d,c=h):f=f.next=d,u|=s;if(null===(o=o.next)){if(null===(s=i.shared.pending))break;o=s.next,s.next=null,i.lastBaseUpdate=s,i.shared.pending=null}}null===f&&(c=h),i.baseState=c,i.firstBaseUpdate=l,i.lastBaseUpdate=f,qu|=u,e.lanes=u,e.memoizedState=h}}function va(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(u(191,i));i.call(r)}}}var ya=(new i.Component).refs;function ma(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:a({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ga={isMounted:function(e){return!!(e=e._reactInternals)&&Xe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ds(),i=ps(e),a=fa(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),ha(e,a),vs(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ds(),i=ps(e),a=fa(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),ha(e,a),vs(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ds(),r=ps(e),i=fa(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),ha(e,i),vs(e,r,n)}};function ka(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!dr(n,r)||!dr(i,a))}function wa(e,t,n){var r=!1,i=di,a=t.contextType;return"object"===typeof a&&null!==a?a=ua(a):(i=gi(t)?yi:pi.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?mi(e,i):di),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ga,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ba(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ga.enqueueReplaceState(t,t.state,null)}function _a(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ya,ca(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=ua(a):(a=gi(t)?yi:pi.current,i.context=mi(e,a)),pa(e,n,i,r),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ma(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ga.enqueueReplaceState(i,i.state,null),pa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var xa=Array.isArray;function Sa(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(u(309));var r=n.stateNode}if(!r)throw Error(u(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===ya&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(u(284));if(!n._owner)throw Error(u(290,e))}return e}function Ia(e,t){if("textarea"!==e.type)throw Error(u(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Ea(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ks(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function o(t){return e&&null===t.alternate&&(t.flags=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Xs(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=Sa(e,t,n),r.return=e,r):((r=Ys(n.type,n.key,n.props,null,e.mode,r)).ref=Sa(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Zs(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Qs(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Xs(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Ys(t.type,t.key,t.props,null,e.mode,n)).ref=Sa(e,null,t),n.return=e,n;case S:return(t=Zs(t,e.mode,n)).return=e,t}if(xa(t)||z(t))return(t=Qs(t,e.mode,n,null)).return=e,t;Ia(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?n.type===I?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case S:return n.key===i?l(e,t,n,r):null}if(xa(n)||z(n))return null!==i?null:f(e,t,n,r,null);Ia(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return e=e.get(null===r.key?n:r.key)||null,r.type===I?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case S:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(xa(r)||z(r))return f(t,e=e.get(n)||null,r,i,null);Ia(t,r)}return null}function v(i,o,u,s){for(var c=null,l=null,f=o,v=o=0,y=null;null!==f&&v<u.length;v++){f.index>v?(y=f,f=null):y=f.sibling;var m=d(i,f,u[v],s);if(null===m){null===f&&(f=y);break}e&&f&&null===m.alternate&&t(i,f),o=a(m,o,v),null===l?c=m:l.sibling=m,l=m,f=y}if(v===u.length)return n(i,f),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(o=a(f,o,v),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);v<u.length;v++)null!==(y=p(f,i,v,u[v],s))&&(e&&null!==y.alternate&&f.delete(null===y.key?v:y.key),o=a(y,o,v),null===l?c=y:l.sibling=y,l=y);return e&&f.forEach((function(e){return t(i,e)})),c}function y(i,o,s,c){var l=z(s);if("function"!==typeof l)throw Error(u(150));if(null==(s=l.call(s)))throw Error(u(151));for(var f=l=null,v=o,y=o=0,m=null,g=s.next();null!==v&&!g.done;y++,g=s.next()){v.index>y?(m=v,v=null):m=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=m);break}e&&v&&null===k.alternate&&t(i,v),o=a(k,o,y),null===f?l=k:f.sibling=k,f=k,v=m}if(g.done)return n(i,v),l;if(null===v){for(;!g.done;y++,g=s.next())null!==(g=h(i,g.value,c))&&(o=a(g,o,y),null===f?l=g:f.sibling=g,f=g);return l}for(v=r(i,v);!g.done;y++,g=s.next())null!==(g=p(v,i,y,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?y:g.key),o=a(g,o,y),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),l}return function(e,r,a,s){var c="object"===typeof a&&null!==a&&a.type===I&&null===a.key;c&&(a=a.props.children);var l="object"===typeof a&&null!==a;if(l)switch(a.$$typeof){case x:e:{for(l=a.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(a.type===I){n(e,c.sibling),(r=i(c,a.props.children)).return=e,e=r;break e}}else if(c.elementType===a.type){n(e,c.sibling),(r=i(c,a.props)).ref=Sa(e,c,a),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}a.type===I?((r=Qs(a.props.children,e.mode,s,a.key)).return=e,e=r):((s=Ys(a.type,a.key,a.props,null,e.mode,s)).ref=Sa(e,r,a),s.return=e,e=s)}return o(e);case S:e:{for(c=a.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Zs(a,e.mode,s)).return=e,e=r}return o(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=Xs(a,e.mode,s)).return=e,e=r),o(e);if(xa(a))return v(e,r,a,s);if(z(a))return y(e,r,a,s);if(l&&Ia(e,a),"undefined"===typeof a&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(u(152,Y(e.type)||"Component"))}return n(e,r)}}var Ta=Ea(!0),Ca=Ea(!1),Aa={},Na=li(Aa),Da=li(Aa),Oa=li(Aa);function Ra(e){if(e===Aa)throw Error(u(174));return e}function Pa(e,t){switch(hi(Oa,t),hi(Da,e),hi(Na,Aa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ve(null,"");break;default:t=ve(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}fi(Na),hi(Na,t)}function La(){fi(Na),fi(Da),fi(Oa)}function Ma(e){Ra(Oa.current);var t=Ra(Na.current),n=ve(t,e.type);t!==n&&(hi(Da,e),hi(Na,n))}function Fa(e){Da.current===e&&(fi(Na),fi(Da))}var Ua=li(0);function ja(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Va=null,Ba=null,qa=!1;function za(e,t){var n=Gs(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Wa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Ga(e){if(qa){var t=Ba;if(t){var n=t;if(!Wa(e,t)){if(!(t=Qr(n.nextSibling))||!Wa(e,t))return e.flags=-1025&e.flags|2,qa=!1,void(Va=e);za(Va,n)}Va=e,Ba=Qr(t.firstChild)}else e.flags=-1025&e.flags|2,qa=!1,Va=e}}function Ha(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Va=e}function Ka(e){if(e!==Va)return!1;if(!qa)return Ha(e),qa=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Gr(t,e.memoizedProps))for(t=Ba;t;)za(e,t),t=Qr(t.nextSibling);if(Ha(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(u(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Ba=Qr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Ba=null}}else Ba=Va?Qr(e.stateNode.nextSibling):null;return!0}function Ya(){Ba=Va=null,qa=!1}var Qa=[];function Ja(){for(var e=0;e<Qa.length;e++)Qa[e]._workInProgressVersionPrimary=null;Qa.length=0}var Xa=_.ReactCurrentDispatcher,Za=_.ReactCurrentBatchConfig,$a=0,eo=null,to=null,no=null,ro=!1,io=!1;function ao(){throw Error(u(321))}function oo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!fr(e[n],t[n]))return!1;return!0}function uo(e,t,n,r,i,a){if($a=a,eo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Xa.current=null===e||null===e.memoizedState?Po:Lo,e=n(r,i),io){a=0;do{if(io=!1,!(25>a))throw Error(u(301));a+=1,no=to=null,t.updateQueue=null,Xa.current=Mo,e=n(r,i)}while(io)}if(Xa.current=Ro,t=null!==to&&null!==to.next,$a=0,no=to=eo=null,ro=!1,t)throw Error(u(300));return e}function so(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===no?eo.memoizedState=no=e:no=no.next=e,no}function co(){if(null===to){var e=eo.alternate;e=null!==e?e.memoizedState:null}else e=to.next;var t=null===no?eo.memoizedState:no.next;if(null!==t)no=t,to=e;else{if(null===e)throw Error(u(310));e={memoizedState:(to=e).memoizedState,baseState:to.baseState,baseQueue:to.baseQueue,queue:to.queue,next:null},null===no?eo.memoizedState=no=e:no=no.next=e}return no}function lo(e,t){return"function"===typeof t?t(e):t}function fo(e){var t=co(),n=t.queue;if(null===n)throw Error(u(311));n.lastRenderedReducer=e;var r=to,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var s=o=a=null,c=i;do{var l=c.lane;if(($a&l)===l)null!==s&&(s=s.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var f={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===s?(o=s=f,a=r):s=s.next=f,eo.lanes|=l,qu|=l}c=c.next}while(null!==c&&c!==i);null===s?a=r:s.next=o,fr(r,t.memoizedState)||(Uo=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=s,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function ho(e){var t=co(),n=t.queue;if(null===n)throw Error(u(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{a=e(a,o.action),o=o.next}while(o!==i);fr(a,t.memoizedState)||(Uo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function po(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=($a&e)===e)&&(t._workInProgressVersionPrimary=r,Qa.push(t))),e)return n(t._source);throw Qa.push(t),Error(u(350))}function vo(e,t,n,r){var i=Pu;if(null===i)throw Error(u(349));var a=t._getVersion,o=a(t._source),s=Xa.current,c=s.useState((function(){return po(i,t,n)})),l=c[1],f=c[0];c=no;var h=e.memoizedState,d=h.refs,p=d.getSnapshot,v=h.source;h=h.subscribe;var y=eo;return e.memoizedState={refs:d,source:t,subscribe:r},s.useEffect((function(){d.getSnapshot=n,d.setSnapshot=l;var e=a(t._source);if(!fr(o,e)){e=n(t._source),fr(f,e)||(l(e),e=ps(y),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,u=e;0<u;){var s=31-Gt(u),c=1<<s;r[s]|=e,u&=~c}}}),[n,t,r]),s.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=ps(y);i.mutableReadLanes|=r&i.pendingLanes}catch(a){n((function(){throw a}))}}))}),[t,r]),fr(p,n)&&fr(v,t)&&fr(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:lo,lastRenderedState:f}).dispatch=l=Oo.bind(null,eo,e),c.queue=e,c.baseQueue=null,f=po(i,t,n),c.memoizedState=c.baseState=f),f}function yo(e,t,n){return vo(co(),e,t,n)}function mo(e){var t=so();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:lo,lastRenderedState:e}).dispatch=Oo.bind(null,eo,e),[t.memoizedState,e]}function go(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=eo.updateQueue)?(t={lastEffect:null},eo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ko(e){return e={current:e},so().memoizedState=e}function wo(){return co().memoizedState}function bo(e,t,n,r){var i=so();eo.flags|=e,i.memoizedState=go(1|t,n,void 0,void 0===r?null:r)}function _o(e,t,n,r){var i=co();r=void 0===r?null:r;var a=void 0;if(null!==to){var o=to.memoizedState;if(a=o.destroy,null!==r&&oo(r,o.deps))return void go(t,n,a,r)}eo.flags|=e,i.memoizedState=go(1|t,n,a,r)}function xo(e,t){return bo(516,4,e,t)}function So(e,t){return _o(516,4,e,t)}function Io(e,t){return _o(4,2,e,t)}function Eo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function To(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,_o(4,2,Eo.bind(null,t,e),n)}function Co(){}function Ao(e,t){var n=co();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&oo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function No(e,t){var n=co();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&oo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Do(e,t){var n=Gi();Ki(98>n?98:n,(function(){e(!0)})),Ki(97<n?97:n,(function(){var n=Za.transition;Za.transition=1;try{e(!1),t()}finally{Za.transition=n}}))}function Oo(e,t,n){var r=ds(),i=ps(e),a={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?a.next=a:(a.next=o.next,o.next=a),t.pending=a,o=e.alternate,e===eo||null!==o&&o===eo)io=ro=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var u=t.lastRenderedState,s=o(u,n);if(a.eagerReducer=o,a.eagerState=s,fr(s,u))return}catch(c){}vs(e,i,r)}}var Ro={readContext:ua,useCallback:ao,useContext:ao,useEffect:ao,useImperativeHandle:ao,useLayoutEffect:ao,useMemo:ao,useReducer:ao,useRef:ao,useState:ao,useDebugValue:ao,useDeferredValue:ao,useTransition:ao,useMutableSource:ao,useOpaqueIdentifier:ao,unstable_isNewReconciler:!1},Po={readContext:ua,useCallback:function(e,t){return so().memoizedState=[e,void 0===t?null:t],e},useContext:ua,useEffect:xo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,bo(4,2,Eo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return bo(4,2,e,t)},useMemo:function(e,t){var n=so();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=so();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Oo.bind(null,eo,e),[r.memoizedState,e]},useRef:ko,useState:mo,useDebugValue:Co,useDeferredValue:function(e){var t=mo(e),n=t[0],r=t[1];return xo((function(){var t=Za.transition;Za.transition=1;try{r(e)}finally{Za.transition=t}}),[e]),n},useTransition:function(){var e=mo(!1),t=e[0];return ko(e=Do.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=so();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},vo(r,e,t,n)},useOpaqueIdentifier:function(){if(qa){var e=!1,t=function(e){return{$$typeof:M,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Xr++).toString(36))),Error(u(355))})),n=mo(t)[1];return 0===(2&eo.mode)&&(eo.flags|=516,go(5,(function(){n("r:"+(Xr++).toString(36))}),void 0,null)),t}return mo(t="r:"+(Xr++).toString(36)),t},unstable_isNewReconciler:!1},Lo={readContext:ua,useCallback:Ao,useContext:ua,useEffect:So,useImperativeHandle:To,useLayoutEffect:Io,useMemo:No,useReducer:fo,useRef:wo,useState:function(){return fo(lo)},useDebugValue:Co,useDeferredValue:function(e){var t=fo(lo),n=t[0],r=t[1];return So((function(){var t=Za.transition;Za.transition=1;try{r(e)}finally{Za.transition=t}}),[e]),n},useTransition:function(){var e=fo(lo)[0];return[wo().current,e]},useMutableSource:yo,useOpaqueIdentifier:function(){return fo(lo)[0]},unstable_isNewReconciler:!1},Mo={readContext:ua,useCallback:Ao,useContext:ua,useEffect:So,useImperativeHandle:To,useLayoutEffect:Io,useMemo:No,useReducer:ho,useRef:wo,useState:function(){return ho(lo)},useDebugValue:Co,useDeferredValue:function(e){var t=ho(lo),n=t[0],r=t[1];return So((function(){var t=Za.transition;Za.transition=1;try{r(e)}finally{Za.transition=t}}),[e]),n},useTransition:function(){var e=ho(lo)[0];return[wo().current,e]},useMutableSource:yo,useOpaqueIdentifier:function(){return ho(lo)[0]},unstable_isNewReconciler:!1},Fo=_.ReactCurrentOwner,Uo=!1;function jo(e,t,n,r){t.child=null===e?Ca(t,null,n,r):Ta(t,e.child,n,r)}function Vo(e,t,n,r,i){n=n.render;var a=t.ref;return oa(t,i),r=uo(e,t,n,r,a,i),null===e||Uo?(t.flags|=1,jo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,ou(e,t,i))}function Bo(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||Hs(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ys(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,qo(e,t,o,r,i,a))}return o=e.child,0===(i&a)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:dr)(i,r)&&e.ref===t.ref)?ou(e,t,a):(t.flags|=1,(e=Ks(o,r)).ref=t.ref,e.return=t,t.child=e)}function qo(e,t,n,r,i,a){if(null!==e&&dr(e.memoizedProps,r)&&e.ref===t.ref){if(Uo=!1,0===(a&i))return t.lanes=e.lanes,ou(e,t,a);0!==(16384&e.flags)&&(Uo=!0)}return Go(e,t,n,r,a)}function zo(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},xs(t,n);else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},xs(t,e),null;t.memoizedState={baseLanes:0},xs(t,null!==a?a.baseLanes:n)}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,xs(t,r);return jo(e,t,i,n),t.child}function Wo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Go(e,t,n,r,i){var a=gi(n)?yi:pi.current;return a=mi(t,a),oa(t,i),n=uo(e,t,n,r,a,i),null===e||Uo?(t.flags|=1,jo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,ou(e,t,i))}function Ho(e,t,n,r,i){if(gi(n)){var a=!0;_i(t)}else a=!1;if(oa(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),wa(t,n,r),_a(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=ua(c):c=mi(t,c=gi(n)?yi:pi.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&ba(t,o,r,c),sa=!1;var h=t.memoizedState;o.state=h,pa(t,r,o,i),s=t.memoizedState,u!==r||h!==s||vi.current||sa?("function"===typeof l&&(ma(t,n,l,r),s=t.memoizedState),(u=sa||ka(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4)):("function"===typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,la(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:Zi(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=ua(s):s=mi(t,s=gi(n)?yi:pi.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&ba(t,o,r,s),sa=!1,h=t.memoizedState,o.state=h,pa(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||vi.current||sa?("function"===typeof d&&(ma(t,n,d,r),p=t.memoizedState),(c=sa||ka(t,n,c,r,h,p,s))?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return Ko(e,t,n,r,a,i)}function Ko(e,t,n,r,i,a){Wo(e,t);var o=0!==(64&t.flags);if(!r&&!o)return i&&xi(t,n,!1),ou(e,t,a);r=t.stateNode,Fo.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ta(t,e.child,null,a),t.child=Ta(t,null,u,a)):jo(e,t,u,a),t.memoizedState=r.state,i&&xi(t,n,!0),t.child}function Yo(e){var t=e.stateNode;t.pendingContext?wi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&wi(0,t.context,!1),Pa(e,t.containerInfo)}var Qo,Jo,Xo,Zo={dehydrated:null,retryLane:0};function $o(e,t,n){var r,i=t.pendingProps,a=Ua.current,o=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),hi(Ua,1&a),null===e?(void 0!==i.fallback&&Ga(t),e=i.children,a=i.fallback,o?(e=eu(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Zo,e):"number"===typeof i.unstable_expectedLoadTime?(e=eu(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Zo,t.lanes=33554432,e):((n=Js({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(i=nu(e,t,i.children,i.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=Zo,i):(n=tu(e,t,i.children,n),t.memoizedState=null,n))}function eu(e,t,n,r){var i=e.mode,a=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=Js(t,i,0,null),n=Qs(n,i,r,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function tu(e,t,n,r){var i=e.child;return e=i.sibling,n=Ks(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function nu(e,t,n,r,i){var a=t.mode,o=e.child;e=o.sibling;var u={mode:"hidden",children:n};return 0===(2&a)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=u,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Ks(o,u),null!==e?r=Ks(e,r):(r=Qs(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function ru(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),aa(e.return,t)}function iu(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=a)}function au(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(jo(e,t,r.children,n),0!==(2&(r=Ua.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ru(e,n);else if(19===e.tag)ru(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(hi(Ua,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ja(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),iu(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ja(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}iu(t,!0,n,null,a,t.lastEffect);break;case"together":iu(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function ou(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),qu|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(u(153));if(null!==t.child){for(n=Ks(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ks(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function uu(e,t){if(!qa)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function su(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return gi(t.type)&&ki(),null;case 3:return La(),fi(vi),fi(pi),Ja(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ka(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Fa(t);var i=Ra(Oa.current);if(n=t.type,null!==e&&null!=t.stateNode)Jo(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(u(166));return null}if(e=Ra(Na.current),Ka(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[$r]=t,r[ei]=o,n){case"dialog":Dr("cancel",r),Dr("close",r);break;case"iframe":case"object":case"embed":Dr("load",r);break;case"video":case"audio":for(e=0;e<Tr.length;e++)Dr(Tr[e],r);break;case"source":Dr("error",r);break;case"img":case"image":case"link":Dr("error",r),Dr("load",r);break;case"details":Dr("toggle",r);break;case"input":te(r,o),Dr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Dr("invalid",r);break;case"textarea":ce(r,o),Dr("invalid",r)}for(var s in Ie(n,o),e=null,o)o.hasOwnProperty(s)&&(i=o[s],"children"===s?"string"===typeof i?r.textContent!==i&&(e=["children",i]):"number"===typeof i&&r.textContent!==""+i&&(e=["children",""+i]):c.hasOwnProperty(s)&&null!=i&&"onScroll"===s&&Dr("scroll",r));switch(n){case"input":X(r),ie(r,o,!0);break;case"textarea":X(r),fe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Br)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(s=9===i.nodeType?i:i.ownerDocument,e===he&&(e=pe(n)),e===he?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[$r]=t,e[ei]=r,Qo(e,t),t.stateNode=e,s=Ee(n,r),n){case"dialog":Dr("cancel",e),Dr("close",e),i=r;break;case"iframe":case"object":case"embed":Dr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Tr.length;i++)Dr(Tr[i],e);i=r;break;case"source":Dr("error",e),i=r;break;case"img":case"image":case"link":Dr("error",e),Dr("load",e),i=r;break;case"details":Dr("toggle",e),i=r;break;case"input":te(e,r),i=ee(e,r),Dr("invalid",e);break;case"option":i=oe(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=a({},r,{value:void 0}),Dr("invalid",e);break;case"textarea":ce(e,r),i=se(e,r),Dr("invalid",e);break;default:i=r}Ie(n,i);var l=i;for(o in l)if(l.hasOwnProperty(o)){var f=l[o];"style"===o?xe(e,f):"dangerouslySetInnerHTML"===o?null!=(f=f?f.__html:void 0)&&ge(e,f):"children"===o?"string"===typeof f?("textarea"!==n||""!==f)&&ke(e,f):"number"===typeof f&&ke(e,""+f):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(c.hasOwnProperty(o)?null!=f&&"onScroll"===o&&Dr("scroll",e):null!=f&&b(e,o,f,s))}switch(n){case"input":X(e),ie(e,r,!1);break;case"textarea":X(e),fe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ue(e,!!r.multiple,o,!1):null!=r.defaultValue&&ue(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Br)}Wr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Xo(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(u(166));n=Ra(Oa.current),Ra(Na.current),Ka(t)?(r=t.stateNode,n=t.memoizedProps,r[$r]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[$r]=t,t.stateNode=r)}return null;case 13:return fi(Ua),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Ka(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Ua.current)?0===ju&&(ju=3):(0!==ju&&3!==ju||(ju=4),null===Pu||0===(134217727&qu)&&0===(134217727&zu)||ks(Pu,Mu))),(r||n)&&(t.flags|=4),null);case 4:return La(),null===e&&Rr(t.stateNode.containerInfo),null;case 10:return ia(t),null;case 19:if(fi(Ua),null===(r=t.memoizedState))return null;if(o=0!==(64&t.flags),null===(s=r.rendering))if(o)uu(r,!1);else{if(0!==ju||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(s=ja(e))){for(t.flags|=64,uu(r,!1),null!==(o=s.updateQueue)&&(t.updateQueue=o,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return hi(Ua,1&Ua.current|2),t.child}e=e.sibling}null!==r.tail&&Wi()>Ku&&(t.flags|=64,o=!0,uu(r,!1),t.lanes=33554432)}else{if(!o)if(null!==(e=ja(s))){if(t.flags|=64,o=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),uu(r,!0),null===r.tail&&"hidden"===r.tailMode&&!s.alternate&&!qa)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Wi()-r.renderingStartTime>Ku&&1073741824!==n&&(t.flags|=64,o=!0,uu(r,!1),t.lanes=33554432);r.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=r.last)?n.sibling=s:t.child=s,r.last=s)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Wi(),n.sibling=null,t=Ua.current,hi(Ua,o?1&t|2:1&t),n):null;case 23:case 24:return Ss(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(u(156,t.tag))}function cu(e){switch(e.tag){case 1:gi(e.type)&&ki();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(La(),fi(vi),fi(pi),Ja(),0!==(64&(t=e.flags)))throw Error(u(285));return e.flags=-4097&t|64,e;case 5:return Fa(e),null;case 13:return fi(Ua),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return fi(Ua),null;case 4:return La(),null;case 10:return ia(e),null;case 23:case 24:return Ss(),null;default:return null}}function lu(e,t){try{var n="",r=t;do{n+=K(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function fu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Qo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Jo=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Ra(Na.current);var o,u=null;switch(n){case"input":i=ee(e,i),r=ee(e,r),u=[];break;case"option":i=oe(e,i),r=oe(e,r),u=[];break;case"select":i=a({},i,{value:void 0}),r=a({},r,{value:void 0}),u=[];break;case"textarea":i=se(e,i),r=se(e,r),u=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Br)}for(f in Ie(n,r),n=null,i)if(!r.hasOwnProperty(f)&&i.hasOwnProperty(f)&&null!=i[f])if("style"===f){var s=i[f];for(o in s)s.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(c.hasOwnProperty(f)?u||(u=[]):(u=u||[]).push(f,null));for(f in r){var l=r[f];if(s=null!=i?i[f]:void 0,r.hasOwnProperty(f)&&l!==s&&(null!=l||null!=s))if("style"===f)if(s){for(o in s)!s.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&s[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(u||(u=[]),u.push(f,n)),n=l;else"dangerouslySetInnerHTML"===f?(l=l?l.__html:void 0,s=s?s.__html:void 0,null!=l&&s!==l&&(u=u||[]).push(f,l)):"children"===f?"string"!==typeof l&&"number"!==typeof l||(u=u||[]).push(f,""+l):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(c.hasOwnProperty(f)?(null!=l&&"onScroll"===f&&Dr("scroll",e),u||s===l||(u=[])):"object"===typeof l&&null!==l&&l.$$typeof===M?l.toString():(u=u||[]).push(f,l))}n&&(u=u||[]).push("style",n);var f=u;(t.updateQueue=f)&&(t.flags|=4)}},Xo=function(e,t,n,r){n!==r&&(t.flags|=4)};var hu="function"===typeof WeakMap?WeakMap:Map;function du(e,t,n){(n=fa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Xu||(Xu=!0,Zu=r),fu(0,t)},n}function pu(e,t,n){(n=fa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return fu(0,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===$u?$u=new Set([this]):$u.add(this),fu(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var vu="function"===typeof WeakSet?WeakSet:Set;function yu(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Bs(e,n)}else t.current=null}function mu(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Zi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Yr(t.stateNode.containerInfo))}throw Error(u(163))}function gu(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Us(n,e),Fs(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Zi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&va(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}va(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Wr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&xt(n)))))}throw Error(u(163))}function ku(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=_e("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function wu(e,t){if(Ii&&"function"===typeof Ii.onCommitFiberUnmount)try{Ii.onCommitFiberUnmount(Si,t)}catch(a){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Us(t,n);else{r=t;try{i()}catch(a){Bs(r,a)}}n=n.next}while(n!==e)}break;case 1:if(yu(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){Bs(t,a)}break;case 5:yu(t);break;case 4:Eu(e,t)}}function bu(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function _u(e){return 5===e.tag||3===e.tag||4===e.tag}function xu(e){e:{for(var t=e.return;null!==t;){if(_u(t))break e;t=t.return}throw Error(u(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(u(161))}16&n.flags&&(ke(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||_u(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?Su(e,n,t):Iu(e,n,t)}function Su(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Br));else if(4!==r&&null!==(e=e.child))for(Su(e,t,n),e=e.sibling;null!==e;)Su(e,t,n),e=e.sibling}function Iu(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Iu(e,t,n),e=e.sibling;null!==e;)Iu(e,t,n),e=e.sibling}function Eu(e,t){for(var n,r,i=t,a=!1;;){if(!a){a=i.return;e:for(;;){if(null===a)throw Error(u(160));switch(n=a.stateNode,a.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}a=a.return}a=!0}if(5===i.tag||6===i.tag){e:for(var o=e,s=i,c=s;;)if(wu(o,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===s)break e;for(;null===c.sibling;){if(null===c.return||c.return===s)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(o=n,s=i.stateNode,8===o.nodeType?o.parentNode.removeChild(s):o.removeChild(s)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(wu(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(a=!1)}i.sibling.return=i.return,i=i.sibling}}function Tu(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[ei]=r,"input"===e&&"radio"===r.type&&null!=r.name&&ne(n,r),Ee(e,i),t=Ee(e,r),i=0;i<a.length;i+=2){var o=a[i],s=a[i+1];"style"===o?xe(n,s):"dangerouslySetInnerHTML"===o?ge(n,s):"children"===o?ke(n,s):b(n,o,s,t)}switch(e){case"input":re(n,r);break;case"textarea":le(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(a=r.value)?ue(n,!!r.multiple,a,!1):e!==!!r.multiple&&(null!=r.defaultValue?ue(n,!!r.multiple,r.defaultValue,!0):ue(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(u(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,xt(n.containerInfo)));case 13:return null!==t.memoizedState&&(Hu=Wi(),ku(t.child,!0)),void Cu(t);case 19:return void Cu(t);case 23:case 24:return void ku(t,null!==t.memoizedState)}throw Error(u(163))}function Cu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new vu),t.forEach((function(t){var r=zs.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Au(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Nu=Math.ceil,Du=_.ReactCurrentDispatcher,Ou=_.ReactCurrentOwner,Ru=0,Pu=null,Lu=null,Mu=0,Fu=0,Uu=li(0),ju=0,Vu=null,Bu=0,qu=0,zu=0,Wu=0,Gu=null,Hu=0,Ku=1/0;function Yu(){Ku=Wi()+500}var Qu,Ju=null,Xu=!1,Zu=null,$u=null,es=!1,ts=null,ns=90,rs=[],is=[],as=null,os=0,us=null,ss=-1,cs=0,ls=0,fs=null,hs=!1;function ds(){return 0!==(48&Ru)?Wi():-1!==ss?ss:ss=Wi()}function ps(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Gi()?1:2;if(0===cs&&(cs=Bu),0!==Xi.transition){0!==ls&&(ls=null!==Gu?Gu.pendingLanes:0),e=cs;var t=4186112&~ls;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Gi(),0!==(4&Ru)&&98===e?e=Bt(12,cs):e=Bt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),cs),e}function vs(e,t,n){if(50<os)throw os=0,us=null,Error(u(185));if(null===(e=ys(e,t)))return null;Wt(e,t,n),e===Pu&&(zu|=t,4===ju&&ks(e,Mu));var r=Gi();1===t?0!==(8&Ru)&&0===(48&Ru)?ws(e):(ms(e,n),0===Ru&&(Yu(),Qi())):(0===(4&Ru)||98!==r&&99!==r||(null===as?as=new Set([e]):as.add(e)),ms(e,n)),Gu=e}function ys(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function ms(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-Gt(o),c=1<<s,l=a[s];if(-1===l){if(0===(c&r)||0!==(c&i)){l=t,Ut(c);var f=Ft;a[s]=10<=f?l+250:6<=f?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);o&=~c}if(r=jt(e,e===Pu?Mu:0),t=Ft,0===r)null!==n&&(n!==Ui&&Ci(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Ui&&Ci(n)}15===t?(n=ws.bind(null,e),null===Vi?(Vi=[n],Bi=Ti(Ri,Ji)):Vi.push(n),n=Ui):14===t?n=Yi(99,ws.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(u(358,e))}}(t),n=Yi(n,gs.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function gs(e){if(ss=-1,ls=cs=0,0!==(48&Ru))throw Error(u(327));var t=e.callbackNode;if(Ms()&&e.callbackNode!==t)return null;var n=jt(e,e===Pu?Mu:0);if(0===n)return null;var r=n,i=Ru;Ru|=16;var a=Ts();for(Pu===e&&Mu===r||(Yu(),Is(e,r));;)try{Ns();break}catch(s){Es(e,s)}if(ra(),Du.current=a,Ru=i,null!==Lu?r=0:(Pu=null,Mu=0,r=ju),0!==(Bu&zu))Is(e,0);else if(0!==r){if(2===r&&(Ru|=64,e.hydrate&&(e.hydrate=!1,Yr(e.containerInfo)),0!==(n=Vt(e))&&(r=Cs(e,n))),1===r)throw t=Vu,Is(e,0),ks(e,n),ms(e,Wi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(u(345));case 2:case 5:Rs(e);break;case 3:if(ks(e,n),(62914560&n)===n&&10<(r=Hu+500-Wi())){if(0!==jt(e,0))break;if(((i=e.suspendedLanes)&n)!==n){ds(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Hr(Rs.bind(null,e),r);break}Rs(e);break;case 4:if(ks(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var o=31-Gt(n);a=1<<o,(o=r[o])>i&&(i=o),n&=~a}if(n=i,10<(n=(120>(n=Wi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Nu(n/1960))-n)){e.timeoutHandle=Hr(Rs.bind(null,e),n);break}Rs(e);break;default:throw Error(u(329))}}return ms(e,Wi()),e.callbackNode===t?gs.bind(null,e):null}function ks(e,t){for(t&=~Wu,t&=~zu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Gt(t),r=1<<n;e[n]=-1,t&=~r}}function ws(e){if(0!==(48&Ru))throw Error(u(327));if(Ms(),e===Pu&&0!==(e.expiredLanes&Mu)){var t=Mu,n=Cs(e,t);0!==(Bu&zu)&&(n=Cs(e,t=jt(e,t)))}else n=Cs(e,t=jt(e,0));if(0!==e.tag&&2===n&&(Ru|=64,e.hydrate&&(e.hydrate=!1,Yr(e.containerInfo)),0!==(t=Vt(e))&&(n=Cs(e,t))),1===n)throw n=Vu,Is(e,0),ks(e,t),ms(e,Wi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Rs(e),ms(e,Wi()),null}function bs(e,t){var n=Ru;Ru|=1;try{return e(t)}finally{0===(Ru=n)&&(Yu(),Qi())}}function _s(e,t){var n=Ru;Ru&=-2,Ru|=8;try{return e(t)}finally{0===(Ru=n)&&(Yu(),Qi())}}function xs(e,t){hi(Uu,Fu),Fu|=t,Bu|=t}function Ss(){Fu=Uu.current,fi(Uu)}function Is(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Kr(n)),null!==Lu)for(n=Lu.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&ki();break;case 3:La(),fi(vi),fi(pi),Ja();break;case 5:Fa(r);break;case 4:La();break;case 13:case 19:fi(Ua);break;case 10:ia(r);break;case 23:case 24:Ss()}n=n.return}Pu=e,Lu=Ks(e.current,null),Mu=Fu=Bu=t,ju=0,Vu=null,Wu=zu=qu=0}function Es(e,t){for(;;){var n=Lu;try{if(ra(),Xa.current=Ro,ro){for(var r=eo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ro=!1}if($a=0,no=to=eo=null,io=!1,Ou.current=null,null===n||null===n.return){ju=1,Vu=t,Lu=null;break}e:{var a=e,o=n.return,u=n,s=t;if(t=Mu,u.flags|=2048,u.firstEffect=u.lastEffect=null,null!==s&&"object"===typeof s&&"function"===typeof s.then){var c=s;if(0===(2&u.mode)){var l=u.alternate;l?(u.updateQueue=l.updateQueue,u.memoizedState=l.memoizedState,u.lanes=l.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=0!==(1&Ua.current),h=o;do{var d;if(d=13===h.tag){var p=h.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var v=h.memoizedProps;d=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!f)}}if(d){var y=h.updateQueue;if(null===y){var m=new Set;m.add(c),h.updateQueue=m}else y.add(c);if(0===(2&h.mode)){if(h.flags|=64,u.flags|=16384,u.flags&=-2981,1===u.tag)if(null===u.alternate)u.tag=17;else{var g=fa(-1,1);g.tag=2,ha(u,g)}u.lanes|=1;break e}s=void 0,u=t;var k=a.pingCache;if(null===k?(k=a.pingCache=new hu,s=new Set,k.set(c,s)):void 0===(s=k.get(c))&&(s=new Set,k.set(c,s)),!s.has(u)){s.add(u);var w=qs.bind(null,a,c,u);c.then(w,w)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);s=Error((Y(u.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==ju&&(ju=2),s=lu(s,u),h=o;do{switch(h.tag){case 3:a=s,h.flags|=4096,t&=-t,h.lanes|=t,da(h,du(0,a,t));break e;case 1:a=s;var b=h.type,_=h.stateNode;if(0===(64&h.flags)&&("function"===typeof b.getDerivedStateFromError||null!==_&&"function"===typeof _.componentDidCatch&&(null===$u||!$u.has(_)))){h.flags|=4096,t&=-t,h.lanes|=t,da(h,pu(h,a,t));break e}}h=h.return}while(null!==h)}Os(n)}catch(x){t=x,Lu===n&&null!==n&&(Lu=n=n.return);continue}break}}function Ts(){var e=Du.current;return Du.current=Ro,null===e?Ro:e}function Cs(e,t){var n=Ru;Ru|=16;var r=Ts();for(Pu===e&&Mu===t||Is(e,t);;)try{As();break}catch(i){Es(e,i)}if(ra(),Ru=n,Du.current=r,null!==Lu)throw Error(u(261));return Pu=null,Mu=0,ju}function As(){for(;null!==Lu;)Ds(Lu)}function Ns(){for(;null!==Lu&&!Ai();)Ds(Lu)}function Ds(e){var t=Qu(e.alternate,e,Fu);e.memoizedProps=e.pendingProps,null===t?Os(e):Lu=t,Ou.current=null}function Os(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=su(n,t,Fu)))return void(Lu=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Fu)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=cu(t)))return n.flags&=2047,void(Lu=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Lu=t);Lu=t=e}while(null!==t);0===ju&&(ju=5)}function Rs(e){var t=Gi();return Ki(99,Ps.bind(null,e,t)),null}function Ps(e,t){do{Ms()}while(null!==ts);if(0!==(48&Ru))throw Error(u(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(u(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,a=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var o=e.eventTimes,s=e.expirationTimes;0<a;){var c=31-Gt(a),l=1<<c;i[c]=0,o[c]=-1,s[c]=-1,a&=~l}if(null!==as&&0===(24&r)&&as.has(e)&&as.delete(e),e===Pu&&(Lu=Pu=null,Mu=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Ru,Ru|=32,Ou.current=null,qr=Jt,gr(o=mr())){if("selectionStart"in o)s={start:o.selectionStart,end:o.selectionEnd};else e:if(s=(s=o.ownerDocument)&&s.defaultView||window,(l=s.getSelection&&s.getSelection())&&0!==l.rangeCount){s=l.anchorNode,a=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{s.nodeType,c.nodeType}catch(E){s=null;break e}var f=0,h=-1,d=-1,p=0,v=0,y=o,m=null;t:for(;;){for(var g;y!==s||0!==a&&3!==y.nodeType||(h=f+a),y!==c||0!==l&&3!==y.nodeType||(d=f+l),3===y.nodeType&&(f+=y.nodeValue.length),null!==(g=y.firstChild);)m=y,y=g;for(;;){if(y===o)break t;if(m===s&&++p===a&&(h=f),m===c&&++v===l&&(d=f),null!==(g=y.nextSibling))break;m=(y=m).parentNode}y=g}s=-1===h||-1===d?null:{start:h,end:d}}else s=null;s=s||{start:0,end:0}}else s=null;zr={focusedElem:o,selectionRange:s},Jt=!1,fs=null,hs=!1,Ju=r;do{try{Ls()}catch(E){if(null===Ju)throw Error(u(330));Bs(Ju,E),Ju=Ju.nextEffect}}while(null!==Ju);fs=null,Ju=r;do{try{for(o=e;null!==Ju;){var k=Ju.flags;if(16&k&&ke(Ju.stateNode,""),128&k){var w=Ju.alternate;if(null!==w){var b=w.ref;null!==b&&("function"===typeof b?b(null):b.current=null)}}switch(1038&k){case 2:xu(Ju),Ju.flags&=-3;break;case 6:xu(Ju),Ju.flags&=-3,Tu(Ju.alternate,Ju);break;case 1024:Ju.flags&=-1025;break;case 1028:Ju.flags&=-1025,Tu(Ju.alternate,Ju);break;case 4:Tu(Ju.alternate,Ju);break;case 8:Eu(o,s=Ju);var _=s.alternate;bu(s),null!==_&&bu(_)}Ju=Ju.nextEffect}}catch(E){if(null===Ju)throw Error(u(330));Bs(Ju,E),Ju=Ju.nextEffect}}while(null!==Ju);if(b=zr,w=mr(),k=b.focusedElem,o=b.selectionRange,w!==k&&k&&k.ownerDocument&&yr(k.ownerDocument.documentElement,k)){null!==o&&gr(k)&&(w=o.start,void 0===(b=o.end)&&(b=w),"selectionStart"in k?(k.selectionStart=w,k.selectionEnd=Math.min(b,k.value.length)):(b=(w=k.ownerDocument||document)&&w.defaultView||window).getSelection&&(b=b.getSelection(),s=k.textContent.length,_=Math.min(o.start,s),o=void 0===o.end?_:Math.min(o.end,s),!b.extend&&_>o&&(s=o,o=_,_=s),s=vr(k,_),a=vr(k,o),s&&a&&(1!==b.rangeCount||b.anchorNode!==s.node||b.anchorOffset!==s.offset||b.focusNode!==a.node||b.focusOffset!==a.offset)&&((w=w.createRange()).setStart(s.node,s.offset),b.removeAllRanges(),_>o?(b.addRange(w),b.extend(a.node,a.offset)):(w.setEnd(a.node,a.offset),b.addRange(w))))),w=[];for(b=k;b=b.parentNode;)1===b.nodeType&&w.push({element:b,left:b.scrollLeft,top:b.scrollTop});for("function"===typeof k.focus&&k.focus(),k=0;k<w.length;k++)(b=w[k]).element.scrollLeft=b.left,b.element.scrollTop=b.top}Jt=!!qr,zr=qr=null,e.current=n,Ju=r;do{try{for(k=e;null!==Ju;){var x=Ju.flags;if(36&x&&gu(k,Ju.alternate,Ju),128&x){w=void 0;var S=Ju.ref;if(null!==S){var I=Ju.stateNode;Ju.tag,w=I,"function"===typeof S?S(w):S.current=w}}Ju=Ju.nextEffect}}catch(E){if(null===Ju)throw Error(u(330));Bs(Ju,E),Ju=Ju.nextEffect}}while(null!==Ju);Ju=null,ji(),Ru=i}else e.current=n;if(es)es=!1,ts=e,ns=t;else for(Ju=r;null!==Ju;)t=Ju.nextEffect,Ju.nextEffect=null,8&Ju.flags&&((x=Ju).sibling=null,x.stateNode=null),Ju=t;if(0===(r=e.pendingLanes)&&($u=null),1===r?e===us?os++:(os=0,us=e):os=0,n=n.stateNode,Ii&&"function"===typeof Ii.onCommitFiberRoot)try{Ii.onCommitFiberRoot(Si,n,void 0,64===(64&n.current.flags))}catch(E){}if(ms(e,Wi()),Xu)throw Xu=!1,e=Zu,Zu=null,e;return 0!==(8&Ru)||Qi(),null}function Ls(){for(;null!==Ju;){var e=Ju.alternate;hs||null===fs||(0!==(8&Ju.flags)?tt(Ju,fs)&&(hs=!0):13===Ju.tag&&Au(e,Ju)&&tt(Ju,fs)&&(hs=!0));var t=Ju.flags;0!==(256&t)&&mu(e,Ju),0===(512&t)||es||(es=!0,Yi(97,(function(){return Ms(),null}))),Ju=Ju.nextEffect}}function Ms(){if(90!==ns){var e=97<ns?97:ns;return ns=90,Ki(e,js)}return!1}function Fs(e,t){rs.push(t,e),es||(es=!0,Yi(97,(function(){return Ms(),null})))}function Us(e,t){is.push(t,e),es||(es=!0,Yi(97,(function(){return Ms(),null})))}function js(){if(null===ts)return!1;var e=ts;if(ts=null,0!==(48&Ru))throw Error(u(331));var t=Ru;Ru|=32;var n=is;is=[];for(var r=0;r<n.length;r+=2){var i=n[r],a=n[r+1],o=i.destroy;if(i.destroy=void 0,"function"===typeof o)try{o()}catch(c){if(null===a)throw Error(u(330));Bs(a,c)}}for(n=rs,rs=[],r=0;r<n.length;r+=2){i=n[r],a=n[r+1];try{var s=i.create;i.destroy=s()}catch(c){if(null===a)throw Error(u(330));Bs(a,c)}}for(s=e.current.firstEffect;null!==s;)e=s.nextEffect,s.nextEffect=null,8&s.flags&&(s.sibling=null,s.stateNode=null),s=e;return Ru=t,Qi(),!0}function Vs(e,t,n){ha(e,t=du(0,t=lu(n,t),1)),t=ds(),null!==(e=ys(e,1))&&(Wt(e,1,t),ms(e,t))}function Bs(e,t){if(3===e.tag)Vs(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Vs(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===$u||!$u.has(r))){var i=pu(n,e=lu(t,e),1);if(ha(n,i),i=ds(),null!==(n=ys(n,1)))Wt(n,1,i),ms(n,i);else if("function"===typeof r.componentDidCatch&&(null===$u||!$u.has(r)))try{r.componentDidCatch(t,e)}catch(a){}break}}n=n.return}}function qs(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ds(),e.pingedLanes|=e.suspendedLanes&n,Pu===e&&(Mu&n)===n&&(4===ju||3===ju&&(62914560&Mu)===Mu&&500>Wi()-Hu?Is(e,0):Wu|=n),ms(e,t)}function zs(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Gi()?1:2:(0===cs&&(cs=Bu),0===(t=qt(62914560&~cs))&&(t=4194304))),n=ds(),null!==(e=ys(e,t))&&(Wt(e,t,n),ms(e,n))}function Ws(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Gs(e,t,n,r){return new Ws(e,t,n,r)}function Hs(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ks(e,t){var n=e.alternate;return null===n?((n=Gs(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ys(e,t,n,r,i,a){var o=2;if(r=e,"function"===typeof e)Hs(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case I:return Qs(n.children,i,a,t);case F:o=8,i|=16;break;case E:o=8,i|=1;break;case T:return(e=Gs(12,n,t,8|i)).elementType=T,e.type=T,e.lanes=a,e;case D:return(e=Gs(13,n,t,i)).type=D,e.elementType=D,e.lanes=a,e;case O:return(e=Gs(19,n,t,i)).elementType=O,e.lanes=a,e;case U:return Js(n,i,a,t);case j:return(e=Gs(24,n,t,i)).elementType=j,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:o=10;break e;case A:o=9;break e;case N:o=11;break e;case R:o=14;break e;case P:o=16,r=null;break e;case L:o=22;break e}throw Error(u(130,null==e?e:typeof e,""))}return(t=Gs(o,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Qs(e,t,n,r){return(e=Gs(7,e,r,t)).lanes=n,e}function Js(e,t,n,r){return(e=Gs(23,e,r,t)).elementType=U,e.lanes=n,e}function Xs(e,t,n){return(e=Gs(6,e,null,t)).lanes=n,e}function Zs(e,t,n){return(t=Gs(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $s(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=zt(0),this.expirationTimes=zt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zt(0),this.mutableSourceEagerHydrationData=null}function ec(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function tc(e,t,n,r){var i=t.current,a=ds(),o=ps(i);e:if(n){t:{if(Xe(n=n._reactInternals)!==n||1!==n.tag)throw Error(u(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(gi(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(null!==s);throw Error(u(171))}if(1===n.tag){var c=n.type;if(gi(c)){n=bi(n,c,s);break e}}n=s}else n=di;return null===t.context?t.context=n:t.pendingContext=n,(t=fa(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),ha(i,t),vs(i,o,a),o}function nc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function rc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function ic(e,t){rc(e,t),(e=e.alternate)&&rc(e,t)}function ac(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new $s(e,t,null!=n&&!0===n.hydrate),t=Gs(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,ca(t),e[ti]=n.current,Rr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function oc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function uc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var u=i;i=function(){var e=nc(o);u.call(e)}}tc(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ac(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"===typeof i){var s=i;i=function(){var e=nc(o);s.call(e)}}_s((function(){tc(t,o,e,i)}))}return nc(o)}function sc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!oc(t))throw Error(u(200));return ec(e,t,null,n)}Qu=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||vi.current)Uo=!0;else{if(0===(n&r)){switch(Uo=!1,t.tag){case 3:Yo(t),Ya();break;case 5:Ma(t);break;case 1:gi(t.type)&&_i(t);break;case 4:Pa(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;hi($i,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?$o(e,t,n):(hi(Ua,1&Ua.current),null!==(t=ou(e,t,n))?t.sibling:null);hi(Ua,1&Ua.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return au(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),hi(Ua,Ua.current),r)break;return null;case 23:case 24:return t.lanes=0,zo(e,t,n)}return ou(e,t,n)}Uo=0!==(16384&e.flags)}else Uo=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=mi(t,pi.current),oa(t,n),i=uo(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,gi(r)){var a=!0;_i(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,ca(t);var o=r.getDerivedStateFromProps;"function"===typeof o&&ma(t,r,o,e),i.updater=ga,t.stateNode=i,i._reactInternals=t,_a(t,r,e,n),t=Ko(null,t,r,!0,a,n)}else t.tag=0,jo(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(a=i._init)(i._payload),t.type=i,a=t.tag=function(e){if("function"===typeof e)return Hs(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===N)return 11;if(e===R)return 14}return 2}(i),e=Zi(i,e),a){case 0:t=Go(null,t,i,e,n);break e;case 1:t=Ho(null,t,i,e,n);break e;case 11:t=Vo(null,t,i,e,n);break e;case 14:t=Bo(null,t,i,Zi(i.type,e),r,n);break e}throw Error(u(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Go(e,t,r,i=t.elementType===r?i:Zi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ho(e,t,r,i=t.elementType===r?i:Zi(r,i),n);case 3:if(Yo(t),r=t.updateQueue,null===e||null===r)throw Error(u(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,la(e,t),pa(t,r,null,n),(r=t.memoizedState.element)===i)Ya(),t=ou(e,t,n);else{if((a=(i=t.stateNode).hydrate)&&(Ba=Qr(t.stateNode.containerInfo.firstChild),Va=t,a=qa=!0),a){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(a=e[i])._workInProgressVersionPrimary=e[i+1],Qa.push(a);for(n=Ca(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else jo(e,t,r,n),Ya();t=t.child}return t;case 5:return Ma(t),null===e&&Ga(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,o=i.children,Gr(r,i)?o=null:null!==a&&Gr(r,a)&&(t.flags|=16),Wo(e,t),jo(e,t,o,n),t.child;case 6:return null===e&&Ga(t),null;case 13:return $o(e,t,n);case 4:return Pa(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ta(t,null,r,n):jo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Vo(e,t,r,i=t.elementType===r?i:Zi(r,i),n);case 7:return jo(e,t,t.pendingProps,n),t.child;case 8:case 12:return jo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value;var s=t.type._context;if(hi($i,s._currentValue),s._currentValue=a,null!==o)if(s=o.value,0===(a=fr(s,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(s,a):1073741823))){if(o.children===i.children&&!vi.current){t=ou(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var c=s.dependencies;if(null!==c){o=s.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&a)){1===s.tag&&((l=fa(-1,n&-n)).tag=2,ha(s,l)),s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),aa(s.return,n),c.lanes|=n;break}l=l.next}}else o=10===s.tag&&s.type===t.type?null:s.child;if(null!==o)o.return=s;else for(o=s;null!==o;){if(o===t){o=null;break}if(null!==(s=o.sibling)){s.return=o.return,o=s;break}o=o.return}s=o}jo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,oa(t,n),r=r(i=ua(i,a.unstable_observedBits)),t.flags|=1,jo(e,t,r,n),t.child;case 14:return a=Zi(i=t.type,t.pendingProps),Bo(e,t,i,a=Zi(i.type,a),r,n);case 15:return qo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Zi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,gi(r)?(e=!0,_i(t)):e=!1,oa(t,n),wa(t,r,i),_a(t,r,i,n),Ko(null,t,r,!0,e,n);case 19:return au(e,t,n);case 23:case 24:return zo(e,t,n)}throw Error(u(156,t.tag))},ac.prototype.render=function(e){tc(e,this._internalRoot,null,null)},ac.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;tc(null,e,null,(function(){t[ti]=null}))},nt=function(e){13===e.tag&&(vs(e,4,ds()),ic(e,4))},rt=function(e){13===e.tag&&(vs(e,67108864,ds()),ic(e,67108864))},it=function(e){if(13===e.tag){var t=ds(),n=ps(e);vs(e,n,t),ic(e,n)}},at=function(e,t){return t()},Ce=function(e,t,n){switch(t){case"input":if(re(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=oi(r);if(!i)throw Error(u(90));Z(r),re(r,i)}}}break;case"textarea":le(e,n);break;case"select":null!=(t=n.value)&&ue(e,!!n.multiple,t,!1)}},Pe=bs,Le=function(e,t,n,r,i){var a=Ru;Ru|=4;try{return Ki(98,e.bind(null,t,n,r,i))}finally{0===(Ru=a)&&(Yu(),Qi())}},Me=function(){0===(49&Ru)&&(function(){if(null!==as){var e=as;as=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,ms(e,Wi())}))}Qi()}(),Ms())},Fe=function(e,t){var n=Ru;Ru|=2;try{return e(t)}finally{0===(Ru=n)&&(Yu(),Qi())}};var cc={Events:[ii,ai,oi,Oe,Re,Ms,{current:!1}]},lc={findFiberByHostInstance:ri,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},fc={bundleType:lc.bundleType,version:lc.version,rendererPackageName:lc.rendererPackageName,rendererConfig:lc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=et(e))?null:e.stateNode},findFiberByHostInstance:lc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var hc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hc.isDisabled&&hc.supportsFiber)try{Si=hc.inject(fc),Ii=hc}catch(me){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cc,t.createPortal=sc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(u(188));throw Error(u(268,Object.keys(e)))}return e=null===(e=et(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Ru;if(0!==(48&n))return e(t);Ru|=1;try{if(e)return Ki(99,e.bind(null,t))}finally{Ru=n,Qi()}},t.hydrate=function(e,t,n){if(!oc(t))throw Error(u(200));return uc(null,e,t,!0,n)},t.render=function(e,t,n){if(!oc(t))throw Error(u(200));return uc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!oc(e))throw Error(u(40));return!!e._reactRootContainer&&(_s((function(){uc(null,null,e,!1,(function(){e._reactRootContainer=null,e[ti]=null}))})),!0)},t.unstable_batchedUpdates=bs,t.unstable_createPortal=function(e,t){return sc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!oc(n))throw Error(u(200));if(null==e||void 0===e._reactInternals)throw Error(u(38));return uc(e,t,n,!1,r)},t.version="17.0.2"},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){"use strict";n(725);var r=n(791),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var a=Symbol.for;i=a("react.element"),t.Fragment=a("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u=Object.prototype.hasOwnProperty,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)u.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:o.current}}t.jsx=c,t.jsxs=c},117:function(e,t,n){"use strict";var r=n(725),i=60103,a=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,u=60110,s=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),a=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),o=f("react.provider"),u=f("react.context"),s=f("react.forward_ref"),t.Suspense=f("react.suspense"),c=f("react.memo"),l=f("react.lazy")}var h="function"===typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function y(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function m(){}function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},m.prototype=y.prototype;var k=g.prototype=new m;k.constructor=g,r(k,y.prototype),k.isPureReactComponent=!0;var w={current:null},b=Object.prototype.hasOwnProperty,_={key:!0,ref:!0,__self:!0,__source:!0};function x(e,t,n){var r,a={},o=null,u=null;if(null!=t)for(r in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)b.call(t,r)&&!_.hasOwnProperty(r)&&(a[r]=t[r]);var s=arguments.length-2;if(1===s)a.children=n;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===a[r]&&(a[r]=s[r]);return{$$typeof:i,type:e,key:o,ref:u,props:a,_owner:w.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var I=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,n,r,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case i:case a:s=!0}}if(s)return o=o(s=e),e=""===r?"."+E(s,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(I,"$&/")+"/"),T(o,t,n,"",(function(e){return e}))):null!=o&&(S(o)&&(o=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(I,"$&/")+"/")+e)),t.push(o)),1;if(s=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+E(u=e[c],c);s+=T(u,t,n,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=T(u=u.value,t,n,l=r+E(u,c++),o);else if("object"===u)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return s}function C(e,t,n){if(null==e)return e;var r=[],i=0;return T(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var N={current:null};function D(){var e=N.current;if(null===e)throw Error(d(321));return e}var O={ReactCurrentDispatcher:N,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:w,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:C,forEach:function(e,t,n){C(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return C(e,(function(){t++})),t},toArray:function(e){return C(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error(d(143));return e}},t.Component=y,t.PureComponent=g,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(d(267,e));var a=r({},e.props),o=e.key,u=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(u=t.ref,s=w.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)b.call(t,l)&&!_.hasOwnProperty(l)&&(a[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];a.children=c}return{$$typeof:i,type:e.type,key:o,ref:u,props:a,_owner:s}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:u,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=x,t.createFactory=function(e){var t=x.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:s,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return D().useCallback(e,t)},t.useContext=function(e,t){return D().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return D().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return D().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return D().useLayoutEffect(e,t)},t.useMemo=function(e,t){return D().useMemo(e,t)},t.useReducer=function(e,t,n){return D().useReducer(e,t,n)},t.useRef=function(e){return D().useRef(e)},t.useState=function(e){return D().useState(e)},t.version="17.0.2"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(D){s=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof y?t:y,a=Object.create(i.prototype),o=new C(r||[]);return a._invoke=function(e,t,n){var r=f;return function(i,a){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return N()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=I(o,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var s=l(e,t,n);if("normal"===s.type){if(r=n.done?p:h,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=p,n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(D){return{type:"throw",arg:D}}}e.wrap=c;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={};function y(){}function m(){}function g(){}var k={};s(k,a,(function(){return this}));var w=Object.getPrototypeOf,b=w&&w(w(A([])));b&&b!==n&&r.call(b,a)&&(k=b);var _=g.prototype=y.prototype=Object.create(k);function x(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(i,a,o,u){var s=l(e[i],e,a);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,u)}),(function(e){n("throw",e,o,u)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,u)}))}u(s.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function I(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,I(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function A(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:N}}function N(){return{value:t,done:!0}}return m.prototype=g,s(_,"constructor",g),s(g,"constructor",m),m.displayName=s(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,u,"GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},x(S.prototype),s(S.prototype,o,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new S(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},x(_),s(_,u,"Generator"),s(_,a,(function(){return this})),s(_,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=A,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],u=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:A(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},813:function(e,t){"use strict";var n,r,i,a;if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,l=null,f=function e(){if(null!==c)try{var n=t.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(e,0),r}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(f,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,d=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,y=null,m=-1,g=5,k=0;t.unstable_shouldYield=function(){return t.unstable_now()>=k},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):g=0<e?Math.floor(1e3/e):5};var w=new MessageChannel,b=w.port2;w.port1.onmessage=function(){if(null!==y){var e=t.unstable_now();k=e+g;try{y(!0,e)?b.postMessage(null):(v=!1,y=null)}catch(n){throw b.postMessage(null),n}}else v=!1},n=function(e){y=e,v||(v=!0,b.postMessage(null))},r=function(e,n){m=h((function(){e(t.unstable_now())}),n)},i=function(){d(m),m=-1}}function _(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<I(i,t)))break e;e[r]=t,e[n]=i,n=r}}function x(e){return void 0===(e=e[0])?null:e}function S(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],u=a+1,s=e[u];if(void 0!==o&&0>I(o,n))void 0!==s&&0>I(s,o)?(e[r]=s,e[u]=n,r=u):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==s&&0>I(s,n)))break e;e[r]=s,e[u]=n,r=u}}}return t}return null}function I(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var E=[],T=[],C=1,A=null,N=3,D=!1,O=!1,R=!1;function P(e){for(var t=x(T);null!==t;){if(null===t.callback)S(T);else{if(!(t.startTime<=e))break;S(T),t.sortIndex=t.expirationTime,_(E,t)}t=x(T)}}function L(e){if(R=!1,P(e),!O)if(null!==x(E))O=!0,n(M);else{var t=x(T);null!==t&&r(L,t.startTime-e)}}function M(e,n){O=!1,R&&(R=!1,i()),D=!0;var a=N;try{for(P(n),A=x(E);null!==A&&(!(A.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=A.callback;if("function"===typeof o){A.callback=null,N=A.priorityLevel;var u=o(A.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?A.callback=u:A===x(E)&&S(E),P(n)}else S(E);A=x(E)}if(null!==A)var s=!0;else{var c=x(T);null!==c&&r(L,c.startTime-n),s=!1}return s}finally{A=null,N=a,D=!1}}var F=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){O||D||(O=!0,n(M))},t.unstable_getCurrentPriorityLevel=function(){return N},t.unstable_getFirstCallbackNode=function(){return x(E)},t.unstable_next=function(e){switch(N){case 1:case 2:case 3:var t=3;break;default:t=N}var n=N;N=t;try{return e()}finally{N=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=F,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=N;N=e;try{return t()}finally{N=n}},t.unstable_scheduleCallback=function(e,a,o){var u=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?u+o:u:o=u,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:C++,callback:a,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>u?(e.sortIndex=o,_(T,e),null===x(E)&&e===x(T)&&(R?i():R=!0,r(L,o-u))):(e.sortIndex=s,_(E,e),O||D||(O=!0,n(M))),e},t.unstable_wrapCallback=function(e){var t=N;return function(){var n=N;N=t;try{return e.apply(this,arguments)}finally{N=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},82:function(e){"use strict";e.exports="data:image/gif;base64,R0lGODlhyADIAPQHAOjo6Y2Nk4SEi7S0tZuboHh4gHp6gr+/v83NzfPz86qqqsbGxs7OztPT1OTk5qWlqtvb3cDAxP7+/snJzO3t7pycooGBiIqKkZOTmfb2966us9LS1be3u////wAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/wtYTVAgRGF0YVhNUAI/eAAh+QQFCgAHACwAAAAAyADIAAAF/+AhjmRpnmiqrmzrvnAsz3Rt33iu73zv/8CgcEgsGo/IpHLJbDqf0Kh0Sq1ar9isdsvter/gsHhMLpvP6LR6zW673/C4fE6v2+/4vH7P7/v/gIGCg4SFhoeIiYqLjI2Oj5CRkpOUlZaXmJmTAAMBBgUCAwCaZBIDnwWpqQYDEqRgEgSqs6oErq9dA7S7BQO4XACovKoGo79ZusO0vsdYAcq0As1YwtCp01fV1thWz9ap0tw3nJ6gojXJ38wy5J+hxqSm2gWstzHB38Uy8rv1mrHQbM1Ip2zdC4DKBGIiOMzgQVkJ7b1gyMvhpnn94MHgR8vfPYwdNU6i2LAGOXDnBv9+S2Uxkrdv4Z68tBaTEkheUW7uuqSTVs6V1yzNhFazyVBlRSWRrBhl6a6WkPBZ0wdFKjSqlpyqgrpEK8tMCIcpjBKW19hLHGd5nJKWWCtcJ82JpBL3nbi7ePPq3cu3r9+/gAMLHky4sOFj7eQGSmyXTttVb/k8phcZTtldZ+9cppWZjddeez5zPWNVGVY7pYedXvP5K57WoN0cHZZ0zmxetdH0nJVnt6o3voPeCV7gze1dueMcj/YG9ujmQJ+TSc1rNR3qGeGIDq0uzuZZnet8ryXRzeS1es5XllM35Z/2cw/Ln0+/vv37+PPr38+/v///AAYo4IAEFggYY+75gWD/fOad0s96eahXXhvjpRKeYxCJNSFr3emx3RvYhZRHiGoxeIZzeaAoG1DJwbHcLC2WQVxvQBXnxox44NjGi6rEuOJKPo6h4h1DskEiMSbCceQqSZrxYYodvlFhARfOMWWVaUjYh5bXdYJSk6h5qZiBZJZp5plopqnmmmy26eabcA6xYBZzvsIlWw52BGElV27IRJ+ZPAmFoJQsSQ+YRRhqXSRFNtGoJDyCE0WkoPBU409AWZopFDpSQmmQRHx6yaNdRXeJooiiUCc7uy3KaJQx3AkDoZQAuk+GZvmpgq2YyDorrAflqdaep4rZ2Ayo0gAffqSqKSqcnbYZLZvPvtls/5rJxklrm7zG6WucBywL7rjklmvuGBlEEIEDeVGQSgRZuFvABCRgMG8z8sKLhbz0iiBvBfi+G28q/Ypgb8G45DvwvXgpvC/B7Qr8MMN3OdxCBPamckEEGZxAQQQa0PLABik4wIEqGx/ALwkSixBBARockO4FqoyMwscWKAPBHharAEHOu1iwcwkZWGBBBBSIsAHNMZvw8i4XOADxCC0f8DIGDgBNS9MkQDB1BiEX8ADCefSMgtQFXFDwBBkPTQLJJXhdgNtKp4IB3FanPbUIVb9s9NEjOFDB3jLnTPYDBQDch9kn0HxBxyRkYO8FLtjLQQk5P14C2hQf0HcqFiQdOf/ND5DgtwkbpAI5z1WfkHoBeHdNeAqIK1535yOEjfDnBehbwskWkBCy7SPIS3fZrZsAfAr2ls7C8CQs7zrhvLPrtHAHQF+C8YsnX8LgxJeAOAYtaC/C4OSfgPbuvZuu+glPR19A8CW8vroejH+feAohUx55BCfbBfHsFb7iUa99I4gf/LAnr9hlD2Z+yB8JwMe/tLkPZgij4AhoVkB/HdB3ebPR9UTosvn1C2yJux/+vEeC8dGuAOkL4fEOoMHz7c9jH7wgChRIggloLXFkYx0CUyC9xoltBDnj2gRvKIIi1i+HCcSeDvU3wz9IcARyC+IBsujBIZIgZ8SbQCqqGEDQ9oGQhyVAY94uV4grjmBwmovc5EaQgeTJjXhFg6EJKAA0M05xhPrTohVZSAI+pm1tbasXE0WQgQtwMI12c1sELECzzvFuh1IcnwoBIS9l+E8EDqjkLhyYNQi6bGNiLODTaBE1mvkxiiT8IyiHcbRN3qGTw/hkAjOWNo55bJUw25nUOgiBAM5PX4N7ZQljCcs08jJoootT86zXQzCC62W6hCQz2WQvEJZAjNtcE8286b4Yvsl8m8uZA9tEAQLSbQPAW+ebJmBMVajrXPjMJxtCAAAh+QQFCgAAACxcACUAEAAQAAAFOiAgAgkyKMqAJGOLoDCMtMAR38oxvvg9J71eKYgzEW+no/KYXKqWqBVUweIdZyIbUecKYmmlpIo1CgEAIfkEBQoAAQAsXAAlADAAGgAABXlgIIrNGCxmqq5se7KoK890bcNzfO80wNclmu5HLBqPyKRyCawNb4nGQKEYLBI/H29B7XaHz1WYdvCaFQem+HwG43gJNlsF1vIa8rZ6NM17B3sifmeBAYNmhX2HgIF4hwpjSXGPhSJcg5FLZXlplSOXep4mCQt9VikhACH5BAUKAAAALF0AJQBDADYAAAWwICCOI0KeaKquLIsocAybbW3feK7v5yv/M55wmEoQj0MacslsOp/QqHRKtSmP16px5wNmuUBvdXzrhoNEs+zr3KZJCLeUTa7b7/i8fl/iD+V+ImphdIGGPINohypXcYuPkJGSk5SVlpeYmZqbnG0NAzADjpWJCoWBB2cwB5Kla5AJqj+Afg2yr4ugt6GPuzK9vjCPursDj7a+p3ixvrR+rjHKeqmqrJOl0n4JCLqiciEAIfkEBQoAAAAsXAAlAEQAVwAABbYgIIrIaJ5oqq5s675wHC9ybd94ru98XvbAoHBILBqPyKTqh2Qqn1AbDTmNWq9YgDPL7Xq/4PBrKy6bv9Wzes1uu9/wuHxOr9vv+DxJL0/z/2pkgIOEhUmCholZfoqNjo+QkZKTlJWWl5iZmnYJCAMKCgMICW8IoKeniGELqK0KB2umrq2qXAmzs6RlsriotVifvagDZsKuxcaoZsHJxLvJoL9Xt9C6z8bSi8KwbLy0b53BotYAIQAh+QQFCgAAACxeACcANQBxAAAFruABjGRpnmiqrmzrvnAsz3Rt33iu73zv/8CgUEQjCo/IpHLJbDqf0Kh0ejJSr9isdsvter/gsHhMLkut5rR6zW6731M0fE6v2+/4vH7P7/v/dnKAg4SFhodagoiLjI2Oj5CRLgkIAwoKAwgJUQiXnp4ITwefpAqKQZ2lpKFKCaqqm0mpr5+sSJa0nwNKuaW8vZ9KuMC7ssCXtkeux7HGvclJo7SnQrOrUZS4mc0pIQAh+QQFCgAAACxcACUAOgB+AAAF9CAgisxonmiqruxYtnAsn8ts3+qL73zvw7qfcEgsGo/IpLIVVDaXt2dUWRNWjVKolknMbr/gsHhMzpXPRy/adF27feq3fE6v2+/4vH7P7/vjZ4BnbXWCfmKGh4qLjD2JjVqPZISQa5KVmJmam5ydnp+goaKji5dfpl+Uc6ikMaytsLE7r7IrtFqqtUO3ur2+v8DBwqK8SMVIuW/HusvDzpvNCQwDCgoDCAlyDNXc3Ag8xQvd4woHPMkz2+Tj32QJ6+vZ4ODw5O1i1PXdA2T65P3+upHJF5DfGHUB74V5F1CBvIMJ0YirZ24NAngK0UjLd+1hmRAAIfkEBQoAAAAsMAAvABsAaQAABZEgII5kWQZmqq5s675wLM90i9Z4Xt967//AoHBILBqPyKRy6eIxn9CoySlFUqvYrHbL7Xq/4LBYfB2bveWzLK1uu9/wuHyeSzAGCsUAkaAx8oCACDILgYYKBzB/h4aDLQmMjH0si5GBjit4loEDLZuHnp+BLZqinZSieZgqkKmTqJ+rLIWWiTEIkbIvdpp7rwAhACH5BAUKAAAALCcALwAkAE0AAAWVICCOZGmWgpiebOu+cCzPdG3fOL3Ce+7/v55LCCwaj8ikkrdsOp/QqHRKrVqvrRURy+16fdtT+Csdo8jotJplXrvf8Lh8Tq/b76wEY6BQDBAJRwx9hIQIRQuFigoHP4OLioc4CZCQgTePlYWSNnyahQM4n4uio4U4nqahmKZ9nDWUrZeso683iZqNQAiVtj56nn+zOSEAIfkEBQoAAAAsJwAvABsALAAABWogII5kaZbBqa5s675wLM80Wt/4neZ87//A2i5ILBqPyKRyyQQkGAOFYoBI0BjSbBYhW2i/igMMC/5yW4ly2coiq7XnVfStHbTo4Dte25rv7W17UnEqaYJsgXiELF5vYjEIaosvT3NUiC4hACH5BAUKAAAALDsALwAQABAAAAU7ICACCTMoyoAkY8ugMIy0wBLfyjG++D0nvV4piEOciLEjcklULgc85oqJYkWJM5GNqGshglla6ahijUIAIfkEBQoABwAsXAAlABAAEAAABULgIR7AEBiFMABjO6BFHBtDexByLhPjoP+FGgAGlBlKxZ8pqRMQmTNoLiCNqarBofR48EFrIlyS53rOwLYSNbVqhQAAIfkEBQoABwAsZQAlACcAGgAABWhgcIxkaZ5oqq5s675wLM90bafire+8nffAEmAQMBQCA0BwNDAWnk/DIEiAWqGE3uDKLUx1AGcXalDetuPr15e+/mri9lMXl+sCcuibhs6va2F5ZTt9aX83VWlZQE1cUksHQ3gFAkklIQAh+QQFCgAHACw0ACUAbAB8AAAF/+AhjmRpnmhKCmrrvnAsz3Rt33iu73zv/8CgcEgsGoWso3LJbDqfziR0GqVar68Fdsvter/gsPgmHZvP6LStrG673/CiNk6v2+/4vH7P7/v/gIGCg4SFhodhAAMBBgUCAwCIKgONBZaWBgMjc5IHBJeglwSdJAOhpwWapACVqJcGkZ2mrqGqkgG0oWyGrbmWpL2+pLi+lruFs8W2iKzFsKQHybSanJKftKPQI5SnmdolisSPsd/l5ufo6err7O3u7/Dx8vP09fZ91en59/z9/v8AAwocGGPfOYMEEypcyLChw4cQI0qcSPENwjAXK2rcyLGjx48dM+IQaYMkyJMoUwmqXMlSoMkmIQAAIfkEBQoACAAsNAAxAGwAcAAABesgIo5kWR5mqq5s675wLM90bd94ru987//AoHBILBqPyKRyyWw6n9ColIeaWq/YrHbL7Xq/4LB4TC6bz+i0es1uu99wcjVOr9vv+Lx+z+/7/4Ayc4GEhYaHiImKi4yNjo+QkZKTlJWWl5g1AAMBBgUCAwCLA54FpqYGAyODfwSnr6cEhwOwtQWqhACltqcGooG0vLC4gAHCsAKEu8emysyvhMbPn4TBz8R/us++hdbCqqx+rsKyiKS1qYub0qC/me/w8fLz9PX29/j5mOFe/Pr/AAMKHEiwYB9/OhDiUGiwocOHECNKnJiFYZMQACH5BAUKAAgALCkAMQBjAHAAAAXiICKOZFkeZqqubOu+cCzPdG3feK7vfO//wKBwSCwaj8ikcslsOp9QHCpKrVqv2Kx2y+16v+CweEwum8/otHrNbi+n7rh8Tq/b7/i8fs+HwvuAgYKDhIWGh4iJiouMjY6PkJGSk5Q/f5WYmZqbnJ2en2eXoKOkpaanqKmqq6ytegADAQYFAgMAggOzBbu7BgM5ol4EvMS8BHwDxcoFv3kAusu8Brd4ydHFzXcB18UCedDcu9/hxHnb5LR51uTZds/k03rr1+0zwTv3OcPXx325yr4EwTpXi5qrgwgTKlyIJZ+REAAh+QQFCgAGACwpACUAdgB+AAAF/6AhjmRpnmiqjsXqvnAsz3Jh3zat73zv/8CgcEgsGnFIpHHJbDqf0Kj015pandWrdst9MrqxLPj03SXP4hlauxi7l+W3HLo2o5Xz+HzP7/tdaX99gYKFhiJ6h4pWd3hviYtQbZF7kIh+dW6WlJydnp+goaKjpKWmp6ipqqusra4ym68ohCqxsgaZk7dTtru+PY04L72/xcaMx1TJcsTLziXBNy7NxrrPNJvUrJko2tff4OHi4+Tl5ufo6err7O3u7/Cl3q+0KfOpufHT+sXROfv8AtKLV09gjHsGPfkreImcNXfZnHEjk7CixYsYM2rcyLGjx48rEF5h2EXkk4lRHmVWNAnyxcJKLWMCIigTDMt4AAYEsCFgAAAeL5nxGIBmACmVQQg0IkAq4g6iwYzaSSKUB4CFP8NBjSYV3E5/AsQt/AduLMlfX6OF1bqw67er/rKyjVpO6R2m5rYicVsu59eecueEAAAh+QQFCgAHACw7ACUAZAB9AAAF/+AhjmRpnihppGzrvnDsriUt33iu73zv/8Cg8GBLFYfIpHLJbDp3x6c0F51ar9hssKplcVVQ07dLLpvPsui4tSai3/C4/NeeK+v2vH6fb+P5gIGCQ2qDhoeIiYqLjI2Oj5CRkpOUlZaXQn+WhZidnk5+n6KjPpqYpqSpqi+hq66vRmKws7S1tre4ubq7vL2+v8DBwsN3s5zEyHytycxwqJvN0YbL0tVlx9bZ2tvc3d7f4OFnAAMBBgUCAwDKSAPnBfDwBgN22DsE8fnxBKID+v8F6HUC8A5gPAPrzlCT4c+gPoGXAjjUJ6BTwYnwFDK5iFHjEokY4VXE1DAkREsEQzEiLEVnxo6SDk/isAcHn0N+o9z9m1dPFhByINMl1LFQnNEbzyolPcqUlcumUJH6jBMCACH5BAUKAAYALCcAJQB4AH0AAAX/oCGOZGmeaKqWxeq+cCzPdGHfNq3vfO//wKBwSCwaTbhk8shsOp/QqHTKa1GvTit2y+0aESSw96X1ik3nmnJdZW8P4zgvjaLL7zBAW7lf46Z2dXiDhIWGOmWHiomKjXiBJ5COd3pxfnyALpKTUHCch5CbXX5jaQiVn6mqq6ytrq+wsbKztLW2t7i5uru6prw1KqG/LqQknsNfmshNqMuXSaIj0cvU1YOM1j7Y2U/TBt7cL83Iz3/R4NzH4T/C6wbFaGHj7vT19vf4+fr7/P3+/wADChxIsKDBQwAGBLAhYMC8ddtEDPAzgB48EQSeEfg3sVxFfgDK3XjIS6SNjiI/eupbaFIAP5M3qsGcmYPaTJYiXe5D6REkTJK7YBrgSfFfxksbARK9oTLcxREJWTYEerCq1atYs2rdyrWr169ZIxYSS+UpHrNg02ozeUeo2rc7yF4jJPcs3LtH3GoDoncWWryN/lpyQ6sv4MOx6vpTjLixLMOOI7MS3CUEACH5BAUKAAYALCcALwAkACwAAAWHoCGOZGmSDXqurHqmbTwuLS23MH7vbMKXuVjwRywaj8ik0iUbLk2+o9M0/dlW12S1KkVFn+CweEwum8/otHqdBgwChYJgAAgP4nj84EnI+wsESnd/fntHAISESIOJeYZFcI15AkeSf5WWeUeRmZRGjJaPRIiZBUmgiaJGfY2BS6h6YW6Rc08hADs="},949:function(e,t,n){"use strict";e.exports=n.p+"static/media/logo.d9d71f194a949284ff86.png"}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var a=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.loaded=!0,a.exports}r.m=e,r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,{a:t}),t},r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.f={},r.e=function(e){return Promise.all(Object.keys(r.f).reduce((function(t,n){return r.f[n](e,t),t}),[]))},r.u=function(e){return"static/js/"+e+".7692a5f3.chunk.js"},r.miniCssF=function(e){},r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="jebel-sifah-live:";r.l=function(n,i,a,o){if(e[n])e[n].push(i);else{var u,s;if(void 0!==a)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==n||f.getAttribute("data-webpack")==t+a){u=f;break}}u||(s=!0,(u=document.createElement("script")).charset="utf-8",u.timeout=120,r.nc&&u.setAttribute("nonce",r.nc),u.setAttribute("data-webpack",t+a),u.src=n),e[n]=[i];var h=function(t,r){u.onerror=u.onload=null,clearTimeout(d);var i=e[n];if(delete e[n],u.parentNode&&u.parentNode.removeChild(u),i&&i.forEach((function(e){return e(r)})),t)return t(r)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:u}),12e4);u.onerror=h.bind(null,u.onerror),u.onload=h.bind(null,u.onload),s&&document.head.appendChild(u)}}}(),r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},r.p="/",function(){var e={179:0};r.f.j=function(t,n){var i=r.o(e,t)?e[t]:void 0;if(0!==i)if(i)n.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));n.push(i[2]=a);var o=r.p+r.u(t),u=new Error;r.l(o,(function(n){if(r.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;u.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",u.name="ChunkLoadError",u.type=a,u.request=o,i[1](u)}}),"chunk-"+t,t)}};var t=function(t,n){var i,a,o=n[0],u=n[1],s=n[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in u)r.o(u,i)&&(r.m[i]=u[i]);if(s)s(r)}for(t&&t(n);c<o.length;c++)a=o[c],r.o(e,a)&&e[a]&&e[a][0](),e[a]=0},n=self.webpackChunkjebel_sifah_live=self.webpackChunkjebel_sifah_live||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}(),function(){"use strict";var e={};r.r(e),r.d(e,{FirebaseError:function(){return Oe},SDK_VERSION:function(){return St},_DEFAULT_ENTRY_NAME:function(){return lt},_addComponent:function(){return pt},_addOrOverwriteComponent:function(){return vt},_apps:function(){return ht},_clearComponents:function(){return kt},_components:function(){return dt},_getProvider:function(){return mt},_registerComponent:function(){return yt},_removeServiceInstance:function(){return gt},deleteApp:function(){return Ct},getApp:function(){return Et},getApps:function(){return Tt},initializeApp:function(){return It},onLog:function(){return Dt},registerVersion:function(){return Nt},setLogLevel:function(){return Ot}});var t,i=r(791),a=r(164);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){if(e){if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||u(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));var l=function(e){return e};var f="beforeunload",h="popstate";function d(e){e.preventDefault(),e.returnValue=""}function p(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function v(){return Math.random().toString(36).substr(2,8)}function y(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function m(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function g(e,t){if(!e)throw new Error(t)}var k=(0,i.createContext)(null);var w=(0,i.createContext)(null);var b=(0,i.createContext)({outlet:null,matches:[]});function _(e){var t=e.to,n=e.replace,r=e.state;T()||g(!1);var a=A();return(0,i.useEffect)((function(){a(t,{replace:n,state:r})})),null}function x(e){g(!1)}function S(e){var n=e.basename,r=void 0===n?"/":n,a=e.children,o=void 0===a?null:a,u=e.location,s=e.navigationType,c=void 0===s?t.Pop:s,l=e.navigator,f=e.static,h=void 0!==f&&f;T()&&g(!1);var d=q(r),p=(0,i.useMemo)((function(){return{basename:d,navigator:l,static:h}}),[d,l,h]);"string"===typeof u&&(u=m(u));var v=u,y=v.pathname,b=void 0===y?"/":y,_=v.search,x=void 0===_?"":_,S=v.hash,I=void 0===S?"":S,E=v.state,C=void 0===E?null:E,A=v.key,N=void 0===A?"default":A,D=(0,i.useMemo)((function(){var e=V(b,d);return null==e?null:{pathname:e,search:x,hash:I,state:C,key:N}}),[d,b,x,I,C,N]);return null==D?null:(0,i.createElement)(k.Provider,{value:p},(0,i.createElement)(w.Provider,{children:o,value:{location:D,navigationType:c}}))}function I(e){var t=e.children,n=e.location;return function(e,t){T()||g(!1);var n=(0,i.useContext)(b).matches,r=n[n.length-1],a=r?r.params:{},o=(r&&r.pathname,r?r.pathnameBase:"/");r&&r.route;0;var u,s=C();if(t){var c,l="string"===typeof t?m(t):t;"/"===o||(null==(c=l.pathname)?void 0:c.startsWith(o))||g(!1),u=l}else u=s;var f=u.pathname||"/",h="/"===o?f:f.slice(o.length)||"/",d=function(e,t,n){void 0===n&&(n="/");var r=V(("string"===typeof t?m(t):t).pathname||"/",n);if(null==r)return null;var i=O(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=M(i[o],r);return a}(e,{pathname:h});0;return F(d&&d.map((function(e){return Object.assign({},e,{params:Object.assign({},a,e.params),pathname:B([o,e.pathname]),pathnameBase:"/"===e.pathnameBase?o:B([o,e.pathnameBase])})})),n)}(D(t),n)}function E(e){T()||g(!1);var t=(0,i.useContext)(k),n=t.basename,r=t.navigator,a=N(e),o=a.hash,u=a.pathname,s=a.search,c=u;if("/"!==n){var l=function(e){return""===e||""===e.pathname?"/":"string"===typeof e?m(e).pathname:e.pathname}(e),f=null!=l&&l.endsWith("/");c="/"===u?n+(f?"/":""):B([n,u])}return r.createHref({pathname:c,search:s,hash:o})}function T(){return null!=(0,i.useContext)(w)}function C(){return T()||g(!1),(0,i.useContext)(w).location}function A(){T()||g(!1);var e=(0,i.useContext)(k),t=e.basename,n=e.navigator,r=(0,i.useContext)(b).matches,a=C().pathname,o=JSON.stringify(r.map((function(e){return e.pathnameBase}))),u=(0,i.useRef)(!1);(0,i.useEffect)((function(){u.current=!0}));var s=(0,i.useCallback)((function(e,r){if(void 0===r&&(r={}),u.current)if("number"!==typeof e){var i=j(e,JSON.parse(o),a);"/"!==t&&(i.pathname=B([t,i.pathname])),(r.replace?n.replace:n.push)(i,r.state)}else n.go(e)}),[t,n,o,a]);return s}function N(e){var t=(0,i.useContext)(b).matches,n=C().pathname,r=JSON.stringify(t.map((function(e){return e.pathnameBase})));return(0,i.useMemo)((function(){return j(e,JSON.parse(r),n)}),[e,r,n])}function D(e){var t=[];return i.Children.forEach(e,(function(e){if((0,i.isValidElement)(e))if(e.type!==i.Fragment){e.type!==x&&g(!1);var n={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(n.children=D(e.props.children)),t.push(n)}else t.push.apply(t,D(e.props.children))})),t}function O(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(a.relativePath.startsWith(r)||g(!1),a.relativePath=a.relativePath.slice(r.length));var o=B([r,a.relativePath]),u=n.concat(a);e.children&&e.children.length>0&&(!0===e.index&&g(!1),O(e.children,t,u,o)),(null!=e.path||e.index)&&t.push({path:o,score:L(o,e.index),routesMeta:u})})),t}var R=/^:\w+$/,P=function(e){return"*"===e};function L(e,t){var n=e.split("/"),r=n.length;return n.some(P)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!P(e)})).reduce((function(e,t){return e+(R.test(t)?3:""===t?1:10)}),r)}function M(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var u=n[o],s=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=U({path:u.relativePath,caseSensitive:u.caseSensitive,end:s},c);if(!l)return null;Object.assign(r,l.params);var f=u.route;a.push({params:r,pathname:B([i,l.pathname]),pathnameBase:q(B([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=B([i,l.pathnameBase]))}return a}function F(e,t){return void 0===t&&(t=[]),null==e?null:e.reduceRight((function(n,r,a){return(0,i.createElement)(b.Provider,{children:void 0!==r.route.element?r.route.element:n,value:{outlet:n,matches:t.concat(e.slice(0,a+1))}})}),null)}function U(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=s(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var u=o[0],c=u.replace(/(.)\/+$/,"$1"),l=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";c=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return e}}(l[n]||""),e}),{}),pathname:u,pathnameBase:c,pattern:e}}function j(e,t,n){var r,i="string"===typeof e?m(e):e,a=""===e||""===i.pathname?"/":i.pathname;if(null==a)r=n;else{var o=t.length-1;if(a.startsWith("..")){for(var u=a.split("/");".."===u[0];)u.shift(),o-=1;i.pathname=u.join("/")}r=o>=0?t[o]:"/"}var s=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?m(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,u=void 0===o?"":o,s=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:s,search:z(a),hash:W(u)}}(i,r);return a&&"/"!==a&&a.endsWith("/")&&!s.pathname.endsWith("/")&&(s.pathname+="/"),s}function V(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var B=function(e){return e.join("/").replace(/\/\/+/g,"/")},q=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},z=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},W=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""};function G(){return G=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},G.apply(this,arguments)}function H(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var K=["onClick","reloadDocument","replace","state","target","to"];function Y(e){var n=e.basename,r=e.children,a=e.window,o=(0,i.useRef)();null==o.current&&(o.current=function(e){void 0===e&&(e={});var n=e.window,r=void 0===n?document.defaultView:n,i=r.history;function a(){var e=r.location,t=e.pathname,n=e.search,a=e.hash,o=i.state||{};return[o.idx,l({pathname:t,search:n,hash:a,state:o.usr||null,key:o.key||"default"})]}var o=null;r.addEventListener(h,(function(){if(o)b.call(o),o=null;else{var e=t.Pop,n=a(),r=n[0],i=n[1];if(b.length){if(null!=r){var u=g-r;u&&(o={action:e,location:i,retry:function(){T(-1*u)}},T(u))}}else E(e)}}));var u=t.Pop,s=a(),g=s[0],k=s[1],w=p(),b=p();function _(e){return"string"===typeof e?e:y(e)}function x(e,t){return void 0===t&&(t=null),l(c({pathname:k.pathname,hash:"",search:""},"string"===typeof e?m(e):e,{state:t,key:v()}))}function S(e,t){return[{usr:e.state,key:e.key,idx:t},_(e)]}function I(e,t,n){return!b.length||(b.call({action:e,location:t,retry:n}),!1)}function E(e){u=e;var t=a();g=t[0],k=t[1],w.call({action:u,location:k})}function T(e){i.go(e)}null==g&&(g=0,i.replaceState(c({},i.state,{idx:g}),""));var C={get action(){return u},get location(){return k},createHref:_,push:function e(n,a){var o=t.Push,u=x(n,a);if(I(o,u,(function(){e(n,a)}))){var s=S(u,g+1),c=s[0],l=s[1];try{i.pushState(c,"",l)}catch(f){r.location.assign(l)}E(o)}},replace:function e(n,r){var a=t.Replace,o=x(n,r);if(I(a,o,(function(){e(n,r)}))){var u=S(o,g),s=u[0],c=u[1];i.replaceState(s,"",c),E(a)}},go:T,back:function(){T(-1)},forward:function(){T(1)},listen:function(e){return w.push(e)},block:function(e){var t=b.push(e);return 1===b.length&&r.addEventListener(f,d),function(){t(),b.length||r.removeEventListener(f,d)}}};return C}({window:a}));var u=o.current,g=s((0,i.useState)({action:u.action,location:u.location}),2),k=g[0],w=g[1];return(0,i.useLayoutEffect)((function(){return u.listen(w)}),[u]),(0,i.createElement)(S,{basename:n,children:r,location:k.location,navigationType:k.action,navigator:u})}var Q=(0,i.forwardRef)((function(e,t){var n=e.onClick,r=e.reloadDocument,a=e.replace,o=void 0!==a&&a,u=e.state,s=e.target,c=e.to,l=H(e,K),f=E(c),h=function(e,t){var n=void 0===t?{}:t,r=n.target,a=n.replace,o=n.state,u=A(),s=C(),c=N(e);return(0,i.useCallback)((function(t){if(0===t.button&&(!r||"_self"===r)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(t)){t.preventDefault();var n=!!a||y(s)===y(c);u(e,{replace:n,state:o})}}),[s,u,c,a,o,r,e])}(c,{replace:o,state:u,target:s});return(0,i.createElement)("a",G({},l,{href:f,onClick:function(e){n&&n(e),e.defaultPrevented||r||h(e)},ref:t,target:s}))}));function J(e){return void 0===e&&(e=""),new URLSearchParams("string"===typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((function(t,n){var r=e[n];return t.concat(Array.isArray(r)?r.map((function(e){return[n,e]})):[[n,r]])}),[]))}function X(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function Z(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){X(a,r,i,o,u,"next",e)}function u(e){X(a,r,i,o,u,"throw",e)}o(void 0)}))}}var $=r(757),ee=r.n($);function te(e){return te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},te(e)}function ne(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=te(e)););return e}function re(){return re="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=ne(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},re.apply(this,arguments)}function ie(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ae(e,t){return ae=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ae(e,t)}function oe(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ae(e,t)}function ue(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function se(e){return se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},se(e)}function ce(e,t){if(t&&("object"===se(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ie(e)}function le(e){var t=ue();return function(){var n,r=te(e);if(t){var i=te(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ce(this,n)}}function fe(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=u(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function he(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function de(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pe(e,t,n){return t&&de(e.prototype,t),n&&de(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ve(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ye(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function me(e,t,n){return me=ue()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&ae(i,n.prototype),i},me.apply(null,arguments)}function ge(e){var t="function"===typeof Map?new Map:void 0;return ge=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return me(e,arguments,te(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),ae(n,e)},ge(e)}var ke=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},we={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(ke(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},be=function(e){return function(e){var t=ke(e);return we.encodeByteArray(t,!0)}(e).replace(/\./g,"")},_e=function(e){try{return we.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function xe(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=xe(e[n],t[n]));return e}var Se=function(){function e(){var t=this;he(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return pe(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Ie(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[be(JSON.stringify({alg:"none",type:"JWT"})),be(JSON.stringify(a)),""].join(".")}function Ee(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Te(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ee())}function Ce(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Ae(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Ne(){var e=Ee();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function De(){return!function(){try{return"[object process]"===Object.prototype.toString.call(r.g.process)}catch(e){return!1}}()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}var Oe=function(e){oe(n,e);var t=le(n);function n(e,r,i){var a;return he(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(ie(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(ie(a),Re.prototype.create),a}return pe(n)}(ge(Error)),Re=function(){function e(t,n,r){he(this,e),this.service=t,this.serviceName=n,this.errors=r}return pe(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?Pe(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new Oe(n,a,t);return o}}]),e}();function Pe(e,t){return e.replace(Le,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var Le=/\{\$([^}]+)}/g;function Me(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Fe(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(Ue(u)&&Ue(s)){if(!Fe(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function Ue(e){return null!==e&&"object"===typeof e}function je(e){for(var t=[],n=function(){var e=s(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function Ve(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=s(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function Be(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function qe(e,t){var n=new ze(e,t);return n.subscribe.bind(n)}var ze=function(){function e(t,n){var r=this;he(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return pe(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=fe(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=We),void 0===r.error&&(r.error=We),void 0===r.complete&&(r.complete=We);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function We(){}function Ge(e){return e&&e._delegate?e._delegate:e}var He=function(){function e(t,n,r){he(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return pe(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Ke="[DEFAULT]",Ye=function(){function e(t,n){he(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return pe(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Se;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Ke})}catch(c){}var t,n=fe(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=s(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(c){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Z($.mark((function e(){var t;return $.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(ve(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),ve(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=fe(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=s(i.value,2),c=u[0],l=u[1],f=this.normalizeInstanceIdentifier(c);r===f&&l.resolve(a)}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=fe(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(Zk){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Ke?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(Zk){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke;return this.component?this.component.multipleInstances?e:Ke:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Qe,Je,Xe=function(){function e(t){he(this,e),this.name=t,this.providers=new Map}return pe(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Ye(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Ze=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Je||(Je={}));var $e,et,tt={debug:Je.DEBUG,verbose:Je.VERBOSE,info:Je.INFO,warn:Je.WARN,error:Je.ERROR,silent:Je.SILENT},nt=Je.INFO,rt=(ye(Qe={},Je.DEBUG,"log"),ye(Qe,Je.VERBOSE,"log"),ye(Qe,Je.INFO,"info"),ye(Qe,Je.WARN,"warn"),ye(Qe,Je.ERROR,"error"),Qe),it=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=rt[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},at=function(){function e(t){he(this,e),this.name=t,this._logLevel=nt,this._logHandler=it,this._userLogHandler=null,Ze.push(this)}return pe(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Je))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?tt[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Je.DEBUG].concat(t)),this._logHandler.apply(this,[this,Je.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Je.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Je.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Je.INFO].concat(t)),this._logHandler.apply(this,[this,Je.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Je.WARN].concat(t)),this._logHandler.apply(this,[this,Je.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Je.ERROR].concat(t)),this._logHandler.apply(this,[this,Je.ERROR].concat(t))}}]),e}();var ot=function(){function e(t){he(this,e),this.container=t}return pe(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var ut="@firebase/app",st="0.7.17",ct=new at("@firebase/app"),lt="[DEFAULT]",ft=(ye($e={},ut,"fire-core"),ye($e,"@firebase/app-compat","fire-core-compat"),ye($e,"@firebase/analytics","fire-analytics"),ye($e,"@firebase/analytics-compat","fire-analytics-compat"),ye($e,"@firebase/app-check","fire-app-check"),ye($e,"@firebase/app-check-compat","fire-app-check-compat"),ye($e,"@firebase/auth","fire-auth"),ye($e,"@firebase/auth-compat","fire-auth-compat"),ye($e,"@firebase/database","fire-rtdb"),ye($e,"@firebase/database-compat","fire-rtdb-compat"),ye($e,"@firebase/functions","fire-fn"),ye($e,"@firebase/functions-compat","fire-fn-compat"),ye($e,"@firebase/installations","fire-iid"),ye($e,"@firebase/installations-compat","fire-iid-compat"),ye($e,"@firebase/messaging","fire-fcm"),ye($e,"@firebase/messaging-compat","fire-fcm-compat"),ye($e,"@firebase/performance","fire-perf"),ye($e,"@firebase/performance-compat","fire-perf-compat"),ye($e,"@firebase/remote-config","fire-rc"),ye($e,"@firebase/remote-config-compat","fire-rc-compat"),ye($e,"@firebase/storage","fire-gcs"),ye($e,"@firebase/storage-compat","fire-gcs-compat"),ye($e,"@firebase/firestore","fire-fst"),ye($e,"@firebase/firestore-compat","fire-fst-compat"),ye($e,"fire-js","fire-js"),ye($e,"firebase","fire-js-all"),$e),ht=new Map,dt=new Map;function pt(e,t){try{e.container.addComponent(t)}catch(n){ct.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function vt(e,t){e.container.addOrOverwriteComponent(t)}function yt(e){var t=e.name;if(dt.has(t))return ct.debug("There were multiple attempts to register component ".concat(t,".")),!1;dt.set(t,e);var n,r=fe(ht.values());try{for(r.s();!(n=r.n()).done;){pt(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function mt(e,t){return e.container.getProvider(t)}function gt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:lt;mt(e,t).clearInstance(n)}function kt(){dt.clear()}var wt,bt=(ye(et={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),ye(et,"bad-app-name","Illegal App name: '{$appName}"),ye(et,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),ye(et,"app-deleted","Firebase App named '{$appName}' already deleted"),ye(et,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),ye(et,"invalid-log-argument","First argument to `onLog` must be null or a function."),et),_t=new Re("app","Firebase",bt),xt=function(){function e(t,n,r){var i=this;he(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new He("app",(function(){return i}),"PUBLIC"))}return pe(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw _t.create("app-deleted",{appName:this._name})}}]),e}(),St="9.6.7";function It(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:lt,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw _t.create("bad-app-name",{appName:String(i)});var a=ht.get(i);if(a){if(Fe(e,a.options)&&Fe(r,a.config))return a;throw _t.create("duplicate-app",{appName:i})}var o,u=new Xe(i),s=fe(dt.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new xt(e,r,u);return ht.set(i,l),l}function Et(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lt,t=ht.get(e);if(!t)throw _t.create("no-app",{appName:e});return t}function Tt(){return Array.from(ht.values())}function Ct(e){return At.apply(this,arguments)}function At(){return At=Z($.mark((function e(t){var n;return $.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!ht.has(n)){e.next=6;break}return ht.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)}))),At.apply(this,arguments)}function Nt(e,t,n){var r,i=null!==(r=ft[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void ct.warn(u.join(" "))}yt(new He("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function Dt(e,t){if(null!==e&&"function"!==typeof e)throw _t.create("invalid-log-argument");!function(e,t){var n,r=fe(Ze);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=tt[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:Je[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function Ot(e){var t;t=e,Ze.forEach((function(e){e.setLogLevel(t)}))}wt="",yt(new He("platform-logger",(function(e){return new ot(e)}),"PRIVATE")),Nt(ut,st,wt),Nt(ut,st,"esm2017"),Nt("fire-js","");function Rt(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var Pt;Object.create;function Lt(){return ye({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var Mt=Lt,Ft=new Re("auth","Firebase",Lt()),Ut=new at("@firebase/auth");function jt(e){if(Ut.logLevel<=Je.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Ut.error.apply(Ut,["Auth (".concat(St,"): ").concat(e)].concat(n))}}function Vt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Wt.apply(void 0,[e].concat(n))}function Bt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Wt.apply(void 0,[e].concat(n))}function qt(e,t,n){var r=Object.assign(Object.assign({},Mt()),ye({},t,n));return new Re("auth","Firebase",r).create(t,{appName:e.name})}function zt(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Vt(e,"argument-error"),qt(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Wt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=ve(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(ve(o)))}return Ft.create.apply(Ft,[e].concat(n))}function Gt(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Wt.apply(void 0,[t].concat(r))}}function Ht(e){var t="INTERNAL ASSERTION FAILED: "+e;throw jt(t),new Error(t)}function Kt(e,t){e||Ht(t)}var Yt=new Map;function Qt(e){Kt(e instanceof Function,"Expected a class definition");var t=Yt.get(e);return t?(Kt(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Yt.set(e,t),t)}function Jt(e,t){var n=mt(e,"auth");if(n.isInitialized()){var r=n.getImmediate();if(Fe(n.getOptions(),null!==t&&void 0!==t?t:{}))return r;Vt(r,"already-initialized")}return n.initialize({options:t})}function Xt(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Zt(){return"http:"===$t()||"https:"===$t()}function $t(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var en=function(){function e(t,n){he(this,e),this.shortDelay=t,this.longDelay=n,Kt(n>t,"Short delay should be less than long delay!"),this.isMobile=Te()||Ae()}return pe(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Zt()||Ce()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function tn(e,t){Kt(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var nn=function(){function e(){he(this,e)}return pe(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Ht("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Ht("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Ht("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),rn=(ye(Pt={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),ye(Pt,"MISSING_CUSTOM_TOKEN","internal-error"),ye(Pt,"INVALID_IDENTIFIER","invalid-email"),ye(Pt,"MISSING_CONTINUE_URI","internal-error"),ye(Pt,"INVALID_PASSWORD","wrong-password"),ye(Pt,"MISSING_PASSWORD","internal-error"),ye(Pt,"EMAIL_EXISTS","email-already-in-use"),ye(Pt,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),ye(Pt,"INVALID_IDP_RESPONSE","invalid-credential"),ye(Pt,"INVALID_PENDING_TOKEN","invalid-credential"),ye(Pt,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),ye(Pt,"MISSING_REQ_TYPE","internal-error"),ye(Pt,"EMAIL_NOT_FOUND","user-not-found"),ye(Pt,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),ye(Pt,"EXPIRED_OOB_CODE","expired-action-code"),ye(Pt,"INVALID_OOB_CODE","invalid-action-code"),ye(Pt,"MISSING_OOB_CODE","internal-error"),ye(Pt,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),ye(Pt,"INVALID_ID_TOKEN","invalid-user-token"),ye(Pt,"TOKEN_EXPIRED","user-token-expired"),ye(Pt,"USER_NOT_FOUND","user-token-expired"),ye(Pt,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),ye(Pt,"INVALID_CODE","invalid-verification-code"),ye(Pt,"INVALID_SESSION_INFO","invalid-verification-id"),ye(Pt,"INVALID_TEMPORARY_PROOF","invalid-credential"),ye(Pt,"MISSING_SESSION_INFO","missing-verification-id"),ye(Pt,"SESSION_EXPIRED","code-expired"),ye(Pt,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),ye(Pt,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),ye(Pt,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),ye(Pt,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),ye(Pt,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),ye(Pt,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),ye(Pt,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),ye(Pt,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),ye(Pt,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),ye(Pt,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),ye(Pt,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),Pt),an=new en(3e4,6e4);function on(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function un(e,t,n,r){return sn.apply(this,arguments)}function sn(){return sn=Z(ee().mark((function e(t,n,r,i){var a,o=arguments;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",cn(t,a,Z(ee().mark((function e(){var a,o,u,s;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=je(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",nn.fetch()(dn(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),sn.apply(this,arguments)}function cn(e,t,n){return ln.apply(this,arguments)}function ln(){return(ln=Z(ee().mark((function e(t,n,r){var i,a,o,u,c,l,f,h,d,p;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},rn),n),e.prev=2,a=new pn(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw vn(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(c=o.ok?u.errorMessage:u.error.message,l=c.split(" : "),f=s(l,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw vn(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==h){e.next=25;break}throw vn(t,"email-already-in-use",u);case 25:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=30;break}throw qt(t,p,d);case 30:Vt(t,p);case 31:e.next=38;break;case 33:if(e.prev=33,e.t0=e.catch(2),!(e.t0 instanceof Oe)){e.next=37;break}throw e.t0;case 37:Vt(t,"network-request-failed");case 38:case"end":return e.stop()}}),e,null,[[2,33]])})))).apply(this,arguments)}function fn(e,t,n,r){return hn.apply(this,arguments)}function hn(){return hn=Z(ee().mark((function e(t,n,r,i){var a,o,u=arguments;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,un(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&Vt(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),hn.apply(this,arguments)}function dn(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?tn(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var pn=function(){function e(t){var n=this;he(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(Bt(n.auth,"network-request-failed"))}),an.get())}))}return pe(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function vn(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=Bt(e,t,r);return i.customData._tokenResponse=n,i}function yn(e,t){return mn.apply(this,arguments)}function mn(){return(mn=Z(ee().mark((function e(t,n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",un(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gn(e,t){return kn.apply(this,arguments)}function kn(){return(kn=Z(ee().mark((function e(t,n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",un(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wn(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function bn(){return bn=Z(ee().mark((function e(t){var n,r,i,a,o,u,s=arguments;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=Ge(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,Gt((a=xn(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:wn(_n(a.auth_time)),issuedAtTime:wn(_n(a.iat)),expirationTime:wn(_n(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),bn.apply(this,arguments)}function _n(e){return 1e3*Number(e)}function xn(e){var t=s(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return jt("JWT malformed, contained fewer than 3 sections"),null;try{var a=_e(r);return a?JSON.parse(a):(jt("Failed to decode base64 JWT payload"),null)}catch(o){return jt("Caught error parsing JWT payload as JSON",o),null}}function Sn(e,t){return In.apply(this,arguments)}function In(){return In=Z(ee().mark((function e(t,n){var r=arguments;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof Oe&&En(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),In.apply(this,arguments)}function En(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var Tn=function(){function e(t){he(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return pe(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Z(ee().mark((function t(){return ee().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=Z(ee().mark((function e(){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Cn=function(){function e(t,n){he(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return pe(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=wn(this.lastLoginAt),this.creationTime=wn(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function An(e){return Nn.apply(this,arguments)}function Nn(){return Nn=Z(ee().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,Sn(t,gn(r,{idToken:i}));case 6:Gt(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?Rn(o.providerUserInfo):[],s=On(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new Cn(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),Nn.apply(this,arguments)}function Dn(){return(Dn=Z(ee().mark((function e(t){var n;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ge(t),e.next=3,An(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function On(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(ve(n),ve(t))}function Rn(e){return e.map((function(e){var t=e.providerId,n=Rt(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function Pn(e,t){return Ln.apply(this,arguments)}function Ln(){return(Ln=Z(ee().mark((function e(t,n){var r;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cn(t,{},Z(ee().mark((function e(){var r,i,a,o,u,s;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=je({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=dn(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",nn.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Mn=function(){function e(){he(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return pe(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Gt(e.idToken,"internal-error"),Gt("undefined"!==typeof e.idToken,"internal-error"),Gt("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=xn(e);return Gt(t,"internal-error"),Gt("undefined"!==typeof t.exp,"internal-error"),Gt("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Z(ee().mark((function e(t){var n,r=arguments;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],Gt(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Z(ee().mark((function e(t,n){var r,i,a,o;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pn(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Ht("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(Gt("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(Gt("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(Gt("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function Fn(e,t){Gt("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var Un=function(){function e(t){he(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=Rt(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Tn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?ve(a.providerData):[],this.metadata=new Cn(a.createdAt||void 0,a.lastLoginAt||void 0)}return pe(e,[{key:"getIdToken",value:function(){var e=Z(ee().mark((function e(t){var n;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Sn(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(Gt(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return bn.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return Dn.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(Gt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){Gt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Z(ee().mark((function e(t){var n,r,i=arguments;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,An(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Z(ee().mark((function e(){var t;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,Sn(this,yn(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,y=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,m=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,w=n.emailVerified,b=n.isAnonymous,_=n.providerData,x=n.stsTokenManager;Gt(k&&x,t,"internal-error");var S=Mn.fromJSON(this.name,x);Gt("string"===typeof k,t,"internal-error"),Fn(f,t.name),Fn(h,t.name),Gt("boolean"===typeof w,t,"internal-error"),Gt("boolean"===typeof b,t,"internal-error"),Fn(d,t.name),Fn(p,t.name),Fn(v,t.name),Fn(y,t.name),Fn(m,t.name),Fn(g,t.name);var I=new e({uid:k,auth:t,email:h,emailVerified:w,displayName:f,isAnonymous:b,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:S,createdAt:m,lastLoginAt:g});return _&&Array.isArray(_)&&(I.providerData=_.map((function(e){return Object.assign({},e)}))),y&&(I._redirectEventId=y),I}},{key:"_fromIdTokenResponse",value:function(){var t=Z(ee().mark((function t(n,r){var i,a,o,u=arguments;return ee().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new Mn).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,An(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),jn=function(){function e(){he(this,e),this.type="NONE",this.storage={}}return pe(e,[{key:"_isAvailable",value:function(){var e=Z(ee().mark((function e(){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Z(ee().mark((function e(t,n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Z(ee().mark((function e(t){var n;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Z(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();jn.type="NONE";var Vn=jn;function Bn(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var qn=function(){function e(t,n,r){he(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=Bn(this.userKey,a.apiKey,o),this.fullPersistenceKey=Bn("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return pe(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Z(ee().mark((function e(){var t;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?Un._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Z(ee().mark((function e(t){var n;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Z(ee().mark((function t(n,r){var i,a,o,u,s,c,l,f,h,d,p,v=arguments;return ee().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(Qt(Vn),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=Z(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||Qt(Vn),u=Bn(i,n.config.apiKey,n.name),s=null,c=fe(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(h=t.sent)){t.next=23;break}return d=Un._fromJSON(n,h),f!==o&&(s=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Z(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function zn(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Kn(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Wn(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Qn(t))return"Blackberry";if(Jn(t))return"Webos";if(Gn(t))return"Safari";if((t.includes("chrome/")||Hn(t))&&!t.includes("edge/"))return"Chrome";if(Yn(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Wn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee();return/firefox\//i.test(e)}function Gn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Hn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee();return/crios\//i.test(e)}function Kn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee();return/iemobile/i.test(e)}function Yn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee();return/android/i.test(e)}function Qn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee();return/blackberry/i.test(e)}function Jn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee();return/webos/i.test(e)}function Xn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee();return/iphone|ipad|ipod/i.test(e)}function Zn(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee();return Xn(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function $n(){return Ne()&&10===document.documentMode}function er(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee();return Xn(e)||Yn(e)||Jn(e)||Qn(e)||/windows phone/i.test(e)||Kn(e)}function tr(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=zn(Ee());break;case"Worker":t="".concat(zn(Ee()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(St,"/").concat(r)}var nr=function(){function e(t,n){he(this,e),this.app=t,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ir(this),this.idTokenSubscription=new ir(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ft,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=n.sdkClientVersion}return pe(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=Qt(t)),this._initializationPromise=this.queue(Z(ee().mark((function r(){var i,a;return ee().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,qn.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Z(ee().mark((function e(){var t;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Z(ee().mark((function e(t){var n,r,i,a,o;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,!t||!this.config.authDomain){e.next=12;break}return e.next=6,this.getOrInitRedirectPersistenceManager();case 6:return i=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,a=null===r||void 0===r?void 0:r._redirectEventId,e.next=10,this.tryRedirectSignIn(t);case 10:o=e.sent,i&&i!==a||!(null===o||void 0===o?void 0:o.user)||(r=o.user);case 12:if(r){e.next=14;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 14:if(r._redirectEventId){e.next=16;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 16:return Gt(this._popupRedirectResolver,this,"argument-error"),e.next=19,this.getOrInitRedirectPersistenceManager();case 19:if(!this.redirectUser||this.redirectUser._redirectEventId!==r._redirectEventId){e.next=21;break}return e.abrupt("return",this.directlySetCurrentUser(r));case 21:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 22:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Z(ee().mark((function e(t){var n;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Z(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,An(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Z(ee().mark((function e(){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Z(ee().mark((function e(t){var n;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Ge(t):null)&&Gt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Z(ee().mark((function e(t){var n=this;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return t&&Gt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e.abrupt("return",this.queue(Z(ee().mark((function e(){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.directlySetCurrentUser(t);case 2:n.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Z(ee().mark((function e(){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=3;break}return e.next=3,this._setRedirectUser(null);case 3:return e.abrupt("return",this._updateCurrentUser(null));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Z(ee().mark((function n(){return ee().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(Qt(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new Re("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Z(ee().mark((function e(t,n){var r;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Z(ee().mark((function e(t){var n;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return Gt(n=t&&Qt(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,qn.create(this,[Qt(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Z(ee().mark((function e(t){var n,r;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Z(ee().mark((function e(){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Z(ee().mark((function e(t){var n=this;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Z(ee().mark((function e(){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Gt(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=Z(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Gt(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=tr(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=Z(ee().mark((function e(){var t;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=ye({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId),e.abrupt("return",t);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function rr(e){return Ge(e)}var ir=function(){function e(t){var n=this;he(this,e),this.auth=t,this.observer=null,this.addObserver=qe((function(e){return n.observer=e}))}return pe(e,[{key:"next",get:function(){return Gt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();var ar=function(){function e(t,n){he(this,e),this.providerId=t,this.signInMethod=n}return pe(e,[{key:"toJSON",value:function(){return Ht("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Ht("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Ht("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Ht("not implemented")}}]),e}();function or(e,t){return ur.apply(this,arguments)}function ur(){return(ur=Z(ee().mark((function e(t,n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",un(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sr(e,t){return cr.apply(this,arguments)}function cr(){return(cr=Z(ee().mark((function e(t,n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fn(t,"POST","/v1/accounts:signInWithPassword",on(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lr(e,t){return fr.apply(this,arguments)}function fr(){return(fr=Z(ee().mark((function e(t,n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fn(t,"POST","/v1/accounts:signInWithEmailLink",on(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hr(e,t){return dr.apply(this,arguments)}function dr(){return(dr=Z(ee().mark((function e(t,n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fn(t,"POST","/v1/accounts:signInWithEmailLink",on(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var pr=function(e){oe(n,e);var t=le(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return he(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return pe(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Z(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",sr(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",lr(t,{email:this._email,oobCode:this._password}));case 5:Vt(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Z(ee().mark((function e(t,n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",or(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",hr(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:Vt(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(ar);function vr(e,t){return yr.apply(this,arguments)}function yr(){return(yr=Z(ee().mark((function e(t,n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fn(t,"POST","/v1/accounts:signInWithIdp",on(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var mr=function(e){oe(n,e);var t=le(n);function n(){var e;return he(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return pe(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return vr(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,vr(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,vr(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=je(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Vt("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=Rt(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(ar);function gr(e,t){return kr.apply(this,arguments)}function kr(){return(kr=Z(ee().mark((function e(t,n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",un(t,"POST","/v1/accounts:sendVerificationCode",on(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wr(){return(wr=Z(ee().mark((function e(t,n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fn(t,"POST","/v1/accounts:signInWithPhoneNumber",on(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function br(){return(br=Z(ee().mark((function e(t,n){var r;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fn(t,"POST","/v1/accounts:signInWithPhoneNumber",on(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw vn(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var _r=ye({},"USER_NOT_FOUND","user-not-found");function xr(){return(xr=Z(ee().mark((function e(t,n){var r;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",fn(t,"POST","/v1/accounts:signInWithPhoneNumber",on(t,r),_r));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Sr=function(e){oe(n,e);var t=le(n);function n(e){var r;return he(this,n),(r=t.call(this,"phone","phone")).params=e,r}return pe(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return wr.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return br.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return xr.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(ar);var Ir=function(){function e(t){var n,r,i,a,o,u;he(this,e);var s=Ve(Be(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);Gt(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return pe(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Ve(Be(e)).link,n=t?Ve(Be(t)).deep_link_id:null,r=Ve(Be(e)).deep_link_id;return(r?Ve(Be(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(Zk){return null}}}]),e}();var Er=function(){function e(){he(this,e),this.providerId=e.PROVIDER_ID}return pe(e,null,[{key:"credential",value:function(e,t){return pr._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=Ir.parseLink(t);return Gt(n,"argument-error"),pr._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();Er.PROVIDER_ID="password",Er.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Er.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Tr=function(){function e(t){he(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return pe(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Cr=function(e){oe(n,e);var t=le(n);function n(){var e;return he(this,n),(e=t.apply(this,arguments)).scopes=[],e}return pe(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return ve(this.scopes)}}]),n}(Tr),Ar=function(e){oe(n,e);var t=le(n);function n(){return he(this,n),t.call(this,"facebook.com")}return pe(n,null,[{key:"credential",value:function(e){return mr._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(Zk){return null}}}]),n}(Cr);Ar.FACEBOOK_SIGN_IN_METHOD="facebook.com",Ar.PROVIDER_ID="facebook.com";var Nr=function(e){oe(n,e);var t=le(n);function n(){var e;return he(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return pe(n,null,[{key:"credential",value:function(e,t){return mr._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(Zk){return null}}}]),n}(Cr);Nr.GOOGLE_SIGN_IN_METHOD="google.com",Nr.PROVIDER_ID="google.com";var Dr=function(e){oe(n,e);var t=le(n);function n(){return he(this,n),t.call(this,"github.com")}return pe(n,null,[{key:"credential",value:function(e){return mr._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(Zk){return null}}}]),n}(Cr);Dr.GITHUB_SIGN_IN_METHOD="github.com",Dr.PROVIDER_ID="github.com";var Or=function(e){oe(n,e);var t=le(n);function n(){return he(this,n),t.call(this,"twitter.com")}return pe(n,null,[{key:"credential",value:function(e,t){return mr._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(Zk){return null}}}]),n}(Cr);Or.TWITTER_SIGN_IN_METHOD="twitter.com",Or.PROVIDER_ID="twitter.com";var Rr=function(){function e(t){he(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return pe(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Z(ee().mark((function t(n,r,i){var a,o,u,s,c=arguments;return ee().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,Un._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=Pr(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Z(ee().mark((function t(n,r,i){var a;return ee().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=Pr(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Pr(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}var Lr=function(e){oe(n,e);var t=le(n);function n(e,r,i,a){var o,u;return he(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(ie(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return pe(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(Oe);function Mr(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Lr._fromErrorAndOperation(e,n,t,r);throw n}))}function Fr(e,t){return Ur.apply(this,arguments)}function Ur(){return Ur=Z(ee().mark((function e(t,n){var r,i,a=arguments;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=Sn,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",Rr._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),Ur.apply(this,arguments)}function jr(e,t){return Vr.apply(this,arguments)}function Vr(){return Vr=Z(ee().mark((function e(t,n){var r,i,a,o,u,s,c=arguments;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,Sn(t,Mr(i,a,n,t),r);case 6:return Gt((o=e.sent).idToken,i,"internal-error"),Gt(u=xn(o.idToken),i,"internal-error"),s=u.sub,Gt(t.uid===s,i,"user-mismatch"),e.abrupt("return",Rr._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&Vt(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),Vr.apply(this,arguments)}function Br(e,t){return qr.apply(this,arguments)}function qr(){return qr=Z(ee().mark((function e(t,n){var r,i,a,o,u=arguments;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,Mr(t,i,n);case 4:return a=e.sent,e.next=7,Rr._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),qr.apply(this,arguments)}function zr(e){return Ge(e).signOut()}function Wr(e,t){return un(e,"POST","/v2/accounts/mfaEnrollment:start",on(e,t))}new WeakMap;var Gr="__sak",Hr=function(){function e(t,n){he(this,e),this.storageRetriever=t,this.type=n}return pe(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Gr,"1"),this.storage.removeItem(Gr),Promise.resolve(!0)):Promise.resolve(!1)}catch(Zk){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var Kr=function(e){oe(n,e);var t=le(n);function n(){var e;return he(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Ee();return Gn(e)||Xn(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=er(),e._shouldAllowMigration=!0,e}return pe(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);$n()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Z(ee().mark((function e(t,r){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re(te(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Z(ee().mark((function e(t){var r;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re(te(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Z(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re(te(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Hr);Kr.type="LOCAL";var Yr=Kr,Qr=function(e){oe(n,e);var t=le(n);function n(){return he(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return pe(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(Hr);Qr.type="SESSION";var Jr=Qr;function Xr(e){return Promise.all(e.map(function(){var e=Z(ee().mark((function e(t){var n;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var Zr=function(){function e(t){he(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return pe(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Z(ee().mark((function e(t){var n,r,i,a,o,u,s,c;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=Z(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,Xr(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function $r(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Zr.receivers=[];var ei=function(){function e(t){he(this,e),this.target=t,this.handlers=new Set}return pe(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Z(ee().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=$r("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function ti(){return window}function ni(){return"undefined"!==typeof ti().WorkerGlobalScope&&"function"===typeof ti().importScripts}function ri(){return ii.apply(this,arguments)}function ii(){return(ii=Z(ee().mark((function e(){var t;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function ai(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var oi="firebaseLocalStorageDb",ui="firebaseLocalStorage",si="fbase_key",ci=function(){function e(t){he(this,e),this.request=t}return pe(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function li(e,t){return e.transaction([ui],t?"readwrite":"readonly").objectStore(ui)}function fi(){var e=indexedDB.deleteDatabase(oi);return new ci(e).toPromise()}function hi(){var e=indexedDB.open(oi,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(ui,{keyPath:si})}catch(r){n(r)}})),e.addEventListener("success",Z(ee().mark((function n(){var r;return ee().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(ui)){n.next=12;break}return r.close(),n.next=5,fi();case 5:return n.t0=t,n.next=8,hi();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function di(e,t,n){return pi.apply(this,arguments)}function pi(){return pi=Z(ee().mark((function e(t,n,r){var i,a;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=li(t,!0).put((ye(i={},si,n),ye(i,"value",r),i)),e.abrupt("return",new ci(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),pi.apply(this,arguments)}function vi(e,t){return yi.apply(this,arguments)}function yi(){return yi=Z(ee().mark((function e(t,n){var r,i;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=li(t,!1).get(n),e.next=3,new ci(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),yi.apply(this,arguments)}function mi(e,t){var n=li(e,!0).delete(t);return new ci(n).toPromise()}var gi=function(){function e(){he(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return pe(e,[{key:"_openDb",value:function(){var e=Z(ee().mark((function e(){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,hi();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Z(ee().mark((function e(t){var n,r;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Z(ee().mark((function e(){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ni()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Z(ee().mark((function e(){var t=this;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=Zr._getInstance(ni()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Z(ee().mark((function e(n,r){var i;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Z(ee().mark((function e(t,n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Z(ee().mark((function e(){var t,n,r;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ri();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new ei(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Z(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&ai()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Z(ee().mark((function e(){var t;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,hi();case 5:return t=e.sent,e.next=8,di(t,Gr,"1");case 8:return e.next=10,mi(t,Gr);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Z(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Z(ee().mark((function e(t,n){var r=this;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Z(ee().mark((function e(){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return di(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Z(ee().mark((function e(t){var n;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return vi(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Z(ee().mark((function e(t){var n=this;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Z(ee().mark((function e(){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return mi(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Z(ee().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=li(e,!1).getAll();return new ci(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=fe(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Z(ee().mark((function t(){return ee().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();gi.type="LOCAL";var ki=gi;function wi(e,t){return un(e,"POST","/v2/accounts/mfaSignIn:start",on(e,t))}function bi(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=Bt("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function _i(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}_i("rcb"),new en(3e4,6e4);var xi="recaptcha";function Si(e,t,n){return Ii.apply(this,arguments)}function Ii(){return Ii=Z(ee().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,Gt("string"===typeof a,t,"argument-error"),Gt(r.type===xi,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return Gt("enroll"===u.type,t,"internal-error"),e.next=13,Wr(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return Gt("signin"===u.type,t,"internal-error"),Gt(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,wi(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,gr(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),Ii.apply(this,arguments)}var Ei=function(){function e(t){he(this,e),this.providerId=e.PROVIDER_ID,this.auth=rr(t)}return pe(e,[{key:"verifyPhoneNumber",value:function(e,t){return Si(this.auth,e,Ge(t))}}],[{key:"credential",value:function(e,t){return Sr._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?Sr._fromTokenResponse(n,r):null}}]),e}();function Ti(e,t){return t?Qt(t):(Gt(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Ei.PROVIDER_ID="phone",Ei.PHONE_SIGN_IN_METHOD="phone";var Ci=function(e){oe(n,e);var t=le(n);function n(e){var r;return he(this,n),(r=t.call(this,"custom","custom")).params=e,r}return pe(n,[{key:"_getIdTokenResponse",value:function(e){return vr(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return vr(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return vr(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(ar);function Ai(e){return Br(e.auth,new Ci(e),e.bypassAuthState)}function Ni(e){var t=e.auth,n=e.user;return Gt(n,t,"internal-error"),jr(n,new Ci(e),e.bypassAuthState)}function Di(e){return Oi.apply(this,arguments)}function Oi(){return(Oi=Z(ee().mark((function e(t){var n,r;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,Gt(r=t.user,n,"internal-error"),e.abrupt("return",Fr(r,new Ci(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ri=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];he(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return pe(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Z(ee().mark((function t(n,r){return ee().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Z(ee().mark((function e(t){var n,r,i,a,o,u,s;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ai;case"linkViaPopup":case"linkViaRedirect":return Di;case"reauthViaPopup":case"reauthViaRedirect":return Ni;default:Vt(this.auth,"internal-error")}}},{key:"resolve",value:function(e){Kt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){Kt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),Pi=new en(2e3,1e4);function Li(e,t,n){return Mi.apply(this,arguments)}function Mi(){return(Mi=Z(ee().mark((function e(t,n,r){var i,a,o;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=rr(t),zt(t,n,Tr),a=Ti(i,r),o=new Fi(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Fi=function(e){oe(n,e);var t=le(n);function n(e,r,i,a,o){var u;return he(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=ie(u),u}return pe(n,[{key:"executeNotNull",value:function(){var e=Z(ee().mark((function e(){var t;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return Gt(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Z(ee().mark((function e(){var t,n=this;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Kt(1===this.filter.length,"Popup operations only handle one event"),t=$r(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(Bt(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(Bt(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(Bt(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,Pi.get())}()}}]),n}(Ri);Fi.currentPopupAction=null;var Ui=new Map,ji=function(e){oe(n,e);var t=le(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return he(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return pe(n,[{key:"execute",value:function(){var e=Z(ee().mark((function e(){var t,r;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Ui.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,Vi(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,re(te(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:Ui.set(this.auth._key(),t);case 21:return this.bypassAuthState||Ui.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Z(ee().mark((function e(t){var r;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",re(te(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",re(te(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Z(ee().mark((function e(){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(Ri);function Vi(e,t){return Bi.apply(this,arguments)}function Bi(){return(Bi=Z(ee().mark((function e(t,n){var r,i,a;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=zi(n),i=qi(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qi(e){return Qt(e._redirectPersistence)}function zi(e){return Bn("pendingRedirect",e.config.apiKey,e.name)}function Wi(e,t){return Gi.apply(this,arguments)}function Gi(){return Gi=Z(ee().mark((function e(t,n){var r,i,a,o,u,s=arguments;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=rr(t),a=Ti(i,n),o=new ji(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),Gi.apply(this,arguments)}var Hi=function(){function e(t){he(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return pe(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Yi(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!Yi(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Bt(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ki(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(Ki(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function Ki(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function Yi(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function Qi(e){return Ji.apply(this,arguments)}function Ji(){return Ji=Z(ee().mark((function e(t){var n,r=arguments;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",un(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),Ji.apply(this,arguments)}var Xi=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Zi=/^https?/;function $i(){return($i=Z(ee().mark((function e(t){var n,r,i,a,o;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Qi(t);case 4:n=e.sent,r=n.authorizedDomains,i=fe(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!ea(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:Vt(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])})))).apply(this,arguments)}function ea(e){var t=Xt(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Zi.test(r))return!1;if(Xi.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var ta=new en(3e4,6e4);function na(){var e=ti().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=ve(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var ra=null;function ia(e){return ra=ra||function(e){return new Promise((function(t,n){var r,i,a;function o(){na(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){na(),n(Bt(e,"network-request-failed"))},timeout:ta.get()})}if(null===(i=null===(r=ti().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=ti().gapi)||void 0===a?void 0:a.load)){var u=_i("iframefcb");return ti()[u]=function(){gapi.load?o():n(Bt(e,"network-request-failed"))},bi("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw ra=null,e}))}(e),ra}var aa=new en(5e3,15e3),oa={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ua=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function sa(e){var t=e.config;Gt(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?tn(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:St},i=ua.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(je(r).slice(1))}function ca(e){return la.apply(this,arguments)}function la(){return la=Z(ee().mark((function e(t){var n,r;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ia(t);case 2:return n=e.sent,Gt(r=ti().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:sa(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:oa,dontclear:!0},(function(e){return new Promise(function(){var n=Z(ee().mark((function n(r,i){var a,o,u;return ee().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){ti().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=Bt(t,"network-request-failed"),o=ti().setTimeout((function(){i(a)}),aa.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),la.apply(this,arguments)}var fa={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ha="_blank",da="http://localhost",pa=function(){function e(t){he(this,e),this.window=t,this.associatedEvent=null}return pe(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function va(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",c=Object.assign(Object.assign({},fa),{width:r.toString(),height:i.toString(),top:a,left:o}),l=Ee().toLowerCase();n&&(u=Hn(l)?ha:n),Wn(l)&&(t=t||da,c.scrollbars="yes");var f=Object.entries(c).reduce((function(e,t){var n=s(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(Zn(l)&&"_self"!==u)return ya(t||"",u),new pa(null);var h=window.open(t||"",u,f);Gt(h,e,"popup-blocked");try{h.focus()}catch(d){}return new pa(h)}function ya(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var ma="__/auth/handler",ga="emulator/auth/handler";function ka(e,t,n,r,i,a){Gt(e.config.authDomain,e,"auth-domain-config-required"),Gt(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:St,eventId:i};if(t instanceof Tr){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,c=Object.entries(a||{});u<c.length;u++){var l=s(c[u],2),f=l[0],h=l[1];o[f]=h}}if(t instanceof Cr){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(o.scopes=d.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var p=o,v=0,y=Object.keys(p);v<y.length;v++){var m=y[v];void 0===p[m]&&delete p[m]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(ma);return tn(t,ga)}(e),"?").concat(je(p).slice(1))}var wa="webStorageSupport",ba=function(){function e(){he(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Jr,this._completeRedirectFn=Wi}return pe(e,[{key:"_openPopup",value:function(){var e=Z(ee().mark((function e(t,n,r,i){var a,o;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Kt(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=ka(t,n,r,Xt(),i),e.abrupt("return",va(t,o,$r()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Z(ee().mark((function e(t,n,r,i){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=ka(t,n,r,Xt(),i),ti().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(Kt(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=Z(ee().mark((function e(t){var n,r;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ca(t);case 2:return n=e.sent,r=new Hi(t),n.register("authEvent",(function(e){return Gt(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(wa,{type:wa},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),Vt(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return $i.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return er()||Gn()||Xn()}}]),e}(),_a=ba,xa=function(e){oe(n,e);var t=le(n);function n(e){var r;return he(this,n),(r=t.call(this,"phone")).credential=e,r}return pe(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return un(e,"POST","/v2/accounts/mfaEnrollment:finalize",on(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return un(e,"POST","/v2/accounts/mfaSignIn:finalize",on(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(function(){function e(t){he(this,e),this.factorId=t}return pe(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Ht("unexpected MultiFactorSessionType")}}}]),e}());(function(){function e(){he(this,e)}return pe(e,null,[{key:"assertion",value:function(e){return xa._fromCredential(e)}}]),e}()).FACTOR_ID="phone";var Sa,Ia="@firebase/auth",Ea="0.19.9",Ta=function(){function e(t){he(this,e),this.auth=t,this.internalListeners=new Map}return pe(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Z(ee().mark((function e(t){var n;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Gt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function Ca(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et(),t=mt(e,"auth");return t.isInitialized()?t.getImmediate():Jt(e,{popupRedirectResolver:_a,persistence:[ki,Yr,Jr]})}Sa="Browser",yt(new He("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=r.options,a=i.apiKey,o=i.authDomain;return function(e){Gt(a&&!a.includes(":"),"invalid-api-key",{appName:e.name}),Gt(!(null===o||void 0===o?void 0:o.includes(":")),"argument-error",{appName:e.name});var t={apiKey:a,authDomain:o,clientPlatform:Sa,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:tr(Sa)},r=new nr(e,t);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Qt);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(r,n),r}(r)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),yt(new He("auth-internal",(function(e){return function(e){return new Ta(e)}(rr(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Nt(Ia,Ea,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Sa)),Nt(Ia,Ea,"esm2017");var Aa,Na=function(){return!!window&&"true"===window.sessionStorage.getItem("isUserLoggedIn")},Da=function(){var e=Z(ee().mark((function e(){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:zr(Ca()).then((function(){console.log("Sign-out successful"),window.sessionStorage.removeItem("isUserLoggedIn"),window.sessionStorage.removeItem("userDisplayName")})).catch((function(e){console.log("Logout error: ",e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Oa="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof r.g?r.g:"undefined"!==typeof self?self:{},Ra={},Pa=Pa||{},La=Oa||self;function Ma(){}function Fa(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Ua(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var ja="closure_uid_"+(1e9*Math.random()>>>0),Va=0;function Ba(e,t,n){return e.call.apply(e.bind,arguments)}function qa(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function za(e,t,n){return(za=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ba:qa).apply(null,arguments)}function Wa(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Ga(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Ha(){this.s=this.s,this.o=this.o}var Ka={};Ha.prototype.s=!1,Ha.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,ja)&&e[ja]||(e[ja]=++Va)}(this);delete Ka[e]}},Ha.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Ya=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Qa=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function Ja(e){return Array.prototype.concat.apply([],arguments)}function Xa(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Za(e){return/^[\s\xa0]*$/.test(e)}var $a,eo=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function to(e,t){return-1!=e.indexOf(t)}function no(e,t){return e<t?-1:e>t?1:0}e:{var ro=La.navigator;if(ro){var io=ro.userAgent;if(io){$a=io;break e}}$a=""}function ao(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function oo(e){var t={};for(var n in e)t[n]=e[n];return t}var uo="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function so(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<uo.length;a++)n=uo[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function co(e){return co[" "](e),e}co[" "]=Ma;var lo,fo=to($a,"Opera"),ho=to($a,"Trident")||to($a,"MSIE"),po=to($a,"Edge"),vo=po||ho,yo=to($a,"Gecko")&&!(to($a.toLowerCase(),"webkit")&&!to($a,"Edge"))&&!(to($a,"Trident")||to($a,"MSIE"))&&!to($a,"Edge"),mo=to($a.toLowerCase(),"webkit")&&!to($a,"Edge");function go(){var e=La.document;return e?e.documentMode:void 0}e:{var ko="",wo=function(){var e=$a;return yo?/rv:([^\);]+)(\)|;)/.exec(e):po?/Edge\/([\d\.]+)/.exec(e):ho?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):mo?/WebKit\/(\S+)/.exec(e):fo?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(wo&&(ko=wo?wo[1]:""),ho){var bo=go();if(null!=bo&&bo>parseFloat(ko)){lo=String(bo);break e}}lo=ko}var _o,xo={};function So(){return function(e){var t=xo;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=eo(String(lo)).split("."),n=eo("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=no(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||no(0==a[2].length,0==o[2].length)||no(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(La.document&&ho){var Io=go();_o=Io||(parseInt(lo,10)||void 0)}else _o=void 0;var Eo=_o,To=function(){if(!La.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{La.addEventListener("test",Ma,t),La.removeEventListener("test",Ma,t)}catch(n){}return e}();function Co(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function Ao(e,t){if(Co.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(yo){e:{try{co(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:No[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Ao.Z.h.call(this)}}Co.prototype.h=function(){this.defaultPrevented=!0},Ga(Ao,Co);var No={2:"touch",3:"pen",4:"mouse"};Ao.prototype.h=function(){Ao.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Do="closure_listenable_"+(1e6*Math.random()|0),Oo=0;function Ro(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++Oo,this.ca=this.fa=!1}function Po(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Lo(e){this.src=e,this.g={},this.h=0}function Mo(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Ya(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Po(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Fo(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}Lo.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Fo(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new Ro(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var Uo="closure_lm_"+(1e6*Math.random()|0),jo={};function Vo(e,t,n,r,i){if(r&&r.once)return qo(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Vo(e,t[a],n,r,i);return null}return n=Qo(n),e&&e[Do]?e.N(t,n,Ua(r)?!!r.capture:!!r,i):Bo(e,t,n,!1,r,i)}function Bo(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Ua(i)?!!i.capture:!!i,u=Ko(e);if(u||(e[Uo]=u=new Lo(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Ho;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)To||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Go(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function qo(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)qo(e,t[a],n,r,i);return null}return n=Qo(n),e&&e[Do]?e.O(t,n,Ua(r)?!!r.capture:!!r,i):Bo(e,t,n,!0,r,i)}function zo(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)zo(e,t[a],n,r,i);else r=Ua(r)?!!r.capture:!!r,n=Qo(n),e&&e[Do]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Fo(a=e.g[t],n,r,i))&&(Po(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Ko(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Fo(t,n,r,i)),(n=-1<e?t[e]:null)&&Wo(n))}function Wo(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[Do])Mo(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Go(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Ko(t))?(Mo(n,e),0==n.h&&(n.src=null,t[Uo]=null)):Po(e)}}}function Go(e){return e in jo?jo[e]:jo[e]="on"+e}function Ho(e,t){if(e.ca)e=!0;else{t=new Ao(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Wo(e),e=n.call(r,t)}return e}function Ko(e){return(e=e[Uo])instanceof Lo?e:null}var Yo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Qo(e){return"function"===typeof e?e:(e[Yo]||(e[Yo]=function(t){return e.handleEvent(t)}),e[Yo])}function Jo(){Ha.call(this),this.i=new Lo(this),this.P=this,this.I=null}function Xo(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new Co(t,e);else if(t instanceof Co)t.target=t.target||e;else{var i=t;so(t=new Co(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Zo(o,r,!0,t)&&i}if(i=Zo(o=t.g=e,r,!0,t)&&i,i=Zo(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Zo(o=t.g=n[a],r,!1,t)&&i}function Zo(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var u=o.listener,s=o.ia||o.src;o.fa&&Mo(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}Ga(Jo,Ha),Jo.prototype[Do]=!0,Jo.prototype.removeEventListener=function(e,t,n,r){zo(this,e,t,n,r)},Jo.prototype.M=function(){if(Jo.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Po(n[r]);delete t.g[e],t.h--}}this.I=null},Jo.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Jo.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var $o=La.JSON.stringify;function eu(){var e=su,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var tu,nu=function(){function e(){he(this,e),this.h=this.g=null}return pe(e,[{key:"add",value:function(e,t){var n=ru.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),ru=new(function(){function e(t,n){he(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return pe(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new iu}),(function(e){return e.reset()})),iu=function(){function e(){he(this,e),this.next=this.g=this.h=null}return pe(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function au(e){La.setTimeout((function(){throw e}),0)}function ou(e,t){tu||function(){var e=La.Promise.resolve(void 0);tu=function(){e.then(cu)}}(),uu||(tu(),uu=!0),su.add(e,t)}var uu=!1,su=new nu;function cu(){for(var e;e=eu();){try{e.h.call(e.g)}catch(n){au(n)}var t=ru;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}uu=!1}function lu(e,t){Jo.call(this),this.h=e||1,this.g=t||La,this.j=za(this.kb,this),this.l=Date.now()}function fu(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function hu(e,t,n){if("function"===typeof e)n&&(e=za(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=za(e.handleEvent,e)}return 2147483647<Number(t)?-1:La.setTimeout(e,t||0)}function du(e){e.g=hu((function(){e.g=null,e.i&&(e.i=!1,du(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Ga(lu,Jo),(Aa=lu.prototype).da=!1,Aa.S=null,Aa.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Xo(this,"tick"),this.da&&(fu(this),this.start()))}},Aa.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Aa.M=function(){lu.Z.M.call(this),fu(this),delete this.g};var pu=function(e){oe(n,e);var t=le(n);function n(e,r){var i;return he(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return pe(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:du(this)}},{key:"M",value:function(){re(te(n.prototype),"M",this).call(this),this.g&&(La.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Ha);function vu(e){Ha.call(this),this.h=e,this.g={}}Ga(vu,Ha);var yu=[];function mu(e,t,n,r){Array.isArray(n)||(n&&(yu[0]=n.toString()),n=yu);for(var i=0;i<n.length;i++){var a=Vo(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function gu(e){ao(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Wo(e)}),e),e.g={}}function ku(){this.g=!0}function wu(e,t,r,i){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var r=JSON.parse(t);if(r)for(e=0;e<r.length;e++)if(Array.isArray(r[e])){var i=r[e];if(!(2>i.length)){var a=i[1];if(Array.isArray(a)&&!(1>a.length)){var o=a[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var u=1;u<a.length;u++)a[u]=""}}}return $o(r)}catch(n){return t}}(e,r)+(i?" "+i:"")}))}vu.prototype.M=function(){vu.Z.M.call(this),gu(this)},vu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ku.prototype.Aa=function(){this.g=!1},ku.prototype.info=function(){};var bu={},_u=null;function xu(){return _u=_u||new Jo}function Su(e){Co.call(this,bu.Ma,e)}function Iu(e){var t=xu();Xo(t,new Su(t,e))}function Eu(e,t){Co.call(this,bu.STAT_EVENT,e),this.stat=t}function Tu(e){var t=xu();Xo(t,new Eu(t,e))}function Cu(e,t){Co.call(this,bu.Na,e),this.size=t}function Au(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return La.setTimeout((function(){e()}),t)}bu.Ma="serverreachability",Ga(Su,Co),bu.STAT_EVENT="statevent",Ga(Eu,Co),bu.Na="timingevent",Ga(Cu,Co);var Nu={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Du={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Ou(){}function Ru(e){return e.h||(e.h=e.i())}function Pu(){}Ou.prototype.h=null;var Lu,Mu={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Fu(){Co.call(this,"d")}function Uu(){Co.call(this,"c")}function ju(){}function Vu(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new vu(this),this.P=qu,e=vo?125:void 0,this.W=new lu(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Bu}function Bu(){this.i=null,this.g="",this.h=!1}Ga(Fu,Co),Ga(Uu,Co),Ga(ju,Ou),ju.prototype.g=function(){return new XMLHttpRequest},ju.prototype.i=function(){return{}},Lu=new ju;var qu=45e3,zu={},Wu={};function Gu(e,t,n){e.K=1,e.v=ps(ss(t)),e.s=n,e.U=!0,Hu(e,null)}function Hu(e,t){e.F=Date.now(),Ju(e),e.A=ss(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),Ts(n.h,"t",r),e.C=0,n=e.l.H,e.h=new Bu,e.g=Ac(e.l,n?t:null,!e.s),0<e.O&&(e.L=new pu(za(e.Ia,e,e.g),e.O)),mu(e.V,e.g,"readystatechange",e.gb),t=e.H?oo(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Iu(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function Ku(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function Yu(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Qu(e,n))==Wu){4==t&&(e.o=4,Tu(14),i=!1),wu(e.j,e.m,null,"[Incomplete Response]");break}if(r==zu){e.o=4,Tu(15),wu(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}wu(e.j,e.m,r,null),ts(e,r)}Ku(e)&&r!=Wu&&r!=zu&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Tu(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),bc(t),t.L=!0,Tu(11))):(wu(e.j,e.m,n,"[Invalid Chunked Response]"),es(e),$u(e))}function Qu(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Wu:(n=Number(t.substring(n,r)),isNaN(n)?zu:(r+=1)+n>t.length?Wu:(t=t.substr(r,n),e.C=r+n,t))}function Ju(e){e.Y=Date.now()+e.P,Xu(e,e.P)}function Xu(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Au(za(e.eb,e),t)}function Zu(e){e.B&&(La.clearTimeout(e.B),e.B=null)}function $u(e){0==e.l.G||e.I||Sc(e.l,e)}function es(e){Zu(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,fu(e.W),gu(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function ts(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Ls(n.i,e)))if(n.I=e.N,!e.J&&Ls(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;xc(n),hc(n)}wc(n),Tu(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Au(za(n.ab,n),6e3));if(1>=Ps(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else Ec(n,11)}else if((e.J||n.g==e)&&xc(n),!Za(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var u=a[4];null!=u&&(n.za=u,n.h.info("SVER="+n.za));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(to(l,"spdy")||to(l,"quic")||to(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(Ms(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,ds(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=Cc(r,r.H?r.la:null,r.W),d.J){Fs(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(Zu(p),Ju(p)),r.g=d}else kc(r);0<n.l.length&&vc(n)}else"stop"!=a[0]&&"close"!=a[0]||Ec(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Ec(n,7):fc(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}Iu(4)}catch(a){}}function ns(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Fa(e)||"string"===typeof e)Qa(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(Fa(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(Fa(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function rs(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof rs)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function is(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];as(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)as(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function as(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(Aa=Vu.prototype).setTimeout=function(e){this.P=e},Aa.gb=function(e){e=e.target;var t=this.L;t&&3==oc(e)?t.l():this.Ia(e)},Aa.Ia=function(e){try{if(e==this.g)e:{var t=oc(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||vo||this.g&&(this.h.h||this.g.ga()||uc(this.g)))){this.I||4!=t||7==n||Iu(8==n||0>=r?3:2),Zu(this);var i=this.g.ba();this.N=i;t:if(Ku(this)){var a=uc(this.g);e="";var o=a.length,u=4==oc(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){es(this),$u(this);var s="";break t}this.h.i=new La.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:u&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Za(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,Tu(12),es(this),$u(this);break e}wu(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,ts(this,i)}this.U?(Yu(this,t,s),vo&&this.i&&3==t&&(mu(this.V,this.W,"tick",this.fb),this.W.start())):(wu(this.j,this.m,s,null),ts(this,s)),4==t&&es(this),this.i&&!this.I&&(4==t?Sc(this.l,this):(this.i=!1,Ju(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.o=3,Tu(12)):(this.o=0,Tu(13)),es(this),$u(this)}}}catch(t){}},Aa.fb=function(){if(this.g){var e=oc(this.g),t=this.g.ga();this.C<t.length&&(Zu(this),Yu(this,e,t),this.i&&4!=e&&Ju(this))}},Aa.cancel=function(){this.I=!0,es(this)},Aa.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Iu(3),Tu(17)),es(this),this.o=2,$u(this)):Xu(this,this.Y-e)},(Aa=rs.prototype).R=function(){is(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},Aa.T=function(){return is(this),this.g.concat()},Aa.get=function(e,t){return as(this.h,e)?this.h[e]:t},Aa.set=function(e,t){as(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},Aa.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var os=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function us(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof us){this.g=void 0!==t?t:e.g,cs(this,e.j),this.s=e.s,ls(this,e.i),fs(this,e.m),this.l=e.l,t=e.h;var n=new xs;n.i=t.i,t.g&&(n.g=new rs(t.g),n.h=t.h),hs(this,n),this.o=e.o}else e&&(n=String(e).match(os))?(this.g=!!t,cs(this,n[1]||"",!0),this.s=vs(n[2]||""),ls(this,n[3]||"",!0),fs(this,n[4]),this.l=vs(n[5]||"",!0),hs(this,n[6]||"",!0),this.o=vs(n[7]||"")):(this.g=!!t,this.h=new xs(null,this.g))}function ss(e){return new us(e)}function cs(e,t,n){e.j=n?vs(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function ls(e,t,n){e.i=n?vs(t,!0):t}function fs(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function hs(e,t,n){t instanceof xs?(e.h=t,function(e,t){t&&!e.j&&(Ss(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Is(this,t),Ts(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=ys(t,bs)),e.h=new xs(t,e.g))}function ds(e,t,n){e.h.set(t,n)}function ps(e){return ds(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function vs(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ys(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,ms),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function ms(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}us.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ys(t,gs,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(ys(t,gs,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(ys(n,"/"==n.charAt(0)?ws:ks,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",ys(n,_s)),e.join("")};var gs=/[#\/\?@]/g,ks=/[#\?:]/g,ws=/[#\?]/g,bs=/[#\?@]/g,_s=/#/g;function xs(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Ss(e){e.g||(e.g=new rs,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Is(e,t){Ss(e),t=Cs(e,t),as(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,as((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&is(e)))}function Es(e,t){return Ss(e),t=Cs(e,t),as(e.g.h,t)}function Ts(e,t,n){Is(e,t),0<n.length&&(e.i=null,e.g.set(Cs(e,t),Xa(n)),e.h+=n.length)}function Cs(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Aa=xs.prototype).add=function(e,t){Ss(this),this.i=null,e=Cs(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Aa.forEach=function(e,t){Ss(this),this.g.forEach((function(n,r){Qa(n,(function(n){e.call(t,n,r,this)}),this)}),this)},Aa.T=function(){Ss(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Aa.R=function(e){Ss(this);var t=[];if("string"===typeof e)Es(this,e)&&(t=Ja(t,this.g.get(Cs(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=Ja(t,e[n])}return t},Aa.set=function(e,t){return Ss(this),this.i=null,Es(this,e=Cs(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Aa.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},Aa.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var As=pe((function e(t,n){he(this,e),this.h=t,this.g=n}));function Ns(e){this.l=e||Os,La.PerformanceNavigationTiming?e=0<(e=La.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(La.g&&La.g.Ea&&La.g.Ea()&&La.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Ds,Os=10;function Rs(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Ps(e){return e.h?1:e.g?e.g.size:0}function Ls(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Ms(e,t){e.g?e.g.add(t):e.h=t}function Fs(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Us(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=fe(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return Xa(e.i)}function js(){}function Vs(){this.g=new js}function Bs(e,t,n){var r=n||"";try{ns(e,(function(e,n){var i=e;Ua(e)&&(i=$o(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function qs(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function zs(e){this.l=e.$b||null,this.j=e.ib||!1}function Ws(e,t){Jo.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Gs,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ns.prototype.cancel=function(){if(this.i=Us(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=fe(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},js.prototype.stringify=function(e){return La.JSON.stringify(e,void 0)},js.prototype.parse=function(e){return La.JSON.parse(e,void 0)},Ga(zs,Ou),zs.prototype.g=function(){return new Ws(this.l,this.j)},zs.prototype.i=(Ds={},function(){return Ds}),Ga(Ws,Jo);var Gs=0;function Hs(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Ks(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Ys(e)}function Ys(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Aa=Ws.prototype).open=function(e,t){if(this.readyState!=Gs)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Ys(this)},Aa.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||La).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},Aa.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ks(this)),this.readyState=Gs},Aa.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Ys(this)),this.g&&(this.readyState=3,Ys(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof La.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Hs(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},Aa.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ks(this):Ys(this),3==this.readyState&&Hs(this)}},Aa.Ua=function(e){this.g&&(this.response=this.responseText=e,Ks(this))},Aa.Ta=function(e){this.g&&(this.response=e,Ks(this))},Aa.ha=function(){this.g&&Ks(this)},Aa.setRequestHeader=function(e,t){this.v.append(e,t)},Aa.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Aa.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Ws.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Qs=La.JSON.parse;function Js(e){Jo.call(this),this.headers=new rs,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Xs,this.K=this.L=!1}Ga(Js,Jo);var Xs="",Zs=/^https?$/i,$s=["POST","PUT"];function ec(e){return"content-type"==e.toLowerCase()}function tc(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,nc(e),ic(e)}function nc(e){e.D||(e.D=!0,Xo(e,"complete"),Xo(e,"error"))}function rc(e){if(e.h&&"undefined"!=typeof Pa&&(!e.C[1]||4!=oc(e)||2!=e.ba()))if(e.v&&4==oc(e))hu(e.Fa,0,e);else if(Xo(e,"readystatechange"),4==oc(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(os)[1]||null;if(!a&&La.self&&La.self.location){var o=La.self.location.protocol;a=o.substr(0,o.length-1)}i=!Zs.test(a?a.toLowerCase():"")}t=i}if(t)Xo(e,"complete"),Xo(e,"success");else{e.m=6;try{var u=2<oc(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.ba()+"]",nc(e)}}finally{ic(e)}}}function ic(e,t){if(e.g){ac(e);var n=e.g,r=e.C[0]?Ma:null;e.g=null,e.C=null,t||Xo(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function ac(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(La.clearTimeout(e.A),e.A=null)}function oc(e){return e.g?e.g.readyState:0}function uc(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Xs:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function sc(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return ao(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ds(e,t,n))}function cc(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function lc(e){this.za=0,this.l=[],this.h=new ku,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=cc("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=cc("baseRetryDelayMs",5e3,e),this.$a=cc("retryDelaySeedMs",1e4,e),this.Ya=cc("forwardChannelMaxRetries",2,e),this.ra=cc("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new Ns(e&&e.concurrentRequestLimit),this.Ca=new Vs,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function fc(e){if(dc(e),3==e.G){var t=e.V++,n=ss(e.F);ds(n,"SID",e.J),ds(n,"RID",t),ds(n,"TYPE","terminate"),mc(e,n),(t=new Vu(e,e.h,t,void 0)).K=2,t.v=ps(ss(n)),n=!1,La.navigator&&La.navigator.sendBeacon&&(n=La.navigator.sendBeacon(t.v.toString(),"")),!n&&La.Image&&((new Image).src=t.v,n=!0),n||(t.g=Ac(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Ju(t)}Tc(e)}function hc(e){e.g&&(bc(e),e.g.cancel(),e.g=null)}function dc(e){hc(e),e.u&&(La.clearTimeout(e.u),e.u=null),xc(e),e.i.cancel(),e.m&&("number"===typeof e.m&&La.clearTimeout(e.m),e.m=null)}function pc(e,t){e.l.push(new As(e.Za++,t)),3==e.G&&vc(e)}function vc(e){Rs(e.i)||e.m||(e.m=!0,ou(e.Ha,e),e.C=0)}function yc(e,t){var n;n=t?t.m:e.V++;var r=ss(e.F);ds(r,"SID",e.J),ds(r,"RID",n),ds(r,"AID",e.U),mc(e,r),e.o&&e.s&&sc(r,e.o,e.s),n=new Vu(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=gc(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Ms(e.i,n),Gu(n,r,t)}function mc(e,t){e.j&&ns({},(function(e,n){ds(t,n,e)}))}function gc(e,t,n){n=Math.min(e.l.length,n);var r=e.j?za(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{Bs(l,o,"req"+c+"_")}catch(rl){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function kc(e){e.g||e.u||(e.Y=1,ou(e.Ga,e),e.A=0)}function wc(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=Au(za(e.Ga,e),Ic(e,e.A)),e.A++,!0)}function bc(e){null!=e.B&&(La.clearTimeout(e.B),e.B=null)}function _c(e){e.g=new Vu(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=ss(e.oa);ds(t,"RID","rpc"),ds(t,"SID",e.J),ds(t,"CI",e.N?"0":"1"),ds(t,"AID",e.U),mc(e,t),ds(t,"TYPE","xmlhttp"),e.o&&e.s&&sc(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=ps(ss(t)),n.s=null,n.U=!0,Hu(n,e)}function xc(e){null!=e.v&&(La.clearTimeout(e.v),e.v=null)}function Sc(e,t){var n=null;if(e.g==t){xc(e),bc(e),e.g=null;var r=2}else{if(!Ls(e.i,t))return;n=t.D,Fs(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Xo(r=xu(),new Cu(r,n,t,i)),vc(e)}else kc(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(Ps(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=Au(za(e.Ha,e,t),Ic(e,e.C)),e.C++,!0))}(e,t)||2==r&&wc(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Ec(e,5);break;case 4:Ec(e,10);break;case 3:Ec(e,6);break;default:Ec(e,2)}}function Ic(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Ec(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=za(e.jb,e);n||(n=new us("//www.google.com/images/cleardot.gif"),La.location&&"http"==La.location.protocol||cs(n,"https"),ps(n)),function(e,t){var n=new ku;if(La.Image){var r=new Image;r.onload=Wa(qs,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Wa(qs,n,r,"TestLoadImage: error",!1,t),r.onabort=Wa(qs,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Wa(qs,n,r,"TestLoadImage: timeout",!1,t),La.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Tu(2);e.G=0,e.j&&e.j.va(t),Tc(e),dc(e)}function Tc(e){e.G=0,e.I=-1,e.j&&(0==Us(e.i).length&&0==e.l.length||(e.i.i.length=0,Xa(e.l),e.l.length=0),e.j.ua())}function Cc(e,t,n){var r=function(e){return e instanceof us?ss(e):new us(e,void 0)}(n);if(""!=r.i)t&&ls(r,t+"."+r.i),fs(r,r.m);else{var i=La.location;r=function(e,t,n,r){var i=new us(null,void 0);return e&&cs(i,e),t&&ls(i,t),n&&fs(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&ao(e.aa,(function(e,t){ds(r,t,e)})),t=e.D,n=e.sa,t&&n&&ds(r,t,n),ds(r,"VER",e.ma),mc(e,r),r}function Ac(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new Js(new zs({ib:!0})):new Js(e.qa)).L=e.H,t}function Nc(){}function Dc(){if(ho&&!(10<=Number(Eo)))throw Error("Environmental error: no available transport.")}function Oc(e,t){Jo.call(this),this.g=new lc(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Za(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Za(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Lc(this)}function Rc(e){Fu.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Pc(){Uu.call(this),this.status=1}function Lc(e){this.g=e}(Aa=Js.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Lu.g(),this.C=this.u?Ru(this.u):Ru(Lu),this.g.onreadystatechange=za(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void tc(this,a)}e=n||"";var i=new rs(this.headers);r&&ns(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=ec,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=La.FormData&&e instanceof La.FormData,!(0<=Ya($s,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{ac(this),0<this.B&&((this.K=function(e){return ho&&So()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=za(this.pa,this)):this.A=hu(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){tc(this,a)}},Aa.pa=function(){"undefined"!=typeof Pa&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Xo(this,"timeout"),this.abort(8))},Aa.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Xo(this,"complete"),Xo(this,"abort"),ic(this))},Aa.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ic(this,!0)),Js.Z.M.call(this)},Aa.Fa=function(){this.s||(this.F||this.v||this.l?rc(this):this.cb())},Aa.cb=function(){rc(this)},Aa.ba=function(){try{return 2<oc(this)?this.g.status:-1}catch(Ds){return-1}},Aa.ga=function(){try{return this.g?this.g.responseText:""}catch(Ds){return""}},Aa.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Qs(t)}},Aa.Da=function(){return this.m},Aa.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(Aa=lc.prototype).ma=8,Aa.G=1,Aa.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},Aa.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new Vu(this,this.h,e,void 0),n=this.s;if(this.P&&(n?so(n=oo(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=gc(this,t,r),ds(i=ss(this.F),"RID",e),ds(i,"CVER",22),this.D&&ds(i,"X-HTTP-Session-Id",this.D),mc(this,i),this.o&&n&&sc(i,this.o,n),Ms(this.i,t),this.Ra&&ds(i,"TYPE","init"),this.ja?(ds(i,"$req",r),ds(i,"SID","null"),t.$=!0,Gu(t,i,null)):Gu(t,i,r),this.G=2}}else 3==this.G&&(e?yc(this,e):0==this.l.length||Rs(this.i)||yc(this))},Aa.Ga=function(){if(this.u=null,_c(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Au(za(this.bb,this),e)}},Aa.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Tu(10),hc(this),_c(this))},Aa.ab=function(){null!=this.v&&(this.v=null,hc(this),wc(this),Tu(19))},Aa.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Tu(2)):(this.h.info("Failed to ping google.com"),Tu(1))},(Aa=Nc.prototype).xa=function(){},Aa.wa=function(){},Aa.va=function(){},Aa.ua=function(){},Aa.Oa=function(){},Dc.prototype.g=function(e,t){return new Oc(e,t)},Ga(Oc,Jo),Oc.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),ou(za(e.hb,e,t))),Tu(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=Cc(e,null,e.W),vc(e)},Oc.prototype.close=function(){fc(this.g)},Oc.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,pc(this.g,t)}else this.v?((t={}).__data__=$o(e),pc(this.g,t)):pc(this.g,e)},Oc.prototype.M=function(){this.g.j=null,delete this.j,fc(this.g),delete this.g,Oc.Z.M.call(this)},Ga(Rc,Fu),Ga(Pc,Uu),Ga(Lc,Nc),Lc.prototype.xa=function(){Xo(this.g,"a")},Lc.prototype.wa=function(e){Xo(this.g,new Rc(e))},Lc.prototype.va=function(e){Xo(this.g,new Pc(e))},Lc.prototype.ua=function(){Xo(this.g,"b")},Dc.prototype.createWebChannel=Dc.prototype.g,Oc.prototype.send=Oc.prototype.u,Oc.prototype.open=Oc.prototype.m,Oc.prototype.close=Oc.prototype.close,Nu.NO_ERROR=0,Nu.TIMEOUT=8,Nu.HTTP_ERROR=6,Du.COMPLETE="complete",Pu.EventType=Mu,Mu.OPEN="a",Mu.CLOSE="b",Mu.ERROR="c",Mu.MESSAGE="d",Jo.prototype.listen=Jo.prototype.N,Js.prototype.listenOnce=Js.prototype.O,Js.prototype.getLastError=Js.prototype.La,Js.prototype.getLastErrorCode=Js.prototype.Da,Js.prototype.getStatus=Js.prototype.ba,Js.prototype.getResponseJson=Js.prototype.Qa,Js.prototype.getResponseText=Js.prototype.ga,Js.prototype.send=Js.prototype.ea;var Mc=Ra.createWebChannelTransport=function(){return new Dc},Fc=Ra.getStatEventTarget=function(){return xu()},Uc=Ra.ErrorCode=Nu,jc=Ra.EventType=Du,Vc=Ra.Event=bu,Bc=Ra.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},qc=Ra.FetchXmlHttpFactory=zs,zc=Ra.WebChannel=Pu,Wc=Ra.XhrIo=Js,Gc="@firebase/firestore",Hc=function(){function e(t){he(this,e),this.uid=t}return pe(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Hc.UNAUTHENTICATED=new Hc(null),Hc.GOOGLE_CREDENTIALS=new Hc("google-credentials-uid"),Hc.FIRST_PARTY=new Hc("first-party-uid"),Hc.MOCK_USER=new Hc("mock-user");var Kc="9.6.7",Yc=new at("@firebase/firestore");function Qc(){return Yc.logLevel}function Jc(e){if(Yc.logLevel<=Je.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map($c);Yc.debug.apply(Yc,["Firestore (".concat(Kc,"): ").concat(e)].concat(ve(i)))}}function Xc(e){if(Yc.logLevel<=Je.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map($c);Yc.error.apply(Yc,["Firestore (".concat(Kc,"): ").concat(e)].concat(ve(i)))}}function Zc(e){if(Yc.logLevel<=Je.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map($c);Yc.warn.apply(Yc,["Firestore (".concat(Kc,"): ").concat(e)].concat(ve(i)))}}function $c(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function el(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Kc,") INTERNAL ASSERTION FAILED: ")+e;throw Xc(t),new Error(t)}function tl(e,t){e||el()}function nl(e,t){return e}var rl={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},il=function(e){oe(n,e);var t=le(n);function n(e,r){var i;return he(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return pe(n)}(Oe),al=pe((function e(){var t=this;he(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),ol=pe((function e(t,n){he(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),ul=function(){function e(){he(this,e)}return pe(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Hc.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),sl=function(){function e(t){he(this,e),this.token=t,this.changeListener=null}return pe(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),cl=function(){function e(t){he(this,e),this.t=t,this.currentUser=Hc.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return pe(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new al;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new al,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(Z(ee().mark((function e(){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){Jc("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(Jc("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new al)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Jc("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(tl("string"==typeof n.accessToken),new ol(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return tl(null===e||"string"==typeof e),new Hc(e)}}]),e}(),ll=pe((function e(t,n,r){he(this,e),this.type="FirstParty",this.user=Hc.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),fl=function(){function e(t,n,r){he(this,e),this.h=t,this.l=n,this.m=r}return pe(e,[{key:"getToken",value:function(){return Promise.resolve(new ll(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Hc.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),hl=pe((function e(t){he(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),dl=function(){function e(t){he(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}return pe(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&Jc("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.p;return n.p=e.token,Jc("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){Jc("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?i(e):Jc("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(tl("string"==typeof t.token),e.p=t.token,new hl(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}(),pl=function(){function e(t,n){var r=this;he(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.I(e)},this.T=function(e){return n.writeSequenceNumber(e)})}return pe(e,[{key:"I",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.T&&this.T(e),e}}]),e}();function vl(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}pl.A=-1;var yl=function(){function e(){he(this,e)}return pe(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=vl(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function ml(e,t){return e<t?-1:e>t?1:0}function gl(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function kl(e){return e+"\0"}var wl=function(){function e(t,n){if(he(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new il(rl.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new il(rl.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new il(rl.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new il(rl.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return pe(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?ml(this.nanoseconds,e.nanoseconds):ml(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),bl=function(){function e(t){he(this,e),this.timestamp=t}return pe(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new wl(0,0))}}]),e}();function _l(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function xl(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Sl(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Il=function(){function e(t,n,r){he(this,e),void 0===n?n=0:n>t.length&&el(),void 0===r?r=t.length-n:r>t.length-n&&el(),this.segments=t,this.offset=n,this.len=r}return pe(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),El=function(e){oe(n,e);var t=le(n);function n(){return he(this,n),t.apply(this,arguments)}return pe(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new il(rl.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,ve(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Il),Tl=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Cl=function(e){oe(n,e);var t=le(n);function n(){return he(this,n),t.apply(this,arguments)}return pe(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Tl.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new il(rl.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new il(rl.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new il(rl.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new il(rl.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Il),Al=function(){function e(t){he(this,e),this.fields=t,t.sort(Cl.comparator)}return pe(e,[{key:"covers",value:function(e){var t,n=fe(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return gl(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}]),e}();var Nl=function(e){function t(e){he(this,t),this.binaryString=e}return pe(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return ml(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();Nl.EMPTY_BYTE_STRING=new Nl("");var Dl=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ol(e){if(tl(!!e),"string"==typeof e){var t=0,n=Dl.exec(e);if(tl(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Rl(e.seconds),nanos:Rl(e.nanos)}}function Rl(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Pl(e){return"string"==typeof e?Nl.fromBase64String(e):Nl.fromUint8Array(e)}function Ll(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ml(e){var t=e.mapValue.fields.__previous_value__;return Ll(t)?Ml(t):t}function Fl(e){var t=Ol(e.mapValue.fields.__local_write_time__.timestampValue);return new wl(t.seconds,t.nanos)}var Ul=pe((function e(t,n,r,i,a,o,u,s){he(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),jl=function(){function e(t,n){he(this,e),this.projectId=t,this.database=n||"(default)"}return pe(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function Vl(e){return null==e}function Bl(e){return 0===e&&1/e==-1/0}function ql(e){return"number"==typeof e&&Number.isInteger(e)&&!Bl(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var zl=function(){function e(t){he(this,e),this.path=t}return pe(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===El.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(El.fromString(t))}},{key:"fromName",value:function(t){return new e(El.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(El.emptyPath())}},{key:"comparator",value:function(e,t){return El.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new El(t.slice()))}}]),e}(),Wl={mapValue:{fields:{__type__:{stringValue:"__max___"}}}};function Gl(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Ll(e)?4:10:el()}function Hl(e,t){if(e===t)return!0;var n=Gl(e);if(n!==Gl(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Fl(e).isEqual(Fl(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Ol(e.timestampValue),r=Ol(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Pl(e.bytesValue).isEqual(Pl(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Rl(e.geoPointValue.latitude)===Rl(t.geoPointValue.latitude)&&Rl(e.geoPointValue.longitude)===Rl(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Rl(e.integerValue)===Rl(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Rl(e.doubleValue),r=Rl(t.doubleValue);return n===r?Bl(n)===Bl(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return gl(e.arrayValue.values||[],t.arrayValue.values||[],Hl);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(_l(n)!==_l(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Hl(n[i],r[i])))return!1;return!0}(e,t);default:return el()}}function Kl(e,t){return void 0!==(e.values||[]).find((function(e){return Hl(e,t)}))}function Yl(e,t){if(e===t)return 0;var n=Gl(e),r=Gl(t);if(n!==r)return ml(n,r);switch(n){case 0:return 0;case 1:return ml(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Rl(e.integerValue||e.doubleValue),r=Rl(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Ql(e.timestampValue,t.timestampValue);case 4:return Ql(Fl(e),Fl(t));case 5:return ml(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Pl(e),r=Pl(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=ml(n[i],r[i]);if(0!==a)return a}return ml(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=ml(Rl(e.latitude),Rl(t.latitude));return 0!==n?n:ml(Rl(e.longitude),Rl(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Yl(n[i],r[i]);if(a)return a}return ml(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=ml(r[o],a[o]);if(0!==u)return u;var s=Yl(n[r[o]],i[a[o]]);if(0!==s)return s}return ml(r.length,a.length)}(e.mapValue,t.mapValue);default:throw el()}}function Ql(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return ml(e,t);var n=Ol(e),r=Ol(t),i=ml(n.seconds,r.seconds);return 0!==i?i:ml(n.nanos,r.nanos)}function Jl(e){return Xl(e)}function Xl(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Ol(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Pl(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,zl.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=fe(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Xl(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=fe(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Xl(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):el();var t,n}function Zl(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function $l(e){return!!e&&"integerValue"in e}function ef(e){return!!e&&"arrayValue"in e}function tf(e){return!!e&&"nullValue"in e}function nf(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function rf(e){return!!e&&"mapValue"in e}function af(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return xl(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=af(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=af(e.arrayValue.values[r]);return n}return Object.assign({},e)}var of=function(){function e(t){he(this,e),this.value=t}return pe(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!rf(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=af(t)}},{key:"setAll",value:function(e){var t=this,n=Cl.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=af(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());rf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Hl(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];rf(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){xl(t,(function(t,n){return e[t]=n}));var r,i=fe(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(af(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function uf(e){var t=[];return xl(e.fields,(function(e,n){var r=new Cl([e]);if(rf(n)){var i=uf(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=fe(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new Al(t)}var sf=function(){function e(t,n,r,i,a,o){he(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return pe(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=of.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=of.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,bl.min(),bl.min(),of.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,bl.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,bl.min(),of.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,bl.min(),of.empty(),2)}}]),e}(),cf=pe((function e(t,n,r,i){he(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));cf.UNKNOWN_ID=-1;var lf=pe((function e(t,n){he(this,e),this.fieldPath=t,this.kind=n})),ff=function(){function e(t,n){he(this,e),this.sequenceNumber=t,this.offset=n}return pe(e,null,[{key:"empty",value:function(){return new e(0,hf.min())}}]),e}(),hf=function(){function e(t,n,r){he(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return pe(e,null,[{key:"min",value:function(){return new e(bl.min(),zl.empty(),-1)}}]),e}(),df=pe((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;he(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.P=null}));function pf(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new df(e,t,n,r,i,a,o)}function vf(e){var t=nl(e);if(null===t.P){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+Jl(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Vl(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Jl(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Jl(e)})).join(",")),t.P=n}return t.P}function yf(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Af(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!Hl(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Df(e.startAt,t.startAt)&&Df(e.endAt,t.endAt)}function mf(e){return zl.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var gf=function(e){oe(n,e);var t=le(n);function n(e,r,i){var a;return he(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return pe(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.V(Yl(t,this.value)):null!==t&&Gl(this.value)===Gl(t)&&this.V(Yl(t,this.value))}},{key:"V",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return el()}}},{key:"S",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.v(e,t,r):new kf(e,t,r):"array-contains"===t?new xf(e,r):"in"===t?new Sf(e,r):"not-in"===t?new If(e,r):"array-contains-any"===t?new Ef(e,r):new n(e,t,r)}},{key:"v",value:function(e,t,n){return"in"===t?new wf(e,n):new bf(e,n)}}]),n}(function(){return pe((function e(){he(this,e)}))}()),kf=function(e){oe(n,e);var t=le(n);function n(e,r,i){var a;return he(this,n),(a=t.call(this,e,r,i)).key=zl.fromName(i.referenceValue),a}return pe(n,[{key:"matches",value:function(e){var t=zl.comparator(e.key,this.key);return this.V(t)}}]),n}(gf),wf=function(e){oe(n,e);var t=le(n);function n(e,r){var i;return he(this,n),(i=t.call(this,e,"in",r)).keys=_f("in",r),i}return pe(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(gf),bf=function(e){oe(n,e);var t=le(n);function n(e,r){var i;return he(this,n),(i=t.call(this,e,"not-in",r)).keys=_f("not-in",r),i}return pe(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(gf);function _f(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return zl.fromName(e.referenceValue)}))}var xf=function(e){oe(n,e);var t=le(n);function n(e,r){return he(this,n),t.call(this,e,"array-contains",r)}return pe(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return ef(t)&&Kl(t.arrayValue,this.value)}}]),n}(gf),Sf=function(e){oe(n,e);var t=le(n);function n(e,r){return he(this,n),t.call(this,e,"in",r)}return pe(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Kl(this.value.arrayValue,t)}}]),n}(gf),If=function(e){oe(n,e);var t=le(n);function n(e,r){return he(this,n),t.call(this,e,"not-in",r)}return pe(n,[{key:"matches",value:function(e){if(Kl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Kl(this.value.arrayValue,t)}}]),n}(gf),Ef=function(e){oe(n,e);var t=le(n);function n(e,r){return he(this,n),t.call(this,e,"array-contains-any",r)}return pe(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!ef(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Kl(t.value.arrayValue,e)}))}}]),n}(gf),Tf=pe((function e(t,n){he(this,e),this.position=t,this.inclusive=n})),Cf=pe((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";he(this,e),this.field=t,this.dir=n}));function Af(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Nf(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?zl.comparator(zl.fromName(o.referenceValue),n.key):Yl(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Df(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Hl(e.position[n],t.position[n]))return!1;return!0}var Of=pe((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;he(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.D=null,this.C=null,this.startAt,this.endAt}));function Rf(e,t,n,r,i,a,o,u){return new Of(e,t,n,r,i,a,o,u)}function Pf(e){return new Of(e)}function Lf(e){return!Vl(e.limit)&&"F"===e.limitType}function Mf(e){return!Vl(e.limit)&&"L"===e.limitType}function Ff(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Uf(e){var t,n=fe(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.S())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function jf(e){return null!==e.collectionGroup}function Vf(e){var t=nl(e);if(null===t.D){t.D=[];var n=Uf(t),r=Ff(t);if(null!==n&&null===r)n.isKeyField()||t.D.push(new Cf(n)),t.D.push(new Cf(Cl.keyField(),"asc"));else{var i,a=!1,o=fe(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.D.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.D.push(new Cf(Cl.keyField(),s))}}}return t.D}function Bf(e){var t=nl(e);if(!t.C)if("F"===t.limitType)t.C=pf(t.path,t.collectionGroup,Vf(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=fe(Vf(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new Cf(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new Tf(t.endAt.position,!t.endAt.inclusive):null,s=t.startAt?new Tf(t.startAt.position,!t.startAt.inclusive):null;t.C=pf(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.C}function qf(e,t,n){return new Of(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function zf(e,t){return yf(Bf(e),Bf(t))&&e.limitType===t.limitType}function Wf(e){return"".concat(vf(Bf(e)),"|lt:").concat(e.limitType)}function Gf(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(Jl(t.value));var t})).join(", "),"]")),Vl(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Jl(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Jl(e)})).join(",")),"Target(".concat(t,")")}(Bf(e)),"; limitType=").concat(e.limitType,")")}function Hf(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):zl.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=fe(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=fe(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=Nf(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Vf(e),t))&&!(e.endAt&&!function(e,t,n){var r=Nf(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Vf(e),t))}(e,t)}function Kf(e){return function(t,n){var r,i=!1,a=fe(Vf(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=Yf(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function Yf(e,t,n){var r=e.field.isKeyField()?zl.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Yl(r,i):el()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return el()}}function Qf(e,t){if(e.N){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bl(t)?"-0":t}}function Jf(e){return{integerValue:""+e}}function Xf(e,t){return ql(t)?Jf(t):Qf(e,t)}var Zf=pe((function e(){he(this,e),this._=void 0}));function $f(e,t,n){return e instanceof nh?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof rh?ih(e,t):e instanceof ah?oh(e,t):function(e,t){var n=th(e,t),r=sh(n)+sh(e.k);return $l(n)&&$l(e.k)?Jf(r):Qf(e.O,r)}(e,t)}function eh(e,t,n){return e instanceof rh?ih(e,t):e instanceof ah?oh(e,t):n}function th(e,t){return e instanceof uh?$l(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var nh=function(e){oe(n,e);var t=le(n);function n(){return he(this,n),t.apply(this,arguments)}return pe(n)}(Zf),rh=function(e){oe(n,e);var t=le(n);function n(e){var r;return he(this,n),(r=t.call(this)).elements=e,r}return pe(n)}(Zf);function ih(e,t){var n,r=ch(t),i=fe(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Hl(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var ah=function(e){oe(n,e);var t=le(n);function n(e){var r;return he(this,n),(r=t.call(this)).elements=e,r}return pe(n)}(Zf);function oh(e,t){var n,r=ch(t),i=fe(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Hl(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var uh=function(e){oe(n,e);var t=le(n);function n(e,r){var i;return he(this,n),(i=t.call(this)).O=e,i.k=r,i}return pe(n)}(Zf);function sh(e){return Rl(e.integerValue||e.doubleValue)}function ch(e){return ef(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var lh=pe((function e(t,n){he(this,e),this.field=t,this.transform=n}));var fh=pe((function e(t,n){he(this,e),this.version=t,this.transformResults=n})),hh=function(){function e(t,n){he(this,e),this.updateTime=t,this.exists=n}return pe(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function dh(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var ph=pe((function e(){he(this,e)}));function vh(e,t,n){e instanceof wh?function(e,t,n){var r=e.value.clone(),i=xh(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof bh?function(e,t,n){if(dh(e.precondition,t)){var r=xh(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(_h(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function yh(e,t,n){e instanceof wh?function(e,t,n){if(dh(e.precondition,t)){var r=e.value.clone(),i=Sh(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(kh(t),r).setHasLocalMutations()}}(e,t,n):e instanceof bh?function(e,t,n){if(dh(e.precondition,t)){var r=Sh(e.fieldTransforms,n,t),i=t.data;i.setAll(_h(e)),i.setAll(r),t.convertToFoundDocument(kh(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){dh(e.precondition,t)&&t.convertToNoDocument(bl.min())}(e,t)}function mh(e,t){var n,r=null,i=fe(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=th(a.transform,o||null);null!=u&&(null==r&&(r=of.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function gh(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&gl(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof rh&&t instanceof rh||e instanceof ah&&t instanceof ah?gl(e.elements,t.elements,Hl):e instanceof uh&&t instanceof uh?Hl(e.k,t.k):e instanceof nh&&t instanceof nh}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function kh(e){return e.isFoundDocument()?e.version:bl.min()}var wh=function(e){oe(n,e);var t=le(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return he(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return pe(n)}(ph),bh=function(e){oe(n,e);var t=le(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return he(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return pe(n)}(ph);function _h(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function xh(e,t,n){var r=new Map;tl(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,eh(o,u,n[i]))}return r}function Sh(e,t,n){var r,i=new Map,a=fe(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,$f(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var Ih,Eh,Th=function(e){oe(n,e);var t=le(n);function n(e,r){var i;return he(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return pe(n)}(ph),Ch=function(e){oe(n,e);var t=le(n);function n(e,r){var i;return he(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return pe(n)}(ph),Ah=pe((function e(t){he(this,e),this.count=t}));function Nh(e){switch(e){default:return el();case rl.CANCELLED:case rl.UNKNOWN:case rl.DEADLINE_EXCEEDED:case rl.RESOURCE_EXHAUSTED:case rl.INTERNAL:case rl.UNAVAILABLE:case rl.UNAUTHENTICATED:return!1;case rl.INVALID_ARGUMENT:case rl.NOT_FOUND:case rl.ALREADY_EXISTS:case rl.PERMISSION_DENIED:case rl.FAILED_PRECONDITION:case rl.ABORTED:case rl.OUT_OF_RANGE:case rl.UNIMPLEMENTED:case rl.DATA_LOSS:return!0}}function Dh(e){if(void 0===e)return Xc("GRPC error has no .code"),rl.UNKNOWN;switch(e){case Ih.OK:return rl.OK;case Ih.CANCELLED:return rl.CANCELLED;case Ih.UNKNOWN:return rl.UNKNOWN;case Ih.DEADLINE_EXCEEDED:return rl.DEADLINE_EXCEEDED;case Ih.RESOURCE_EXHAUSTED:return rl.RESOURCE_EXHAUSTED;case Ih.INTERNAL:return rl.INTERNAL;case Ih.UNAVAILABLE:return rl.UNAVAILABLE;case Ih.UNAUTHENTICATED:return rl.UNAUTHENTICATED;case Ih.INVALID_ARGUMENT:return rl.INVALID_ARGUMENT;case Ih.NOT_FOUND:return rl.NOT_FOUND;case Ih.ALREADY_EXISTS:return rl.ALREADY_EXISTS;case Ih.PERMISSION_DENIED:return rl.PERMISSION_DENIED;case Ih.FAILED_PRECONDITION:return rl.FAILED_PRECONDITION;case Ih.ABORTED:return rl.ABORTED;case Ih.OUT_OF_RANGE:return rl.OUT_OF_RANGE;case Ih.UNIMPLEMENTED:return rl.UNIMPLEMENTED;case Ih.DATA_LOSS:return rl.DATA_LOSS;default:return el()}}(Eh=Ih||(Ih={}))[Eh.OK=0]="OK",Eh[Eh.CANCELLED=1]="CANCELLED",Eh[Eh.UNKNOWN=2]="UNKNOWN",Eh[Eh.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Eh[Eh.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Eh[Eh.NOT_FOUND=5]="NOT_FOUND",Eh[Eh.ALREADY_EXISTS=6]="ALREADY_EXISTS",Eh[Eh.PERMISSION_DENIED=7]="PERMISSION_DENIED",Eh[Eh.UNAUTHENTICATED=16]="UNAUTHENTICATED",Eh[Eh.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Eh[Eh.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Eh[Eh.ABORTED=10]="ABORTED",Eh[Eh.OUT_OF_RANGE=11]="OUT_OF_RANGE",Eh[Eh.UNIMPLEMENTED=12]="UNIMPLEMENTED",Eh[Eh.INTERNAL=13]="INTERNAL",Eh[Eh.UNAVAILABLE=14]="UNAVAILABLE",Eh[Eh.DATA_LOSS=15]="DATA_LOSS";var Oh=function(){function e(t,n){he(this,e),this.comparator=t,this.root=n||Ph.EMPTY}return pe(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ph.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ph.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Rh(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Rh(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Rh(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Rh(this.root,e,this.comparator,!0)}}]),e}(),Rh=function(){function e(t,n,r,i){he(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return pe(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Ph=function(){function e(t,n,r,i,a){he(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return pe(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw el();if(this.right.isRed())throw el();var e=this.left.check();if(e!==this.right.check())throw el();return e+(this.isRed()?0:1)}}]),e}();Ph.EMPTY=null,Ph.RED=!0,Ph.BLACK=!1,Ph.EMPTY=new(function(){function e(){he(this,e),this.size=0}return pe(e,[{key:"key",get:function(){throw el()}},{key:"value",get:function(){throw el()}},{key:"color",get:function(){throw el()}},{key:"left",get:function(){throw el()}},{key:"right",get:function(){throw el()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Ph(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Lh=function(){function e(t){he(this,e),this.comparator=t,this.data=new Oh(this.comparator)}return pe(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Mh(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Mh(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Mh=function(){function e(t){he(this,e),this.iter=t}return pe(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function Fh(e){return e.hasNext()?e.getNext():void 0}var Uh=new Oh(zl.comparator);function jh(){return Uh}var Vh=new Oh(zl.comparator);function Bh(){return Vh}var qh=new Oh(zl.comparator),zh=new Lh(zl.comparator);function Wh(){for(var e=zh,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var Gh=new Lh(ml);function Hh(){return Gh}var Kh=function(){function e(t,n,r,i,a){he(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return pe(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,Yh.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(bl.min(),r,Hh(),jh(),Wh())}}]),e}(),Yh=function(){function e(t,n,r,i,a){he(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return pe(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(Nl.EMPTY_BYTE_STRING,n,Wh(),Wh(),Wh())}}]),e}(),Qh=pe((function e(t,n,r,i){he(this,e),this.M=t,this.removedTargetIds=n,this.key=r,this.$=i})),Jh=pe((function e(t,n){he(this,e),this.targetId=t,this.F=n})),Xh=pe((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Nl.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;he(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Zh=function(){function e(){he(this,e),this.B=0,this.L=td(),this.U=Nl.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}return pe(e,[{key:"current",get:function(){return this.q}},{key:"resumeToken",get:function(){return this.U}},{key:"G",get:function(){return 0!==this.B}},{key:"j",get:function(){return this.K}},{key:"W",value:function(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}},{key:"H",value:function(){var e=Wh(),t=Wh(),n=Wh();return this.L.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:el()}})),new Yh(this.U,this.q,e,t,n)}},{key:"J",value:function(){this.K=!1,this.L=td()}},{key:"Y",value:function(e,t){this.K=!0,this.L=this.L.insert(e,t)}},{key:"X",value:function(e){this.K=!0,this.L=this.L.remove(e)}},{key:"Z",value:function(){this.B+=1}},{key:"tt",value:function(){this.B-=1}},{key:"et",value:function(){this.K=!0,this.q=!0}}]),e}(),$h=function(){function e(t){he(this,e),this.nt=t,this.st=new Map,this.it=jh(),this.rt=ed(),this.ot=new Lh(ml)}return pe(e,[{key:"ct",value:function(e){var t,n=fe(e.M);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.$&&e.$.isFoundDocument()?this.ut(r,e.$):this.at(r,e.key,e.$)}}catch(u){n.e(u)}finally{n.f()}var i,a=fe(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.at(o,e.key,e.$)}}catch(u){a.e(u)}finally{a.f()}}},{key:"ht",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.lt(n);switch(e.state){case 0:t.ft(n)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||t.removeTarget(n);break;case 3:t.ft(n)&&(r.et(),r.W(e.resumeToken));break;case 4:t.ft(n)&&(t.dt(n),r.W(e.resumeToken));break;default:el()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((function(e,r){n.ft(r)&&t(r)}))}},{key:"_t",value:function(e){var t=e.targetId,n=e.F.count,r=this.wt(t);if(r){var i=r.target;if(mf(i))if(0===n){var a=new zl(i.path);this.at(t,a,sf.newNoDocument(a,bl.min()))}else tl(1===n);else this.gt(t)!==n&&(this.dt(t),this.ot=this.ot.add(t))}}},{key:"yt",value:function(e){var t=this,n=new Map;this.st.forEach((function(r,i){var a=t.wt(i);if(a){if(r.current&&mf(a.target)){var o=new zl(a.target.path);null!==t.it.get(o)||t.It(i,o)||t.at(i,o,sf.newNoDocument(o,e))}r.j&&(n.set(i,r.H()),r.J())}}));var r=Wh();this.rt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.wt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.it.forEach((function(t,n){return n.setReadTime(e)}));var i=new Kh(e,n,this.ot,this.it,r);return this.it=jh(),this.rt=ed(),this.ot=new Lh(ml),i}},{key:"ut",value:function(e,t){if(this.ft(e)){var n=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,n),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Et(t.key).add(e))}}},{key:"at",value:function(e,t,n){if(this.ft(e)){var r=this.lt(e);this.It(e,t)?r.Y(t,1):r.X(t),this.rt=this.rt.insert(t,this.Et(t).delete(e)),n&&(this.it=this.it.insert(t,n))}}},{key:"removeTarget",value:function(e){this.st.delete(e)}},{key:"gt",value:function(e){var t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Z",value:function(e){this.lt(e).Z()}},{key:"lt",value:function(e){var t=this.st.get(e);return t||(t=new Zh,this.st.set(e,t)),t}},{key:"Et",value:function(e){var t=this.rt.get(e);return t||(t=new Lh(ml),this.rt=this.rt.insert(e,t)),t}},{key:"ft",value:function(e){var t=null!==this.wt(e);return t||Jc("WatchChangeAggregator","Detected inactive target",e),t}},{key:"wt",value:function(e){var t=this.st.get(e);return t&&t.G?null:this.nt.Tt(e)}},{key:"dt",value:function(e){var t=this;this.st.set(e,new Zh),this.nt.getRemoteKeysForTarget(e).forEach((function(n){t.at(e,n,null)}))}},{key:"It",value:function(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}]),e}();function ed(){return new Oh(zl.comparator)}function td(){return new Oh(zl.comparator)}var nd={asc:"ASCENDING",desc:"DESCENDING"},rd={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},id=pe((function e(t,n){he(this,e),this.databaseId=t,this.N=n}));function ad(e,t){return e.N?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function od(e,t){return e.N?t.toBase64():t.toUint8Array()}function ud(e,t){return ad(e,t.toTimestamp())}function sd(e){return tl(!!e),bl.fromTimestamp(function(e){var t=Ol(e);return new wl(t.seconds,t.nanos)}(e))}function cd(e,t){return function(e){return new El(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function ld(e){var t=El.fromString(e);return tl(Rd(t)),t}function fd(e,t){return cd(e.databaseId,t.path)}function hd(e,t){var n=ld(t);if(n.get(1)!==e.databaseId.projectId)throw new il(rl.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new il(rl.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new zl(yd(n))}function dd(e,t){return cd(e.databaseId,t)}function pd(e){var t=ld(e);return 4===t.length?El.emptyPath():yd(t)}function vd(e){return new El(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function yd(e){return tl(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function md(e,t,n){return{name:fd(e,t),fields:n.value.mapValue.fields}}function gd(e,t,n){var r=hd(e,t.name),i=sd(t.updateTime),a=new of({mapValue:{fields:t.fields}}),o=sf.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function kd(e,t){return"found"in t?function(e,t){tl(!!t.found),t.found.name,t.found.updateTime;var n=hd(e,t.found.name),r=sd(t.found.updateTime),i=new of({mapValue:{fields:t.found.fields}});return sf.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){tl(!!t.missing),tl(!!t.readTime);var n=hd(e,t.missing),r=sd(t.readTime);return sf.newNoDocument(n,r)}(e,t):el()}function wd(e,t){var n;if(t instanceof wh)n={update:md(e,t.key,t.value)};else if(t instanceof Th)n={delete:fd(e,t.key)};else if(t instanceof bh)n={update:md(e,t.key,t.data),updateMask:Od(t.fieldMask)};else{if(!(t instanceof Ch))return el();n={verify:fd(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof nh)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof rh)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof ah)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof uh)return{fieldPath:t.field.canonicalString(),increment:n.k};throw el()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:ud(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:el()}(e,t.precondition)),n}function bd(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?hh.updateTime(sd(e.updateTime)):void 0!==e.exists?hh.exists(e.exists):hh.none()}(t.currentDocument):hh.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)tl("REQUEST_TIME"===t.setToServerValue),n=new nh;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new rh(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new ah(i)}else"increment"in t?n=new uh(e,t.increment):el();var a=Cl.fromServerFormat(t.fieldPath);return new lh(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=hd(e,t.update.name),a=new of({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new Al(t.map((function(e){return Cl.fromServerFormat(e)})))}(t.updateMask);return new bh(i,a,o,n,r)}return new wh(i,a,n,r)}if(t.delete){var u=hd(e,t.delete);return new Th(u,n)}if(t.verify){var s=hd(e,t.verify);return new Ch(s,n)}return el()}function _d(e,t){return{documents:[dd(e,t.path)]}}function xd(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=dd(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=dd(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(nf(e.value))return{unaryFilter:{field:Cd(e.field),op:"IS_NAN"}};if(tf(e.value))return{unaryFilter:{field:Cd(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(nf(e.value))return{unaryFilter:{field:Cd(e.field),op:"IS_NOT_NAN"}};if(tf(e.value))return{unaryFilter:{field:Cd(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Cd(e.field),op:Td(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Cd(e.field),direction:Ed(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.N||Vl(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Sd(e){var t=pd(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){tl(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=Id(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new Cf(Ad(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return Vl(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new Tf(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new Tf(n,t)}(n.endAt)),Rf(t,i,u,o,s,"F",c,l)}function Id(e){return e?void 0!==e.unaryFilter?[Dd(e)]:void 0!==e.fieldFilter?[Nd(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return Id(e)})).reduce((function(e,t){return e.concat(t)})):el():[]}function Ed(e){return nd[e]}function Td(e){return rd[e]}function Cd(e){return{fieldPath:e.canonicalString()}}function Ad(e){return Cl.fromServerFormat(e.fieldPath)}function Nd(e){return gf.create(Ad(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return el()}}(e.fieldFilter.op),e.fieldFilter.value)}function Dd(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Ad(e.unaryFilter.field);return gf.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Ad(e.unaryFilter.field);return gf.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Ad(e.unaryFilter.field);return gf.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Ad(e.unaryFilter.field);return gf.create(i,"!=",{nullValue:"NULL_VALUE"});default:return el()}}function Od(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Rd(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Pd(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Md(t)),t=Ld(e.get(n),t);return Md(t)}function Ld(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function Md(e){return e+"\x01\x01"}function Fd(e){var t=e.length;if(tl(t>=2),2===t)return tl("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),El.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&el(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:el()}a=o+2}return new El(r)}var Ud=pe((function e(t,n){he(this,e),this.seconds=t,this.nanoseconds=n})),jd=pe((function e(t,n,r){he(this,e),this.ownerId=t,this.allowTabSynchronization=n,this.leaseTimestampMs=r}));jd.store="owner",jd.key="owner";var Vd=pe((function e(t,n,r){he(this,e),this.userId=t,this.lastAcknowledgedBatchId=n,this.lastStreamToken=r}));Vd.store="mutationQueues",Vd.keyPath="userId";var Bd=pe((function e(t,n,r,i,a){he(this,e),this.userId=t,this.batchId=n,this.localWriteTimeMs=r,this.baseMutations=i,this.mutations=a}));Bd.store="mutations",Bd.keyPath="batchId",Bd.userMutationsIndex="userMutationsIndex",Bd.userMutationsKeyPath=["userId","batchId"];var qd=function(){function e(){he(this,e)}return pe(e,null,[{key:"prefixForUser",value:function(e){return[e]}},{key:"prefixForPath",value:function(e,t){return[e,Pd(t)]}},{key:"key",value:function(e,t,n){return[e,Pd(t),n]}}]),e}();qd.store="documentMutations",qd.PLACEHOLDER=new qd;var zd=pe((function e(t,n){he(this,e),this.path=t,this.readTime=n})),Wd=pe((function e(t,n){he(this,e),this.path=t,this.version=n})),Gd=pe((function e(t,n,r,i,a,o){he(this,e),this.unknownDocument=t,this.noDocument=n,this.document=r,this.hasCommittedMutations=i,this.readTime=a,this.parentPath=o}));Gd.store="remoteDocuments",Gd.readTimeIndex="readTimeIndex",Gd.readTimeIndexPath="readTime",Gd.collectionReadTimeIndex="collectionReadTimeIndex",Gd.collectionReadTimeIndexPath=["parentPath","readTime"];var Hd=pe((function e(t){he(this,e),this.byteSize=t}));Hd.store="remoteDocumentGlobal",Hd.key="remoteDocumentGlobalKey";var Kd=pe((function e(t,n,r,i,a,o,u){he(this,e),this.targetId=t,this.canonicalId=n,this.readTime=r,this.resumeToken=i,this.lastListenSequenceNumber=a,this.lastLimboFreeSnapshotVersion=o,this.query=u}));Kd.store="targets",Kd.keyPath="targetId",Kd.queryTargetsIndexName="queryTargetsIndex",Kd.queryTargetsKeyPath=["canonicalId","targetId"];var Yd=pe((function e(t,n,r){he(this,e),this.targetId=t,this.path=n,this.sequenceNumber=r}));Yd.store="targetDocuments",Yd.keyPath=["targetId","path"],Yd.documentTargetsIndex="documentTargetsIndex",Yd.documentTargetsKeyPath=["path","targetId"];var Qd=pe((function e(t,n,r,i){he(this,e),this.highestTargetId=t,this.highestListenSequenceNumber=n,this.lastRemoteSnapshotVersion=r,this.targetCount=i}));Qd.key="targetGlobalKey",Qd.store="targetGlobal";var Jd=pe((function e(t,n){he(this,e),this.collectionId=t,this.parent=n}));Jd.store="collectionParents",Jd.keyPath=["collectionId","parent"];var Xd=pe((function e(t,n,r,i){he(this,e),this.clientId=t,this.updateTimeMs=n,this.networkEnabled=r,this.inForeground=i}));Xd.store="clientMetadata",Xd.keyPath="clientId";var Zd=pe((function e(t,n,r){he(this,e),this.bundleId=t,this.createTime=n,this.version=r}));Zd.store="bundles",Zd.keyPath="bundleId";var $d=pe((function e(t,n,r){he(this,e),this.name=t,this.readTime=n,this.bundledQuery=r}));$d.store="namedQueries",$d.keyPath="name";var ep=pe((function e(t,n,r){he(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r}));ep.store="indexConfiguration",ep.keyPath="indexId",ep.collectionGroupIndex="collectionGroupIndex",ep.collectionGroupIndexPath="collectionGroup";var tp=pe((function e(t,n,r,i,a,o){he(this,e),this.indexId=t,this.uid=n,this.sequenceNumber=r,this.readTime=i,this.documentKey=a,this.largestBatchId=o}));tp.store="indexState",tp.keyPath=["indexId","uid"],tp.sequenceNumberIndex="sequenceNumberIndex",tp.sequenceNumberIndexPath=["uid","sequenceNumber"];var np=pe((function e(t,n,r,i,a){he(this,e),this.indexId=t,this.uid=n,this.arrayValue=r,this.directionalValue=i,this.documentKey=a}));np.store="indexEntries",np.keyPath=["indexId","uid","arrayValue","directionalValue","documentKey"],np.documentKeyIndex="documentKeyIndex",np.documentKeyIndexPath=["indexId","uid","documentKey"];var rp=pe((function e(t,n,r,i,a,o){he(this,e),this.userId=t,this.collectionPath=n,this.documentId=r,this.collectionGroup=i,this.largestBatchId=a,this.overlayMutation=o}));rp.store="documentOverlays",rp.keyPath=["userId","collectionPath","documentId"],rp.collectionPathOverlayIndex="collectionPathOverlayIndex",rp.collectionPathOverlayIndexPath=["userId","collectionPath","largestBatchId"],rp.collectionGroupOverlayIndex="collectionGroupOverlayIndex",rp.collectionGroupOverlayIndexPath=["userId","collectionGroup","largestBatchId"];var ip=[Vd.store,Bd.store,qd.store,Gd.store,Kd.store,jd.store,Qd.store,Yd.store].concat([Xd.store]).concat([Hd.store]).concat([Jd.store]).concat([Zd.store,$d.store]),ap=[].concat(ve(ip),[rp.store]),op=[].concat(ve(ap),[ep.store,tp.store,np.store]),up="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",sp=function(){function e(){he(this,e),this.onCommittedListeners=[]}return pe(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}(),cp=function(){function e(t){var n=this;he(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return pe(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&el(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=fe(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}}]),e}(),lp=function(){function e(t,n){var r=this;he(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.At=new al,this.transaction.oncomplete=function(){r.At.resolve()},this.transaction.onabort=function(){n.error?r.At.reject(new dp(t,n.error)):r.At.resolve()},this.transaction.onerror=function(e){var n=gp(e.target.error);r.At.reject(new dp(t,n))}}return pe(e,[{key:"Rt",get:function(){return this.At.promise}},{key:"abort",value:function(e){e&&this.At.reject(e),this.aborted||(Jc("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"Pt",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new vp(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new dp(n,t)}}}]),e}(),fp=function(){function e(t,n,r){he(this,e),this.name=t,this.version=n,this.bt=r,12.2===e.vt(Ee())&&Xc("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return pe(e,[{key:"xt",value:function(){var e=Z(ee().mark((function e(t){var n=this;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return Jc("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new dp(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new il(rl.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new il(rl.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new dp(t,n))},i.onupgradeneeded=function(e){Jc("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.bt.kt(t,i.transaction,e.oldVersion,n.version).next((function(){Jc("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.Ot&&(this.db.onversionchange=function(e){return n.Ot(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Mt",value:function(e){this.Ot=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=Z(ee().mark((function e(t,n,r,i){var a,o,u,s,c=this;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(ee().mark((function e(){var n,o;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.xt(t);case 2:return c.db=e.sent,n=lp.open(c.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.Pt(),e})).catch((function(e){return n.abort(e),cp.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.Rt;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(u=e.t0)){e.next=8;break}return e.abrupt("return",u.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),s="FirebaseError"!==e.t1.name&&o<3,Jc("SimpleDb","Transaction failed with error:",e.t1.message,"Retrying:",s),this.close(),s){e.next=15;break}return e.abrupt("return",Promise.reject(e.t1));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return Jc("SimpleDb","Removing database:",e),yp(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"Vt",value:function(){if("object"!==typeof indexedDB)return!1;if(e.St())return!0;var t=Ee(),n=e.vt(t),r=0<n&&n<10,i=e.Dt(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"St",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.Ct)}},{key:"Nt",value:function(e,t){return e.store(t)}},{key:"vt",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"Dt",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),hp=function(){function e(t){he(this,e),this.$t=t,this.Ft=!1,this.Bt=null}return pe(e,[{key:"isDone",get:function(){return this.Ft}},{key:"Lt",get:function(){return this.Bt}},{key:"cursor",set:function(e){this.$t=e}},{key:"done",value:function(){this.Ft=!0}},{key:"Ut",value:function(e){this.Bt=e}},{key:"delete",value:function(){return yp(this.$t.delete())}}]),e}(),dp=function(e){oe(n,e);var t=le(n);function n(e,r){var i;return he(this,n),(i=t.call(this,rl.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return pe(n)}(il);function pp(e){return"IndexedDbTransactionError"===e.name}var vp=function(){function e(t){he(this,e),this.store=t}return pe(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(Jc("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Jc("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),yp(n)}},{key:"add",value:function(e){return Jc("SimpleDb","ADD",this.store.name,e,e),yp(this.store.add(e))}},{key:"get",value:function(e){var t=this;return yp(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Jc("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return Jc("SimpleDb","DELETE",this.store.name,e),yp(this.store.delete(e))}},{key:"count",value:function(){return Jc("SimpleDb","COUNT",this.store.name),yp(this.store.count())}},{key:"qt",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.Kt(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new cp((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"Gt",value:function(e,t){Jc("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.jt=!1;var r=this.cursor(n);return this.Kt(r,(function(e,t,n){return n.delete()}))}},{key:"Qt",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.Kt(r,t)}},{key:"Wt",value:function(e){var t=this.cursor({});return new cp((function(n,r){t.onerror=function(e){var t=gp(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"Kt",value:function(e,t){var n=[];return new cp((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new hp(i),o=t(i.primaryKey,i.value,a);if(o instanceof cp){var u=o.catch((function(e){return a.done(),cp.reject(e)}));n.push(u)}a.isDone?r():null===a.Lt?i.continue():i.continue(a.Lt)}else r()}})).next((function(){return cp.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.jt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function yp(e){return new cp((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=gp(e.target.error);n(t)}}))}var mp=!1;function gp(e){var t=fp.vt(Ee());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new il("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return mp||(mp=!0,setTimeout((function(){throw r}),0)),r}}return e}var kp=function(e){oe(n,e);var t=le(n);function n(e,r){var i;return he(this,n),(i=t.call(this)).zt=e,i.currentSequenceNumber=r,i}return pe(n)}(sp);function wp(e,t){var n=nl(e);return fp.Nt(n.zt,t)}var bp=function(){function e(t,n,r,i){he(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return pe(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&vh(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=fe(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&yh(r,e,this.localWriteTime)}}catch(u){n.e(u)}finally{n.f()}var i,a=fe(this.mutations);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.key.isEqual(e.key)&&yh(o,e,this.localWriteTime)}}catch(u){a.e(u)}finally{a.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(bl.min())}))}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Wh())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&gl(this.mutations,e.mutations,(function(e,t){return gh(e,t)}))&&gl(this.baseMutations,e.baseMutations,(function(e,t){return gh(e,t)}))}}]),e}(),_p=function(){function e(t,n,r,i){he(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return pe(e,null,[{key:"from",value:function(t,n,r){tl(t.mutations.length===r.length);for(var i=qh,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),xp=function(){function e(t,n){he(this,e),this.largestBatchId=t,this.mutation=n}return pe(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),Sp=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:bl.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:bl.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Nl.EMPTY_BYTE_STRING;he(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return pe(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),Ip=pe((function e(t){he(this,e),this.Ht=t}));function Ep(e,t){var n;if(t.document)n=gd(e.Ht,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=zl.fromSegments(t.noDocument.path),i=Dp(t.noDocument.readTime);n=sf.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return el();var a=zl.fromSegments(t.unknownDocument.path),o=Dp(t.unknownDocument.version);n=sf.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(Ap(t.readTime)),n}function Tp(e,t){var n=Cp(t.readTime),r=t.key.path.popLast().toArray();if(t.isFoundDocument()){var i=function(e,t){return{name:fd(e,t.key),fields:t.data.value.mapValue.fields,updateTime:ad(e,t.version.toTimestamp())}}(e.Ht,t),a=t.hasCommittedMutations;return new Gd(null,null,i,a,n,r)}if(t.isNoDocument()){var o=t.key.path.toArray(),u=Np(t.version),s=t.hasCommittedMutations;return new Gd(null,new zd(o,u),null,s,n,r)}if(t.isUnknownDocument()){var c=t.key.path.toArray(),l=Np(t.version);return new Gd(new Wd(c,l),null,null,!0,n,r)}return el()}function Cp(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Ap(e){var t=new wl(e[0],e[1]);return bl.fromTimestamp(t)}function Np(e){var t=e.toTimestamp();return new Ud(t.seconds,t.nanoseconds)}function Dp(e){var t=new wl(e.seconds,e.nanoseconds);return bl.fromTimestamp(t)}function Op(e,t){for(var n=(t.baseMutations||[]).map((function(t){return bd(e.Ht,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return bd(e.Ht,t)})),u=wl.fromMillis(t.localWriteTimeMs);return new bp(t.batchId,u,n,o)}function Rp(e){var t,n,r=Dp(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?Dp(e.lastLimboFreeSnapshotVersion):bl.min();return void 0!==e.query.documents?(tl(1===(n=e.query).documents.length),t=Bf(Pf(pd(n.documents[0])))):t=function(e){return Bf(Sd(e))}(e.query),new Sp(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Nl.fromBase64String(e.resumeToken))}function Pp(e,t){var n,r=Np(t.snapshotVersion),i=Np(t.lastLimboFreeSnapshotVersion);n=mf(t.target)?_d(e.Ht,t.target):xd(e.Ht,t.target);var a=t.resumeToken.toBase64();return new Kd(t.targetId,vf(t.target),r,a,t.sequenceNumber,i,n)}function Lp(e){var t=Sd({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?qf(t,t.limit,"L"):t}function Mp(e,t){return new xp(t.largestBatchId,bd(e.Ht,t.overlayMutation))}function Fp(e,t){var n=t.path.lastSegment();return[e,Pd(t.path.popLast()),n]}var Up=function(){function e(){he(this,e)}return pe(e,[{key:"getBundleMetadata",value:function(e,t){return jp(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:Dp(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return jp(e).put({bundleId:(n=t).id,createTime:Np(sd(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return Vp(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Lp(t.bundledQuery),readTime:Dp(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return Vp(e).put(function(e){return{name:e.name,readTime:Np(sd(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function jp(e){return wp(e,Zd.store)}function Vp(e){return wp(e,$d.store)}var Bp=function(){function e(t,n){he(this,e),this.O=t,this.userId=n}return pe(e,[{key:"getOverlay",value:function(e,t){var n=this;return qp(e).get(Fp(this.userId,t)).next((function(e){return e?Mp(n.O,e):null}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n){var a=new xp(t,n);i.push(r.Yt(e,a))})),cp.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(Pd(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(qp(e).Gt(rp.collectionPathOverlayIndex,i))})),cp.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=new Map,a=Pd(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return qp(e).qt(rp.collectionPathOverlayIndex,o).next((function(e){var t,n=fe(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=Mp(r.O,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=new Map,u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return qp(e).Qt({index:rp.collectionGroupOverlayIndex,range:u},(function(e,t,n){var u=Mp(a.O,t);o.size<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"Yt",value:function(e,t){return qp(e).put(function(e,t,n){var r=s(Fp(t,n.mutation.key),3),i=(r[0],r[1]),a=r[2];return new rp(t,i,a,n.mutation.key.getCollectionGroup(),n.largestBatchId,wd(e.Ht,n.mutation))}(this.O,this.userId,t))}}],[{key:"Jt",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function qp(e){return wp(e,rp.store)}var zp=function(){function e(){he(this,e)}return pe(e,[{key:"Xt",value:function(e,t){this.Zt(e,t),t.te()}},{key:"Zt",value:function(e,t){if("nullValue"in e)this.ee(t,5);else if("booleanValue"in e)this.ee(t,10),t.ne(e.booleanValue?1:0);else if("integerValue"in e)this.ee(t,15),t.ne(Rl(e.integerValue));else if("doubleValue"in e){var n=Rl(e.doubleValue);isNaN(n)?this.ee(t,13):(this.ee(t,15),Bl(n)?t.ne(0):t.ne(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ee(t,20),"string"==typeof r?t.se(r):(t.se("".concat(r.seconds||"")),t.ne(r.nanos||0))}else if("stringValue"in e)this.ie(e.stringValue,t),this.re(t);else if("bytesValue"in e)this.ee(t,30),t.oe(Pl(e.bytesValue)),this.re(t);else if("referenceValue"in e)this.ce(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ee(t,45),t.ne(i.latitude||0),t.ne(i.longitude||0)}else"mapValue"in e?Hl(e,Wl)?this.ee(t,Number.MAX_SAFE_INTEGER):(this.ue(e.mapValue,t),this.re(t)):"arrayValue"in e?(this.ae(e.arrayValue,t),this.re(t)):el()}},{key:"ie",value:function(e,t){this.ee(t,25),this.he(e,t)}},{key:"he",value:function(e,t){t.se(e)}},{key:"ue",value:function(e,t){var n=e.fields||{};this.ee(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.ie(a,t),this.Zt(n[a],t)}}},{key:"ae",value:function(e,t){var n=e.values||[];this.ee(t,50);var r,i=fe(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.Zt(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ce",value:function(e,t){var n=this;this.ee(t,37),zl.fromName(e).path.forEach((function(e){n.ee(t,60),n.he(e,t)}))}},{key:"ee",value:function(e,t){e.ne(t)}},{key:"re",value:function(e){e.ne(2)}}]),e}();function Wp(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function Gp(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=Wp(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}zp.le=new zp;var Hp=function(){function e(){he(this,e),this.buffer=new Uint8Array(1024),this.position=0}return pe(e,[{key:"fe",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.de(n.value),n=t.next();this._e()}},{key:"we",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.me(n.value),n=t.next();this.ge()}},{key:"ye",value:function(e){var t,n=fe(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.de(i);else if(i<2048)this.de(960|i>>>6),this.de(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.de(480|i>>>12),this.de(128|63&i>>>6),this.de(128|63&i);else{var a=r.codePointAt(0);this.de(240|a>>>18),this.de(128|63&a>>>12),this.de(128|63&a>>>6),this.de(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this._e()}},{key:"pe",value:function(e){var t,n=fe(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.me(i);else if(i<2048)this.me(960|i>>>6),this.me(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.me(480|i>>>12),this.me(128|63&i>>>6),this.me(128|63&i);else{var a=r.codePointAt(0);this.me(240|a>>>18),this.me(128|63&a>>>12),this.me(128|63&a>>>6),this.me(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.ge()}},{key:"Ie",value:function(e){var t=this.Ee(e),n=Gp(t);this.Te(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Ae",value:function(e){var t=this.Ee(e),n=Gp(t);this.Te(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"Re",value:function(){this.Pe(255),this.Pe(255)}},{key:"be",value:function(){this.ve(255),this.ve(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Te(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Ve",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ee",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"de",value:function(e){var t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}},{key:"me",value:function(e){var t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}},{key:"_e",value:function(){this.Pe(0),this.Pe(1)}},{key:"ge",value:function(){this.ve(0),this.ve(1)}},{key:"Pe",value:function(e){this.Te(1),this.buffer[this.position++]=e}},{key:"ve",value:function(e){this.Te(1),this.buffer[this.position++]=~e}},{key:"Te",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),Kp=function(){function e(t){he(this,e),this.Se=t}return pe(e,[{key:"oe",value:function(e){this.Se.fe(e)}},{key:"se",value:function(e){this.Se.ye(e)}},{key:"ne",value:function(e){this.Se.Ie(e)}},{key:"te",value:function(){this.Se.Re()}}]),e}(),Yp=function(){function e(t){he(this,e),this.Se=t}return pe(e,[{key:"oe",value:function(e){this.Se.we(e)}},{key:"se",value:function(e){this.Se.pe(e)}},{key:"ne",value:function(e){this.Se.Ae(e)}},{key:"te",value:function(){this.Se.be()}}]),e}(),Qp=function(){function e(){he(this,e),this.Se=new Hp,this.De=new Kp(this.Se),this.Ce=new Yp(this.Se)}return pe(e,[{key:"seed",value:function(e){this.Se.seed(e)}},{key:"Ne",value:function(e){return 0===e?this.De:this.Ce}},{key:"Ve",value:function(){return this.Se.Ve()}},{key:"reset",value:function(){this.Se.reset()}}]),e}(),Jp=pe((function e(t,n,r,i){he(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}));function Xp(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=zl.comparator(e.documentKey,t.documentKey))?n:0!==(n=Zp(e.arrayValue,t.arrayValue))?n:Zp(e.directionalValue,t.directionalValue)}function Zp(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var $p=function(){function e(){he(this,e),this.xe=new ev}return pe(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.xe.add(t),cp.resolve()}},{key:"getCollectionParents",value:function(e,t){return cp.resolve(this.xe.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return cp.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return cp.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t,n){return cp.resolve(Wh())}},{key:"getFieldIndex",value:function(e,t){return cp.resolve(null)}},{key:"getFieldIndexes",value:function(e,t){return cp.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return cp.resolve(null)}},{key:"updateCollectionGroup",value:function(e,t,n){return cp.resolve()}},{key:"updateIndexEntries",value:function(e,t){return cp.resolve()}}]),e}(),ev=function(){function e(){he(this,e),this.index={}}return pe(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Lh(El.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Lh(El.comparator)).toArray()}}]),e}(),tv=function(){function e(t){he(this,e),this.user=t,this.ke=new ev,this.uid=t.uid||""}return pe(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.ke.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.ke.add(t)}));var a={collectionId:r,parent:Pd(i)};return nv(e).put(a)}return cp.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[kl(t),""],!1,!0);return nv(e).qt(r).next((function(e){var r,i=fe(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(Fd(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=iv(e),r=function(e){return new ep(e.indexId,e.collectionGroup,e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]})))}(t);return delete r.indexId,n.add(r).next()}},{key:"deleteFieldIndex",value:function(e,t){var n=iv(e),r=av(e),i=rv(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t,n){return cp.resolve(Wh())}},{key:"getFieldIndex",value:function(e,t){return cp.resolve(null)}},{key:"Oe",value:function(e,t){var n,r=new Qp,i=fe(function(e){return e.fields.filter((function(e){return 2!==e.kind}))}(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.Ne(a.kind);zp.le.Xt(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.Ve()}},{key:"Me",value:function(e){var t=new Qp;return zp.le.Xt(e,t.Ne(0)),t.Ve()}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=iv(e),i=av(e);return(t?r.qt(ep.collectionGroupIndex,IDBKeyRange.bound(t,t)):r.qt()).next((function(e){var t=[];return cp.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new ff(t.sequenceNumber,new hf(Dp(t.readTime),new zl(Fd(t.documentKey)),t.largestBatchId)):ff.empty(),r=e.fields.map((function(e){var t=s(e,2),n=t[0],r=t[1];return new lf(Cl.fromServerFormat(n),r)}));return new cf(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){return e.indexState.sequenceNumber-t.indexState.sequenceNumber})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=iv(e),a=av(e);return this.$e(e).next((function(e){return i.qt(ep.collectionGroupIndex,IDBKeyRange.bound(t,t)).next((function(t){return cp.forEach(t,(function(t){return a.put(function(e,t,n,r){return new tp(e,t.uid||"",n,Np(r.readTime),Pd(r.documentKey.path),r.largestBatchId)}(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return cp.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?cp.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),cp.forEach(a,(function(r){return n.Fe(e,t,r).next((function(t){var a=n.Be(i,r);return t.isEqual(a)?cp.resolve():n.Le(e,i,t,a)}))}))}))}))}},{key:"Ue",value:function(e,t,n){return rv(e).put(new np(n.indexId,this.uid,n.arrayValue,n.directionalValue,Pd(t.key.path)))}},{key:"qe",value:function(e,t,n){return rv(e).delete([n.indexId,this.uid,n.arrayValue,n.directionalValue,Pd(t.key.path)])}},{key:"Fe",value:function(e,t,n){var r=rv(e),i=new Lh(Xp);return r.Qt({index:np.documentKeyIndex,range:IDBKeyRange.only([n.indexId,this.uid,Pd(t.path)])},(function(e,r){i=i.add(new Jp(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"Be",value:function(e,t){var n=new Lh(Xp),r=this.Oe(t,e);if(null==r)return n;var i=function(e){return e.fields.find((function(e){return 2===e.kind}))}(t);if(null!=i){var a=e.data.field(i.fieldPath);if(ef(a)){var o,u=fe(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new Jp(t.indexId,e.key,this.Me(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new Jp(t.indexId,e.key,new Uint8Array,r));return n}},{key:"Le",value:function(e,t,n,r){var i=this;Jc("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var a=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=Fh(a),s=Fh(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=Fh(o)):l?(i(u),u=Fh(a)):(u=Fh(a),s=Fh(o))}}(n,r,Xp,(function(n){a.push(i.Ue(e,t,n))}),(function(n){a.push(i.qe(e,t,n))})),cp.waitFor(a)}},{key:"$e",value:function(e){var t=1;return av(e).Qt({index:tp.sequenceNumberIndex,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}}]),e}();function nv(e){return wp(e,Jd.store)}function rv(e){return wp(e,np.store)}function iv(e){return wp(e,ep.store)}function av(e){return wp(e,tp.store)}var ov={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},uv=function(){function e(t,n,r){he(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return pe(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function sv(e,t,n){var r=e.store(Bd.store),i=e.store(qd.store),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.Qt({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){tl(1===u)})));var c,l=[],f=fe(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=qd.key(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return cp.waitFor(a).next((function(){return l}))}function cv(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw el();t=e.noDocument}return JSON.stringify(t).length}uv.DEFAULT_COLLECTION_PERCENTILE=10,uv.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,uv.DEFAULT=new uv(41943040,uv.DEFAULT_COLLECTION_PERCENTILE,uv.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),uv.DISABLED=new uv(-1,0,0);var lv=function(){function e(t,n,r,i){he(this,e),this.userId=t,this.O=n,this.indexManager=r,this.referenceDelegate=i,this.Ke={}}return pe(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return hv(e).Qt({index:Bd.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=dv(e),o=hv(e);return o.add({}).next((function(u){tl("number"==typeof u);var s,c=new bp(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return wd(e.Ht,t)})),i=n.mutations.map((function(t){return wd(e.Ht,t)}));return new Bd(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.O,i.userId,c),f=[],h=new Lh((function(e,t){return ml(e.canonicalString(),t.canonicalString())})),d=fe(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=qd.key(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,qd.PLACEHOLDER))}}catch(y){d.e(y)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Ke[u]=c.keys()})),cp.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return hv(e).get(t).next((function(e){return e?(tl(e.userId===n.userId),Op(n.O,e)):null}))}},{key:"Ge",value:function(e,t){var n=this;return this.Ke[t]?cp.resolve(this.Ke[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Ke[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return hv(e).Qt({index:Bd.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&(tl(t.batchId>=r),a=Op(n.O,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return hv(e).Qt({index:Bd.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return hv(e).qt(Bd.userMutationsIndex,n).next((function(e){return e.map((function(e){return Op(t.O,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=qd.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return dv(e).Qt({range:i},(function(r,i,o){var u=s(r,3),c=u[0],l=u[1],f=u[2],h=Fd(l);if(c===n.userId&&t.path.isEqual(h))return hv(e).get(f).next((function(e){if(!e)throw el();tl(e.userId===n.userId),a.push(Op(n.O,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Lh(ml),i=[];return t.forEach((function(t){var a=qd.prefixForPath(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=dv(e).Qt({range:o},(function(e,i,a){var o=s(e,3),u=o[0],c=o[1],l=o[2],f=Fd(c);u===n.userId&&t.path.isEqual(f)?r=r.add(l):a.done()}));i.push(u)})),cp.waitFor(i).next((function(){return n.je(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=qd.prefixForPath(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new Lh(ml);return dv(e).Qt({range:o},(function(e,t,a){var o=s(e,3),c=o[0],l=o[1],f=o[2],h=Fd(l);c===n.userId&&r.isPrefixOf(h)?h.length===i&&(u=u.add(f)):a.done()})).next((function(){return n.je(e,u)}))}},{key:"je",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(hv(e).get(t).next((function(e){if(null===e)throw el();tl(e.userId===n.userId),r.push(Op(n.O,e))})))})),cp.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return sv(e.zt,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Qe(t.batchId)})),cp.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"Qe",value:function(e){delete this.Ke[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return cp.resolve();var r=IDBKeyRange.lowerBound(qd.prefixForUser(t.userId)),i=[];return dv(e).Qt({range:r},(function(e,n,r){if(e[0]===t.userId){var a=Fd(e[1]);i.push(a)}else r.done()})).next((function(){tl(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return fv(e,this.userId,t)}},{key:"We",value:function(e){var t=this;return pv(e).get(this.userId).next((function(e){return e||new Vd(t.userId,-1,"")}))}}],[{key:"Jt",value:function(t,n,r,i){return tl(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function fv(e,t,n){var r=qd.prefixForPath(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return dv(e).Qt({range:a,jt:!0},(function(e,n,r){var a=s(e,3),u=a[0],c=a[1];a[2];u===t&&c===i&&(o=!0),r.done()})).next((function(){return o}))}function hv(e){return wp(e,Bd.store)}function dv(e){return wp(e,qd.store)}function pv(e){return wp(e,Vd.store)}var vv=function(){function e(t){he(this,e),this.ze=t}return pe(e,[{key:"next",value:function(){return this.ze+=2,this.ze}}],[{key:"He",value:function(){return new e(0)}},{key:"Je",value:function(){return new e(-1)}}]),e}(),yv=function(){function e(t,n){he(this,e),this.referenceDelegate=t,this.O=n}return pe(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.Ye(e).next((function(n){var r=new vv(n.highestTargetId);return n.highestTargetId=r.next(),t.Xe(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.Ye(e).next((function(e){return bl.fromTimestamp(new wl(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.Ye(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.Ye(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Xe(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Ze(e,t).next((function(){return n.Ye(e).next((function(r){return r.targetCount+=1,n.tn(t,r),n.Xe(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Ze(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return mv(e).delete(t.targetId)})).next((function(){return n.Ye(e)})).next((function(t){return tl(t.targetCount>0),t.targetCount-=1,n.Xe(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return mv(e).Qt((function(o,u){var s=Rp(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return cp.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return mv(e).Qt((function(e,n){var r=Rp(n);t(r)}))}},{key:"Ye",value:function(e){return gv(e).get(Qd.key).next((function(e){return tl(null!==e),e}))}},{key:"Xe",value:function(e,t){return gv(e).put(Qd.key,t)}},{key:"Ze",value:function(e,t){return mv(e).put(Pp(this.O,t))}},{key:"tn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.Ye(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=vf(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return mv(e).Qt({range:r,index:Kd.queryTargetsIndexName},(function(e,n,r){var a=Rp(n);yf(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=kv(e);return t.forEach((function(t){var o=Pd(t.path);i.push(a.put(new Yd(n,o))),i.push(r.referenceDelegate.addReference(e,n,t))})),cp.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=kv(e);return cp.forEach(t,(function(t){var a=Pd(t.path);return cp.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=kv(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=kv(e),i=Wh();return r.Qt({range:n,jt:!0},(function(e,t,n){var r=Fd(e[1]),a=new zl(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=Pd(t.path),r=IDBKeyRange.bound([n],[kl(n)],!1,!0),i=0;return kv(e).Qt({index:Yd.documentTargetsIndex,jt:!0,range:r},(function(e,t,n){var r=s(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"Tt",value:function(e,t){return mv(e).get(t).next((function(e){return e?Rp(e):null}))}}]),e}();function mv(e){return wp(e,Kd.store)}function gv(e){return wp(e,Qd.store)}function kv(e){return wp(e,Yd.store)}function wv(e){return bv.apply(this,arguments)}function bv(){return bv=Z(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===rl.FAILED_PRECONDITION&&t.message===up){e.next=2;break}throw t;case 2:Jc("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),bv.apply(this,arguments)}function _v(e,t){var n=s(e,2),r=n[0],i=n[1],a=s(t,2),o=a[0],u=a[1],c=ml(r,o);return 0===c?ml(i,u):c}var xv=function(){function e(t){he(this,e),this.en=t,this.buffer=new Lh(_v),this.nn=0}return pe(e,[{key:"sn",value:function(){return++this.nn}},{key:"rn",value:function(e){var t=[e,this.sn()];if(this.buffer.size<this.en)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();_v(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),Sv=function(){function e(t,n){he(this,e),this.garbageCollector=t,this.asyncQueue=n,this.on=!1,this.cn=null}return pe(e,[{key:"start",value:function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.un(e)}},{key:"stop",value:function(){this.cn&&(this.cn.cancel(),this.cn=null)}},{key:"started",get:function(){return null!==this.cn}},{key:"un",value:function(e){var t=this,n=this.on?3e5:6e4;Jc("LruGarbageCollector","Garbage collection scheduled in ".concat(n,"ms")),this.cn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,Z(ee().mark((function n(){return ee().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.cn=null,t.on=!0,n.prev=1,n.next=4,e.collectGarbage(t.garbageCollector);case 4:n.next=14;break;case 6:if(n.prev=6,n.t0=n.catch(1),!pp(n.t0)){n.next=12;break}Jc("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n.t0),n.next=14;break;case 12:return n.next=14,wv(n.t0);case 14:return n.next=16,t.un(e);case 16:case"end":return n.stop()}}),n,null,[[1,6]])}))))}}]),e}(),Iv=function(){function e(t,n){he(this,e),this.an=t,this.params=n}return pe(e,[{key:"calculateTargetCount",value:function(e,t){return this.an.hn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return cp.resolve(pl.A);var r=new xv(t);return this.an.forEachTarget(e,(function(e){return r.rn(e.sequenceNumber)})).next((function(){return n.an.ln(e,(function(e){return r.rn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.an.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.an.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Jc("LruGarbageCollector","Garbage collection skipped; disabled"),cp.resolve(ov)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Jc("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),ov):n.fn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.an.getCacheSize(e)}},{key:"fn",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Jc("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),Qc()<=Je.DEBUG&&Jc("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),cp.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),Ev=function(){function e(t,n){he(this,e),this.db=t,this.garbageCollector=function(e,t){return new Iv(e,t)}(this,n)}return pe(e,[{key:"hn",value:function(e){var t=this.dn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"dn",value:function(e){var t=0;return this.ln(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"ln",value:function(e,t){return this._n(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return Tv(e,n)}},{key:"removeReference",value:function(e,t,n){return Tv(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return Tv(e,t)}},{key:"wn",value:function(e,t){return function(e,t){var n=!1;return pv(e).Wt((function(r){return fv(e,r,t).next((function(e){return e&&(n=!0),cp.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this._n(e,(function(o,u){if(u<=t){var s=n.wn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,bl.min()),kv(e).delete([0,Pd(o.path)])}))}));i.push(s)}})).next((function(){return cp.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return Tv(e,t)}},{key:"_n",value:function(e,t){var n,r=kv(e),i=pl.A;return r.Qt({index:Yd.documentTargetsIndex},(function(e,r){var a=s(e,2),o=a[0],u=(a[1],r.path),c=r.sequenceNumber;0===o?(i!==pl.A&&t(new zl(Fd(n)),i),i=c,n=u):i=pl.A})).next((function(){i!==pl.A&&t(new zl(Fd(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function Tv(e,t){return kv(e).put(function(e,t){return new Yd(0,Pd(e.path),t)}(t,e.currentSequenceNumber))}var Cv=function(){function e(t,n){he(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return pe(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=fe(n);try{for(i.s();!(r=i.n()).done;){var a=s(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(c){i.e(c)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1}},{key:"forEach",value:function(e){xl(this.inner,(function(t,n){var r,i=fe(n);try{for(i.s();!(r=i.n()).done;){var a=s(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(c){i.e(c)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return Sl(this.inner)}}]),e}(),Av=function(){function e(){he(this,e),this.changes=new Cv((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return pe(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,sf.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?cp.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),Nv=function(){function e(t){he(this,e),this.O=t}return pe(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return Rv(e).put(Pv(t),n)}},{key:"removeEntry",value:function(e,t){var n=Rv(e),r=Pv(t);return n.delete(r)}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.mn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this;return Rv(e).get(Pv(t)).next((function(e){return n.gn(t,e)}))}},{key:"yn",value:function(e,t){var n=this;return Rv(e).get(Pv(t)).next((function(e){return{document:n.gn(t,e),size:cv(e)}}))}},{key:"getEntries",value:function(e,t){var n=this,r=jh();return this.pn(e,t,(function(e,t){var i=n.gn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"In",value:function(e,t){var n=this,r=jh(),i=new Oh(zl.comparator);return this.pn(e,t,(function(e,t){var a=n.gn(e,t);r=r.insert(e,a),i=i.insert(e,cv(t))})).next((function(){return{documents:r,En:i}}))}},{key:"pn",value:function(e,t,n){if(t.isEmpty())return cp.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),a=i.getNext();return Rv(e).Qt({range:r},(function(e,t,r){for(var o=zl.fromSegments(e);a&&zl.comparator(a,o)<0;)n(a,null),a=i.getNext();a&&a.isEqual(o)&&(n(a,t),a=i.hasNext()?i.getNext():null),a?r.Ut(a.path.toArray()):r.done()})).next((function(){for(;a;)n(a,null),a=i.hasNext()?i.getNext():null}))}},{key:"getAll",value:function(e,t,n){var r=this,i=jh(),a=t.length+1,o={};if(n.isEqual(bl.min())){var u=t.toArray();o.range=IDBKeyRange.lowerBound(u)}else{var s=t.toArray(),c=Cp(n);o.range=IDBKeyRange.lowerBound([s,c],!0),o.index=Gd.collectionReadTimeIndex}return Rv(e).Qt(o,(function(e,n,o){if(e.length===a){var u=r.gn(zl.fromSegments(e),n);t.isPrefixOf(u.key.path)?i=i.insert(u.key,u):o.done()}})).next((function(){return i}))}},{key:"newChangeBuffer",value:function(e){return new Dv(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return Ov(e).get(Hd.key).next((function(e){return tl(!!e),e}))}},{key:"mn",value:function(e,t){return Ov(e).put(Hd.key,t)}},{key:"gn",value:function(e,t){if(t){var n=Ep(this.O,t);if(!n.isNoDocument()||!n.version.isEqual(bl.min()))return n}return sf.newInvalidDocument(e)}}]),e}(),Dv=function(e){oe(n,e);var t=le(n);function n(e,r){var i;return he(this,n),(i=t.call(this)).Tn=e,i.trackRemovals=r,i.An=new Cv((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return pe(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new Lh((function(e,t){return ml(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.An.get(a);if(o.isValidDocument()){var s=Tp(t.Tn.O,o);i=i.add(a.path.popLast());var c=cv(s);r+=c-u,n.push(t.Tn.addEntry(e,a,s))}else if(r-=u,t.trackRemovals){var l=Tp(t.Tn.O,o.convertToNoDocument(bl.min()));n.push(t.Tn.addEntry(e,a,l))}else n.push(t.Tn.removeEntry(e,a))})),i.forEach((function(r){n.push(t.Tn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.Tn.updateMetadata(e,r)),cp.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Tn.yn(e,t).next((function(e){return n.An.set(t,e.size),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Tn.In(e,t).next((function(e){var t=e.documents;return e.En.forEach((function(e,t){n.An.set(e,t)})),t}))}}]),n}(Av);function Ov(e){return wp(e,Hd.store)}function Rv(e){return wp(e,Gd.store)}function Pv(e){return e.path.toArray()}var Lv=function(){function e(t){he(this,e),this.O=t}return pe(e,[{key:"kt",value:function(e,t,n,r){var i=this,a=new lp("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(jd.store)}(e),function(e){e.createObjectStore(Vd.store,{keyPath:Vd.keyPath}),e.createObjectStore(Bd.store,{keyPath:Bd.keyPath,autoIncrement:!0}).createIndex(Bd.userMutationsIndex,Bd.userMutationsKeyPath,{unique:!0}),e.createObjectStore(qd.store)}(e),Mv(e),function(e){e.createObjectStore(Gd.store)}(e));var o=cp.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(Yd.store),e.deleteObjectStore(Kd.store),e.deleteObjectStore(Qd.store)}(e),Mv(e)),o=o.next((function(){return function(e){var t=e.store(Qd.store),n=new Qd(0,0,bl.min().toTimestamp(),0);return t.put(Qd.key,n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store(Bd.store).qt().next((function(n){e.deleteObjectStore(Bd.store),e.createObjectStore(Bd.store,{keyPath:Bd.keyPath,autoIncrement:!0}).createIndex(Bd.userMutationsIndex,Bd.userMutationsKeyPath,{unique:!0});var r=t.store(Bd.store),i=n.map((function(e){return r.put(e)}));return cp.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore(Xd.store,{keyPath:Xd.keyPath})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Rn(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore(Hd.store)}(e),i.Pn(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.bn(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.vn(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(Gd.store);t.createIndex(Gd.readTimeIndex,Gd.readTimeIndexPath,{unique:!1}),t.createIndex(Gd.collectionReadTimeIndex,Gd.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(o=o.next((function(){return i.Vn(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore(Zd.store,{keyPath:Zd.keyPath})}(e),function(e){e.createObjectStore($d.store,{keyPath:$d.keyPath})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore(rp.store,{keyPath:rp.keyPath});t.createIndex(rp.collectionPathOverlayIndex,rp.collectionPathOverlayIndexPath,{unique:!1}),t.createIndex(rp.collectionGroupOverlayIndex,rp.collectionGroupOverlayIndexPath,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){!function(e){e.createObjectStore(ep.store,{keyPath:ep.keyPath,autoIncrement:!0}).createIndex(ep.collectionGroupIndex,ep.collectionGroupIndexPath,{unique:!1}),e.createObjectStore(tp.store,{keyPath:tp.keyPath}).createIndex(tp.sequenceNumberIndex,tp.sequenceNumberIndexPath,{unique:!1}),e.createObjectStore(np.store,{keyPath:np.keyPath}).createIndex(np.documentKeyIndex,np.documentKeyIndexPath,{unique:!1})}(e)}))),o}},{key:"Pn",value:function(e){var t=0;return e.store(Gd.store).Qt((function(e,n){t+=cv(n)})).next((function(){var n=new Hd(t);return e.store(Hd.store).put(Hd.key,n)}))}},{key:"Rn",value:function(e){var t=this,n=e.store(Vd.store),r=e.store(Bd.store);return n.qt().next((function(n){return cp.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.qt(Bd.userMutationsIndex,i).next((function(r){return cp.forEach(r,(function(r){tl(r.userId===n.userId);var i=Op(t.O,r);return sv(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"bn",value:function(e){var t=e.store(Yd.store),n=e.store(Gd.store);return e.store(Qd.store).get(Qd.key).next((function(e){var r=[];return n.Qt((function(n,i){var a=new El(n),o=function(e){return[0,Pd(e)]}(a);r.push(t.get(o).next((function(n){return n?cp.resolve():function(n){return t.put(new Yd(0,Pd(n),e.highestListenSequenceNumber))}(a)})))})).next((function(){return cp.waitFor(r)}))}))}},{key:"vn",value:function(e,t){e.createObjectStore(Jd.store,{keyPath:Jd.keyPath});var n=t.store(Jd.store),r=new ev,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Pd(i)})}};return t.store(Gd.store).Qt({jt:!0},(function(e,t){var n=new El(e);return i(n.popLast())})).next((function(){return t.store(qd.store).Qt({jt:!0},(function(e,t){var n=s(e,3),r=(n[0],n[1]),a=(n[2],Fd(r));return i(a.popLast())}))}))}},{key:"Vn",value:function(e){var t=this,n=e.store(Kd.store);return n.Qt((function(e,r){var i=Rp(r),a=Pp(t.O,i);return n.put(a)}))}}]),e}();function Mv(e){e.createObjectStore(Yd.store,{keyPath:Yd.keyPath}).createIndex(Yd.documentTargetsIndex,Yd.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Kd.store,{keyPath:Kd.keyPath}).createIndex(Kd.queryTargetsIndexName,Kd.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Qd.store)}var Fv="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Uv=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:12;if(he(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Sn=a,this.window=o,this.document=u,this.Dn=c,this.Cn=l,this.schemaVersion=f,this.Nn=null,this.xn=!1,this.isPrimary=!1,this.networkEnabled=!0,this.kn=null,this.inForeground=!1,this.On=null,this.Mn=null,this.$n=Number.NEGATIVE_INFINITY,this.Fn=function(e){return Promise.resolve()},!e.Vt())throw new il(rl.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Ev(this,i),this.Bn=n+"main",this.O=new Ip(s),this.Ln=new fp(this.Bn,this.schemaVersion,new Lv(this.O)),this.Un=new yv(this.referenceDelegate,this.O),this.qn=function(e){return new Nv(e)}(this.O),this.Kn=new Up,this.window&&this.window.localStorage?this.Gn=this.window.localStorage:(this.Gn=null,!1===l&&Xc("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return pe(e,[{key:"start",value:function(){var e=this;return this.jn().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new il(rl.FAILED_PRECONDITION,Fv);return e.Qn(),e.Wn(),e.zn(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Un.getHighestSequenceNumber(t)}))})).then((function(t){e.Nn=new pl(t,e.Dn)})).then((function(){e.xn=!0})).catch((function(t){return e.Ln&&e.Ln.close(),Promise.reject(t)}))}},{key:"Hn",value:function(e){var t=this;return this.Fn=function(){var n=Z(ee().mark((function n(r){return ee().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.Ln.Mt(function(){var t=Z(ee().mark((function t(n){return ee().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Sn.enqueueAndForget(Z(ee().mark((function e(){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.jn();case 4:case"end":return e.stop()}}),e)})))))}},{key:"jn",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return Vv(t).put(new Xd(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.Jn(t).next((function(t){t||(e.isPrimary=!1,e.Sn.enqueueRetryable((function(){return e.Fn(!1)})))}))})).next((function(){return e.Yn(t)})).next((function(n){return e.isPrimary&&!n?e.Xn(t).next((function(){return!1})):!!n&&e.Zn(t).next((function(){return!0}))}))})).catch((function(t){if(pp(t))return Jc("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Jc("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Sn.enqueueRetryable((function(){return e.Fn(t)})),e.isPrimary=t}))}},{key:"Jn",value:function(e){var t=this;return jv(e).get(jd.key).next((function(e){return cp.resolve(t.ts(e))}))}},{key:"es",value:function(e){return Vv(e).delete(this.clientId)}},{key:"ns",value:function(){var e=Z(ee().mark((function e(){var t,n,r,i,a=this;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.ss(this.$n,18e5)){e.next=6;break}return this.$n=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=wp(e,Xd.store);return t.qt().next((function(e){var n=a.rs(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return cp.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.Gn){n=fe(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.Gn.removeItem(this.os(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"zn",value:function(){var e=this;this.Mn=this.Sn.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.jn().then((function(){return e.ns()})).then((function(){return e.zn()}))}))}},{key:"ts",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"Yn",value:function(e){var t=this;return this.Cn?cp.resolve(!0):jv(e).get(jd.key).next((function(n){if(null!==n&&t.ss(n.leaseTimestampMs,5e3)&&!t.cs(n.ownerId)){if(t.ts(n)&&t.networkEnabled)return!0;if(!t.ts(n)){if(!n.allowTabSynchronization)throw new il(rl.FAILED_PRECONDITION,Fv);return!1}}return!(!t.networkEnabled||!t.inForeground)||Vv(e).qt().next((function(e){return void 0===t.rs(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Jc("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=Z(ee().mark((function e(){var t=this;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.xn=!1,this.us(),this.Mn&&(this.Mn.cancel(),this.Mn=null),this.hs(),this.ls(),e.next=7,this.Ln.runTransaction("shutdown","readwrite",[jd.store,Xd.store],(function(e){var n=new kp(e,pl.A);return t.Xn(n).next((function(){return t.es(n)}))}));case 7:this.Ln.close(),this.fs();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"rs",value:function(e,t){var n=this;return e.filter((function(e){return n.ss(e.updateTimeMs,t)&&!n.cs(e.clientId)}))}},{key:"ds",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return Vv(t).qt().next((function(t){return e.rs(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.xn}},{key:"getMutationQueue",value:function(e,t){return lv.Jt(e,this.O,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Un}},{key:"getRemoteDocumentCache",value:function(){return this.qn}},{key:"getIndexManager",value:function(e){return new tv(e)}},{key:"getDocumentOverlayCache",value:function(e){return Bp.Jt(this.O,e)}},{key:"getBundleCache",value:function(){return this.Kn}},{key:"runTransaction",value:function(e,t,n){var r=this;Jc("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=13===(i=this.schemaVersion)?op:12===i?ap:11===i?ip:void el();return this.Ln.runTransaction(e,o,u,(function(i){return a=new kp(i,r.Nn?r.Nn.next():pl.A),"readwrite-primary"===t?r.Jn(a).next((function(e){return!!e||r.Yn(a)})).next((function(t){if(!t)throw Xc("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Sn.enqueueRetryable((function(){return r.Fn(!1)})),new il(rl.FAILED_PRECONDITION,up);return n(a)})).next((function(e){return r.Zn(a).next((function(){return e}))})):r._s(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"_s",value:function(e){var t=this;return jv(e).get(jd.key).next((function(e){if(null!==e&&t.ss(e.leaseTimestampMs,5e3)&&!t.cs(e.ownerId)&&!t.ts(e)&&!(t.Cn||t.allowTabSynchronization&&e.allowTabSynchronization))throw new il(rl.FAILED_PRECONDITION,Fv)}))}},{key:"Zn",value:function(e){var t=new jd(this.clientId,this.allowTabSynchronization,Date.now());return jv(e).put(jd.key,t)}},{key:"Xn",value:function(e){var t=this,n=jv(e);return n.get(jd.key).next((function(e){return t.ts(e)?(Jc("IndexedDbPersistence","Releasing primary lease."),n.delete(jd.key)):cp.resolve()}))}},{key:"ss",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(Xc("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"Qn",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.On=function(){e.Sn.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.jn()}))},this.document.addEventListener("visibilitychange",this.On),this.inForeground="visible"===this.document.visibilityState)}},{key:"hs",value:function(){this.On&&(this.document.removeEventListener("visibilitychange",this.On),this.On=null)}},{key:"Wn",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.kn=function(){t.us(),De()&&navigator.appVersion.match(/Version\/1[45]/)&&t.Sn.enterRestrictedMode(!0),t.Sn.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.kn))}},{key:"ls",value:function(){this.kn&&(this.window.removeEventListener("pagehide",this.kn),this.kn=null)}},{key:"cs",value:function(e){var t;try{var n=null!==(null===(t=this.Gn)||void 0===t?void 0:t.getItem(this.os(e)));return Jc("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Xc("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"us",value:function(){if(this.Gn)try{this.Gn.setItem(this.os(this.clientId),String(Date.now()))}catch(Ga){Xc("Failed to set zombie client id.",Ga)}}},{key:"fs",value:function(){if(this.Gn)try{this.Gn.removeItem(this.os(this.clientId))}catch(Ga){}}},{key:"os",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"Vt",value:function(){return fp.Vt()}}]),e}();function jv(e){return wp(e,jd.store)}function Vv(e){return wp(e,Xd.store)}function Bv(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var qv=pe((function e(t,n){he(this,e),this.progress=t,this.ws=n})),zv=function(){function e(t,n,r){he(this,e),this.qn=t,this.gs=n,this.indexManager=r}return pe(e,[{key:"ys",value:function(e,t){var n=this;return this.gs.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.ps(e,t,r)}))}},{key:"ps",value:function(e,t,n){return this.qn.getEntry(e,t).next((function(e){var t,r=fe(n);try{for(r.s();!(t=r.n()).done;){t.value.applyToLocalView(e)}}catch(i){r.e(i)}finally{r.f()}return e}))}},{key:"Is",value:function(e,t){e.forEach((function(e,n){var r,i=fe(t);try{for(i.s();!(r=i.n()).done;){r.value.applyToLocalView(n)}}catch(a){i.e(a)}finally{i.f()}}))}},{key:"Es",value:function(e,t){var n=this;return this.qn.getEntries(e,t).next((function(t){return n.Ts(e,t).next((function(){return t}))}))}},{key:"Ts",value:function(e,t){var n=this;return this.gs.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.Is(t,e)}))}},{key:"As",value:function(e,t,n){return function(e){return zl.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Rs(e,t.path):jf(t)?this.Ps(e,t,n):this.bs(e,t,n)}},{key:"Rs",value:function(e,t){return this.ys(e,new zl(t)).next((function(e){var t=Bh();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"Ps",value:function(e,t,n){var r=this,i=t.collectionGroup,a=Bh();return this.indexManager.getCollectionParents(e,i).next((function(o){return cp.forEach(o,(function(o){var u=function(e,t){return new Of(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.bs(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"bs",value:function(e,t,n){var r,i=this;return this.qn.getAll(e,t.path,n).next((function(n){return r=n,i.gs.getAllMutationBatchesAffectingQuery(e,t)})).next((function(e){var t,n=fe(e);try{for(n.s();!(t=n.n()).done;){var i,a=t.value,o=fe(a.mutations);try{for(o.s();!(i=o.n()).done;){var u=i.value,s=u.key,c=r.get(s);null==c&&(c=sf.newInvalidDocument(s),r=r.insert(s,c)),yh(u,c,a.localWriteTime),c.isFoundDocument()||(r=r.remove(s))}}catch(l){o.e(l)}finally{o.f()}}}catch(l){n.e(l)}finally{n.f()}})).next((function(){return r.forEach((function(e,n){Hf(t,n)||(r=r.remove(e))})),r}))}}]),e}(),Wv=function(){function e(t,n,r,i){he(this,e),this.targetId=t,this.fromCache=n,this.vs=r,this.Vs=i}return pe(e,null,[{key:"Ss",value:function(t,n){var r,i=Wh(),a=Wh(),o=fe(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),Gv=function(){function e(){he(this,e)}return pe(e,[{key:"Ds",value:function(e){this.Cs=e}},{key:"As",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(bl.min())?this.Ns(e,t):this.Cs.Es(e,r).next((function(a){var o=i.xs(t,a);return(Lf(t)||Mf(t))&&i.ks(t.limitType,o,r,n)?i.Ns(e,t):(Qc()<=Je.DEBUG&&Jc("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Gf(t)),i.Cs.As(e,t,n).next((function(e){return o.forEach((function(t){e=e.insert(t.key,t)})),e})))}))}},{key:"xs",value:function(e,t){var n=new Lh(Kf(e));return t.forEach((function(t,r){Hf(e,r)&&(n=n.add(r))})),n}},{key:"ks",value:function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Ns",value:function(e,t){return Qc()<=Je.DEBUG&&Jc("QueryEngine","Using full collection scan to execute query:",Gf(t)),this.Cs.As(e,t,bl.min())}}]),e}(),Hv=function(){function e(t,n,r,i){he(this,e),this.persistence=t,this.Os=n,this.O=i,this.Ms=new Oh(ml),this.$s=new Cv((function(e){return vf(e)}),yf),this.Fs=bl.min(),this.Bs=t.getRemoteDocumentCache(),this.Un=t.getTargetCache(),this.Kn=t.getBundleCache(),this.Ls(r)}return pe(e,[{key:"Ls",value:function(e){this.indexManager=this.persistence.getIndexManager(e),this.gs=this.persistence.getMutationQueue(e,this.indexManager),this.Us=new zv(this.Bs,this.gs,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Os.Ds(this.Us)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Ms)}))}}]),e}();function Kv(e,t,n,r){return new Hv(e,t,n,r)}function Yv(e,t){return Qv.apply(this,arguments)}function Qv(){return Qv=Z(ee().mark((function e(t,n){var r;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=nl(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.gs.getAllMutationBatches(e).next((function(i){return t=i,r.Ls(n),r.gs.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=Wh(),s=fe(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=fe(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=fe(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var y,m=fe(v.mutations);try{for(m.s();!(y=m.n()).done;){var g=y.value;u=u.add(g.key)}}catch(k){m.e(k)}finally{m.f()}}}catch(k){p.e(k)}finally{p.f()}return r.Us.Es(e,u).next((function(e){return{qs:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),Qv.apply(this,arguments)}function Jv(e,t){var n=nl(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Bs.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=cp.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);tl(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.gs.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.gs.performConsistencyCheck(e)})).next((function(){return n.Us.Es(e,r)}))}))}function Xv(e){var t=nl(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Un.getLastRemoteSnapshotVersion(e)}))}function Zv(e,t){var n=nl(e),r=t.snapshotVersion,i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Bs.newChangeBuffer({trackRemovals:!0});i=n.Ms;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.Un.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.Un.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(Nl.EMPTY_BYTE_STRING,bl.min()).withLastLimboFreeSnapshotVersion(bl.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.Un.updateTargetData(e,c))}}));var u=jh();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push($v(e,a,t.documentUpdates).next((function(e){u=e}))),!r.isEqual(bl.min())){var s=n.Un.getLastRemoteSnapshotVersion(e).next((function(t){return n.Un.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(s)}return cp.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.Us.Ts(e,u)})).next((function(){return u}))})).then((function(e){return n.Ms=i,e}))}function $v(e,t,n){var r=Wh();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=jh();return n.forEach((function(n,i){var a=e.get(n);i.isNoDocument()&&i.version.isEqual(bl.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!a.isValidDocument()||i.version.compareTo(a.version)>0||0===i.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):Jc("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",i.version)})),r}))}function ey(e,t){var n=nl(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.gs.getNextMutationBatchAfterBatchId(e,t)}))}function ty(e,t){var n=nl(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Un.getTargetData(e,t).next((function(i){return i?(r=i,cp.resolve(r)):n.Un.allocateTargetId(e).next((function(i){return r=new Sp(t,i,0,e.currentSequenceNumber),n.Un.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Ms.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(e.targetId,e),n.$s.set(t,e.targetId)),e}))}function ny(e,t,n){return ry.apply(this,arguments)}function ry(){return ry=Z(ee().mark((function e(t,n,r){var i,a,o;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=nl(t),a=i.Ms.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),pp(e.t1)){e.next=12;break}throw e.t1;case 12:Jc("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Ms=i.Ms.remove(n),i.$s.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),ry.apply(this,arguments)}function iy(e,t,n){var r=nl(e),i=bl.min(),a=Wh();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=nl(e),i=r.$s.get(n);return void 0!==i?cp.resolve(r.Ms.get(i)):r.Un.getTargetData(t,n)}(r,e,Bf(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Un.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Os.As(e,t,n?i:bl.min(),n?a:Wh())})).next((function(e){return{documents:e,Ks:a}}))}))}function ay(e,t){var n=nl(e),r=nl(n.Un),i=n.Ms.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.Tt(e,t).next((function(e){return e?e.target:null}))}))}function oy(e){var t=nl(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return function(e,t,n){var r=nl(e),i=jh(),a=Cp(n),o=Rv(t),u=IDBKeyRange.lowerBound(a,!0);return o.Qt({index:Gd.readTimeIndex,range:u},(function(e,t){var n=Ep(r.O,t);i=i.insert(n.key,n),a=t.readTime})).next((function(){return{ws:i,readTime:Ap(a)}}))}(t.Bs,e,t.Fs)})).then((function(e){var n=e.ws,r=e.readTime;return t.Fs=r,n}))}function uy(e){return sy.apply(this,arguments)}function sy(){return sy=Z(ee().mark((function e(t){var n;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=nl(t),e.abrupt("return",n.persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return function(e){var t=Rv(e),n=bl.min();return t.Qt({index:Gd.readTimeIndex,reverse:!0},(function(e,t,r){t.readTime&&(n=Ap(t.readTime)),r.done()})).next((function(){return n}))}(e)})).then((function(e){n.Fs=e})));case 2:case"end":return e.stop()}}),e)}))),sy.apply(this,arguments)}function cy(e,t,n,r){return ly.apply(this,arguments)}function ly(){return ly=Z(ee().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=nl(t),o=Wh(),u=jh(),s=fe(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.Gs(l.metadata.name),l.document&&(o=o.add(f)),(h=n.js(l)).setReadTime(n.Qs(l.metadata.readTime)),u=u.insert(f,h)}catch(v){s.e(v)}finally{s.f()}return d=a.Bs.newChangeBuffer({trackRemovals:!0}),e.next=7,ty(a,function(e){return Bf(Pf(El.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return $v(e,d,u).next((function(t){return d.apply(e),t})).next((function(t){return a.Un.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Un.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.Us.Ts(e,t)})).next((function(){return t}))}))})));case 9:case"end":return e.stop()}}),e)}))),ly.apply(this,arguments)}function fy(e,t){return hy.apply(this,arguments)}function hy(){return hy=Z(ee().mark((function e(t,n){var r,i,a,o=arguments;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:Wh(),e.next=3,ty(t,Bf(Lp(n.bundledQuery)));case 3:return i=e.sent,a=nl(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=sd(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Kn.saveNamedQuery(e,n);var o=i.withResumeToken(Nl.EMPTY_BYTE_STRING,t);return a.Ms=a.Ms.insert(o.targetId,o),a.Un.updateTargetData(e,o).next((function(){return a.Un.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Un.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Kn.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),hy.apply(this,arguments)}var dy=function(){function e(t){he(this,e),this.O=t,this.Ws=new Map,this.zs=new Map}return pe(e,[{key:"getBundleMetadata",value:function(e,t){return cp.resolve(this.Ws.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Ws.set(t.id,{id:(n=t).id,version:n.version,createTime:sd(n.createTime)}),cp.resolve()}},{key:"getNamedQuery",value:function(e,t){return cp.resolve(this.zs.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.zs.set(t.name,function(e){return{name:e.name,query:Lp(e.bundledQuery),readTime:sd(e.readTime)}}(t)),cp.resolve()}}]),e}(),py=function(){function e(){he(this,e),this.overlays=new Oh(zl.comparator),this.Hs=new Map}return pe(e,[{key:"getOverlay",value:function(e,t){return cp.resolve(this.overlays.get(t))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n){r.Yt(e,t,n)})),cp.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.Hs.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.Hs.delete(n)),cp.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=new Map,i=t.length+1,a=new zl(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return cp.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new Oh((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=new Map,i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=new Map,c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(t,e)})),!(s.size>=r)););return cp.resolve(s)}},{key:"Yt",value:function(e,t,n){if(null!==n){var r=this.overlays.get(n.key);null!==r&&this.Hs.get(r.largestBatchId).delete(n.key),this.overlays=this.overlays.insert(n.key,new xp(t,n));var i=this.Hs.get(t);void 0===i&&(i=new Set,this.Hs.set(t,i)),i.add(n.key)}}}]),e}(),vy=function(){function e(){he(this,e),this.Js=new Lh(yy.Ys),this.Xs=new Lh(yy.Zs)}return pe(e,[{key:"isEmpty",value:function(){return this.Js.isEmpty()}},{key:"addReference",value:function(e,t){var n=new yy(e,t);this.Js=this.Js.add(n),this.Xs=this.Xs.add(n)}},{key:"ti",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.ei(new yy(e,t))}},{key:"ni",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"si",value:function(e){var t=this,n=new zl(new El([])),r=new yy(n,e),i=new yy(n,e+1),a=[];return this.Xs.forEachInRange([r,i],(function(e){t.ei(e),a.push(e.key)})),a}},{key:"ii",value:function(){var e=this;this.Js.forEach((function(t){return e.ei(t)}))}},{key:"ei",value:function(e){this.Js=this.Js.delete(e),this.Xs=this.Xs.delete(e)}},{key:"ri",value:function(e){var t=new zl(new El([])),n=new yy(t,e),r=new yy(t,e+1),i=Wh();return this.Xs.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new yy(e,0),n=this.Js.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),yy=function(){function e(t,n){he(this,e),this.key=t,this.oi=n}return pe(e,null,[{key:"Ys",value:function(e,t){return zl.comparator(e.key,t.key)||ml(e.oi,t.oi)}},{key:"Zs",value:function(e,t){return ml(e.oi,t.oi)||zl.comparator(e.key,t.key)}}]),e}(),my=function(){function e(t,n){he(this,e),this.indexManager=t,this.referenceDelegate=n,this.gs=[],this.ci=1,this.ui=new Lh(yy.Ys)}return pe(e,[{key:"checkEmpty",value:function(e){return cp.resolve(0===this.gs.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ci;this.ci++,this.gs.length>0&&this.gs[this.gs.length-1];var a=new bp(i,t,n,r);this.gs.push(a);var o,u=fe(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.ui=this.ui.add(new yy(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return cp.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return cp.resolve(this.ai(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.hi(n),i=r<0?0:r;return cp.resolve(this.gs.length>i?this.gs[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return cp.resolve(0===this.gs.length?-1:this.ci-1)}},{key:"getAllMutationBatches",value:function(e){return cp.resolve(this.gs.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new yy(t,0),i=new yy(t,Number.POSITIVE_INFINITY),a=[];return this.ui.forEachInRange([r,i],(function(e){var t=n.ai(e.oi);a.push(t)})),cp.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Lh(ml);return t.forEach((function(e){var t=new yy(e,0),i=new yy(e,Number.POSITIVE_INFINITY);n.ui.forEachInRange([t,i],(function(e){r=r.add(e.oi)}))})),cp.resolve(this.li(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;zl.isDocumentKey(i)||(i=i.child(""));var a=new yy(new zl(i),0),o=new Lh(ml);return this.ui.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.oi)),!0)}),a),cp.resolve(this.li(o))}},{key:"li",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.ai(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;tl(0===this.fi(t.batchId,"removed")),this.gs.shift();var r=this.ui;return cp.forEach(t.mutations,(function(i){var a=new yy(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.ui=r}))}},{key:"Qe",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new yy(t,0),r=this.ui.firstAfterOrEqual(n);return cp.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.gs.length,cp.resolve()}},{key:"fi",value:function(e,t){return this.hi(e)}},{key:"hi",value:function(e){return 0===this.gs.length?0:e-this.gs[0].batchId}},{key:"ai",value:function(e){var t=this.hi(e);return t<0||t>=this.gs.length?null:this.gs[t]}}]),e}(),gy=function(){function e(t){he(this,e),this.di=t,this.docs=new Oh(zl.comparator),this.size=0}return pe(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.di(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return cp.resolve(n?n.document.mutableCopy():sf.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=jh();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():sf.newInvalidDocument(e))})),cp.resolve(r)}},{key:"getAll",value:function(e,t,n){for(var r=jh(),i=new zl(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value.document;if(!t.isPrefixOf(u.path))break;u.path.length>t.length+1||s.readTime.compareTo(n)<=0||(r=r.insert(s.key,s.mutableCopy()))}return cp.resolve(r)}},{key:"_i",value:function(e,t){return cp.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new ky(this)}},{key:"getSize",value:function(e){return cp.resolve(this.size)}}]),e}(),ky=function(e){oe(n,e);var t=le(n);function n(e){var r;return he(this,n),(r=t.call(this)).Tn=e,r}return pe(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Tn.addEntry(e,i)):t.Tn.removeEntry(r)})),cp.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Tn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Tn.getEntries(e,t)}}]),n}(Av),wy=function(){function e(t){he(this,e),this.persistence=t,this.wi=new Cv((function(e){return vf(e)}),yf),this.lastRemoteSnapshotVersion=bl.min(),this.highestTargetId=0,this.mi=0,this.gi=new vy,this.targetCount=0,this.yi=vv.He()}return pe(e,[{key:"forEachTarget",value:function(e,t){return this.wi.forEach((function(e,n){return t(n)})),cp.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return cp.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return cp.resolve(this.mi)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.yi.next(),cp.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.mi&&(this.mi=t),cp.resolve()}},{key:"Ze",value:function(e){this.wi.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.yi=new vv(t),this.highestTargetId=t),e.sequenceNumber>this.mi&&(this.mi=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Ze(t),this.targetCount+=1,cp.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Ze(t),cp.resolve()}},{key:"removeTargetData",value:function(e,t){return this.wi.delete(t.target),this.gi.si(t.targetId),this.targetCount-=1,cp.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.wi.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.wi.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),cp.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return cp.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.wi.get(t)||null;return cp.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.gi.ti(t,n),cp.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.gi.ni(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),cp.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.gi.si(t),cp.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.gi.ri(t);return cp.resolve(n)}},{key:"containsKey",value:function(e,t){return cp.resolve(this.gi.containsKey(t))}}]),e}(),by=function(){function e(t,n){var r=this;he(this,e),this.pi={},this.overlays={},this.Nn=new pl(0),this.xn=!1,this.xn=!0,this.referenceDelegate=t(this),this.Un=new wy(this),this.indexManager=new $p,this.qn=new gy((function(e){return r.referenceDelegate.Ii(e)})),this.O=new Ip(n),this.Kn=new dy(this.O)}return pe(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.xn=!1,Promise.resolve()}},{key:"started",get:function(){return this.xn}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new py,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.pi[e.toKey()];return n||(n=new my(t,this.referenceDelegate),this.pi[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Un}},{key:"getRemoteDocumentCache",value:function(){return this.qn}},{key:"getBundleCache",value:function(){return this.Kn}},{key:"runTransaction",value:function(e,t,n){var r=this;Jc("MemoryPersistence","Starting transaction:",e);var i=new _y(this.Nn.next());return this.referenceDelegate.Ei(),n(i).next((function(e){return r.referenceDelegate.Ti(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ai",value:function(e,t){return cp.or(Object.values(this.pi).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),_y=function(e){oe(n,e);var t=le(n);function n(e){var r;return he(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return pe(n)}(sp),xy=function(){function e(t){he(this,e),this.persistence=t,this.Ri=new vy,this.Pi=null}return pe(e,[{key:"vi",get:function(){if(this.Pi)return this.Pi;throw el()}},{key:"addReference",value:function(e,t,n){return this.Ri.addReference(n,t),this.vi.delete(n.toString()),cp.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Ri.removeReference(n,t),this.vi.add(n.toString()),cp.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.vi.add(t.toString()),cp.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Ri.si(t.targetId).forEach((function(e){return n.vi.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.vi.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Ei",value:function(){this.Pi=new Set}},{key:"Ti",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return cp.forEach(this.vi,(function(r){var i=zl.fromPath(r);return t.Vi(e,i).next((function(e){e||n.removeEntry(i,bl.min())}))})).next((function(){return t.Pi=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Vi(e,t).next((function(e){e?n.vi.delete(t.toString()):n.vi.add(t.toString())}))}},{key:"Ii",value:function(e){return 0}},{key:"Vi",value:function(e,t){var n=this;return cp.or([function(){return cp.resolve(n.Ri.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ai(e,t)}])}}],[{key:"bi",value:function(t){return new e(t)}}]),e}();function Sy(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function Iy(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function Ey(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var Ty=function(){function e(t,n,r,i){he(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return pe(e,[{key:"Di",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Si",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new il(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(Xc("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),Cy=function(){function e(t,n,r){he(this,e),this.targetId=t,this.state=n,this.error=r}return pe(e,[{key:"Di",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Si",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new il(i.error.code,i.error.message))),a?new e(t,i.state,r):(Xc("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),Ay=function(){function e(t,n){he(this,e),this.clientId=t,this.activeTargetIds=n}return pe(e,null,[{key:"Si",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=Hh(),o=0;i&&o<r.activeTargetIds.length;++o)i=ql(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(Xc("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),Ny=function(){function e(t,n){he(this,e),this.clientId=t,this.onlineState=n}return pe(e,null,[{key:"Si",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Xc("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),Dy=function(){function e(){he(this,e),this.activeTargetIds=Hh()}return pe(e,[{key:"Ci",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Ni",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Di",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),Oy=function(){function e(t,n,r,i,a){he(this,e),this.window=t,this.Sn=n,this.persistenceKey=r,this.xi=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ki=this.Oi.bind(this),this.Mi=new Oh(ml),this.started=!1,this.$i=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.Fi=Sy(this.persistenceKey,this.xi),this.Bi=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.Mi=this.Mi.insert(this.xi,new Dy),this.Li=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.Ui=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.qi=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.Ki=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Gi=function(e){return"firestore_bundle_loaded_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.ki)}return pe(e,[{key:"start",value:function(){var e=Z(ee().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.ds();case 2:t=e.sent,n=fe(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.xi){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(Sy(this.persistenceKey,i)))&&(o=Ay.Si(i,a))&&(this.Mi=this.Mi.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.ji(),(u=this.storage.getItem(this.Ki))&&(s=this.Qi(u))&&this.Wi(s),c=fe(this.$i);try{for(c.s();!(l=c.n()).done;)f=l.value,this.Oi(f)}catch(d){c.e(d)}finally{c.f()}this.$i=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.Bi,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.zi(this.Mi)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.Mi.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Hi(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Hi(e,t,n),this.Ji(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(Ey(this.persistenceKey,e));if(n){var r=Cy.Si(e,n);r&&(t=r.state)}}return this.Yi.Ci(e),this.ji(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Yi.Ni(e),this.ji()}},{key:"isLocalQueryTarget",value:function(e){return this.Yi.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(Ey(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Xi(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Ji(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Zi(e)}},{key:"notifyBundleLoaded",value:function(){this.tr()}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.ki),this.removeItem(this.Fi),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return Jc("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){Jc("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){Jc("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"Oi",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Jc("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Fi)return void Xc("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Sn.enqueueRetryable(Z(ee().mark((function e(){var r,i,a,o,u,s;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=41;break}if(null===n.key){e.next=39;break}if(!t.Li.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.er(n.key),e.abrupt("return",t.nr(r,null));case 6:if(!(i=t.sr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.nr(i.clientId,i));case 9:e.next=39;break;case 11:if(!t.Ui.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.ir(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.rr(a));case 16:e.next=39;break;case 18:if(!t.qi.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.cr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.ur(o));case 23:e.next=39;break;case 25:if(n.key!==t.Ki){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.Qi(n.newValue))){e.next=30;break}return e.abrupt("return",t.Wi(u));case 30:e.next=39;break;case 32:if(n.key!==t.Bi){e.next=37;break}s=function(e){var t=pl.A;if(null!=e)try{var n=JSON.parse(e);tl("number"==typeof n),t=n}catch(e){Xc("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==pl.A&&t.sequenceNumberHandler(s),e.next=39;break;case 37:if(n.key!==t.Gi){e.next=39;break}return e.abrupt("return",t.syncEngine.ar());case 39:e.next=42;break;case 41:t.$i.push(n);case 42:case"end":return e.stop()}}),e)}))))}}},{key:"Yi",get:function(){return this.Mi.get(this.xi)}},{key:"ji",value:function(){this.setItem(this.Fi,this.Yi.Di())}},{key:"Hi",value:function(e,t,n){var r=new Ty(this.currentUser,e,t,n),i=Iy(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Di())}},{key:"Ji",value:function(e){var t=Iy(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Zi",value:function(e){var t={clientId:this.xi,onlineState:e};this.storage.setItem(this.Ki,JSON.stringify(t))}},{key:"Xi",value:function(e,t,n){var r=Ey(this.persistenceKey,e),i=new Cy(e,t,n);this.setItem(r,i.Di())}},{key:"tr",value:function(){this.setItem(this.Gi,"value-not-used")}},{key:"er",value:function(e){var t=this.Li.exec(e);return t?t[1]:null}},{key:"sr",value:function(e,t){var n=this.er(e);return Ay.Si(n,t)}},{key:"ir",value:function(e,t){var n=this.Ui.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Ty.Si(new Hc(i),r,t)}},{key:"cr",value:function(e,t){var n=this.qi.exec(e),r=Number(n[1]);return Cy.Si(r,t)}},{key:"Qi",value:function(e){return Ny.Si(e)}},{key:"rr",value:function(){var e=Z(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.hr(t.batchId,t.state,t.error));case 2:Jc("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"ur",value:function(e){return this.syncEngine.lr(e.targetId,e.state,e.error)}},{key:"nr",value:function(e,t){var n=this,r=t?this.Mi.insert(e,t):this.Mi.remove(e),i=this.zi(this.Mi),a=this.zi(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.dr(o,u).then((function(){n.Mi=r}))}},{key:"Wi",value:function(e){this.Mi.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"zi",value:function(e){var t=Hh();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"Vt",value:function(e){return!(!e||!e.localStorage)}}]),e}(),Ry=function(){function e(){he(this,e),this._r=new Dy,this.wr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return pe(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this._r.Ci(e),this.wr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.wr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this._r.Ni(e)}},{key:"isLocalQueryTarget",value:function(e){return this._r.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.wr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this._r.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this._r.activeTargetIds.has(e)}},{key:"start",value:function(){return this._r=new Dy,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(){}}]),e}(),Py=function(){function e(){he(this,e)}return pe(e,[{key:"mr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),Ly=function(){function e(){var t=this;he(this,e),this.gr=function(){return t.yr()},this.pr=function(){return t.Ir()},this.Er=[],this.Tr()}return pe(e,[{key:"mr",value:function(e){this.Er.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.gr),window.removeEventListener("offline",this.pr)}},{key:"Tr",value:function(){window.addEventListener("online",this.gr),window.addEventListener("offline",this.pr)}},{key:"yr",value:function(){Jc("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=fe(this.Er);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Ir",value:function(){Jc("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=fe(this.Er);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"Vt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),My={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Fy=function(){function e(t){he(this,e),this.Ar=t.Ar,this.Rr=t.Rr}return pe(e,[{key:"Pr",value:function(e){this.br=e}},{key:"vr",value:function(e){this.Vr=e}},{key:"onMessage",value:function(e){this.Sr=e}},{key:"close",value:function(){this.Rr()}},{key:"send",value:function(e){this.Ar(e)}},{key:"Dr",value:function(){this.br()}},{key:"Cr",value:function(e){this.Vr(e)}},{key:"Nr",value:function(e){this.Sr(e)}}]),e}(),Uy=function(e){oe(n,e);var t=le(n);function n(e){var r;return he(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return pe(n,[{key:"Br",value:function(e,t,n,r){return new Promise((function(i,a){var o=new Wc;o.listenOnce(jc.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case Uc.NO_ERROR:var t=o.getResponseJson();Jc("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Uc.TIMEOUT:Jc("Connection",'RPC "'+e+'" timed out'),a(new il(rl.DEADLINE_EXCEEDED,"Request time out"));break;case Uc.HTTP_ERROR:var n=o.getStatus();if(Jc("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(rl).indexOf(t)>=0?t:rl.UNKNOWN}(r.status);a(new il(u,r.message))}else a(new il(rl.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new il(rl.UNAVAILABLE,"Connection failed."));break;default:el()}}finally{Jc("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"Ur",value:function(e,t,n){var r=[this.kr,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Mc(),a=Fc(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new qc({})),this.Fr(o.initMessageHeaders,t,n),Te()||Ae()||Ee().indexOf("Electron/")>=0||Ne()||Ee().indexOf("MSAppHost/")>=0||Ce()||(o.httpHeadersOverwriteParam="$httpHeaders");var u=r.join("");Jc("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new Fy({Ar:function(e){l?Jc("Connection","Not sending because WebChannel is closed:",e):(c||(Jc("Connection","Opening WebChannel transport."),s.open(),c=!0),Jc("Connection","WebChannel sending:",e),s.send(e))},Rr:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,zc.EventType.OPEN,(function(){l||Jc("Connection","WebChannel transport opened.")})),h(s,zc.EventType.CLOSE,(function(){l||(l=!0,Jc("Connection","WebChannel transport closed"),f.Cr())})),h(s,zc.EventType.ERROR,(function(e){l||(l=!0,Zc("Connection","WebChannel transport errored:",e),f.Cr(new il(rl.UNAVAILABLE,"The operation could not be completed")))})),h(s,zc.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];tl(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Jc("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=Ih[e];if(void 0!==t)return Dh(t)}(a),u=i.message;void 0===o&&(o=rl.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.Cr(new il(o,u)),s.close()}else Jc("Connection","WebChannel received:",n),f.Nr(n)}})),h(a,Vc.STAT_EVENT,(function(e){e.stat===Bc.PROXY?Jc("Connection","Detected buffering proxy"):e.stat===Bc.NOPROXY&&Jc("Connection","Detected no buffering proxy")})),setTimeout((function(){f.Dr()}),0),f}}]),n}(function(){function e(t){he(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.kr=n+"://"+t.host,this.Or="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return pe(e,[{key:"Mr",value:function(e,t,n,r,i){var a=this.$r(e,t);Jc("RestConnection","Sending: ",a,n);var o={};return this.Fr(o,r,i),this.Br(e,a,o,n).then((function(e){return Jc("RestConnection","Received: ",e),e}),(function(t){throw Zc("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"Lr",value:function(e,t,n,r,i){return this.Mr(e,t,n,r,i)}},{key:"Fr",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Kc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"$r",value:function(e,t){var n=My[e];return"".concat(this.kr,"/v1/").concat(t,":").concat(n)}}]),e}());function jy(){return"undefined"!=typeof window?window:null}function Vy(){return"undefined"!=typeof document?document:null}function By(e){return new id(e,!0)}var qy=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;he(this,e),this.Sn=t,this.timerId=n,this.qr=r,this.Kr=i,this.Gr=a,this.jr=0,this.Qr=null,this.Wr=Date.now(),this.reset()}return pe(e,[{key:"reset",value:function(){this.jr=0}},{key:"zr",value:function(){this.jr=this.Gr}},{key:"Hr",value:function(e){var t=this;this.cancel();var n=Math.floor(this.jr+this.Jr()),r=Math.max(0,Date.now()-this.Wr),i=Math.max(0,n-r);i>0&&Jc("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.jr," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Qr=this.Sn.enqueueAfterDelay(this.timerId,i,(function(){return t.Wr=Date.now(),e()})),this.jr*=this.Kr,this.jr<this.qr&&(this.jr=this.qr),this.jr>this.Gr&&(this.jr=this.Gr)}},{key:"Yr",value:function(){null!==this.Qr&&(this.Qr.skipDelay(),this.Qr=null)}},{key:"cancel",value:function(){null!==this.Qr&&(this.Qr.cancel(),this.Qr=null)}},{key:"Jr",value:function(){return(Math.random()-.5)*this.jr}}]),e}(),zy=function(){function e(t,n,r,i,a,o,u,s){he(this,e),this.Sn=t,this.Xr=r,this.Zr=i,this.eo=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.no=0,this.so=null,this.io=null,this.stream=null,this.ro=new qy(t,n)}return pe(e,[{key:"oo",value:function(){return 1===this.state||5===this.state||this.co()}},{key:"co",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.uo()}},{key:"stop",value:function(){var e=Z(ee().mark((function e(){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.oo(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ao",value:function(){this.state=0,this.ro.reset()}},{key:"ho",value:function(){var e=this;this.co()&&null===this.so&&(this.so=this.Sn.enqueueAfterDelay(this.Xr,6e4,(function(){return e.lo()})))}},{key:"fo",value:function(e){this._o(),this.stream.send(e)}},{key:"lo",value:function(){var e=Z(ee().mark((function e(){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.co()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_o",value:function(){this.so&&(this.so.cancel(),this.so=null)}},{key:"wo",value:function(){this.io&&(this.io.cancel(),this.io=null)}},{key:"close",value:function(){var e=Z(ee().mark((function e(t,n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._o(),this.wo(),this.ro.cancel(),this.no++,4!==t?this.ro.reset():n&&n.code===rl.RESOURCE_EXHAUSTED?(Xc(n.toString()),Xc("Using maximum backoff delay to prevent overloading the backend."),this.ro.zr()):n&&n.code===rl.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.mo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.vr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"mo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.yo(this.no),n=this.no;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=s(t,2),i=r[0],a=r[1];e.no===n&&e.po(i,a)}),(function(n){t((function(){var t=new il(rl.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Io(t)}))}))}},{key:"po",value:function(e,t){var n=this,r=this.yo(this.no);this.stream=this.Eo(e,t),this.stream.Pr((function(){r((function(){return n.state=2,n.io=n.Sn.enqueueAfterDelay(n.Zr,1e4,(function(){return n.co()&&(n.state=3),Promise.resolve()})),n.listener.Pr()}))})),this.stream.vr((function(e){r((function(){return n.Io(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"uo",value:function(){var e=this;this.state=5,this.ro.Hr(Z(ee().mark((function t(){return ee().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Io",value:function(e){return Jc("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"yo",value:function(e){var t=this;return function(n){t.Sn.enqueueAndForget((function(){return t.no===e?n():(Jc("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),Wy=function(e){oe(n,e);var t=le(n);function n(e,r,i,a,o,u){var s;return he(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).O=o,s}return pe(n,[{key:"Eo",value:function(e,t){return this.eo.Ur("Listen",e,t)}},{key:"onMessage",value:function(e){this.ro.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:el()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.N?(tl(void 0===t||"string"==typeof t),Nl.fromBase64String(t||"")):(tl(void 0===t||t instanceof Uint8Array),Nl.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?rl.UNKNOWN:Dh(e.code);return new il(t,e.message||"")}(o);n=new Xh(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=hd(e,s.document.name),l=sd(s.document.updateTime),f=new of({mapValue:{fields:s.document.fields}}),h=sf.newFoundDocument(c,l,f),d=s.targetIds||[],p=s.removedTargetIds||[];n=new Qh(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var y=hd(e,v.document),m=v.readTime?sd(v.readTime):bl.min(),g=sf.newNoDocument(y,m),k=v.removedTargetIds||[];n=new Qh([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var b=hd(e,w.document),_=w.removedTargetIds||[];n=new Qh([],_,b,null)}else{if(!("filter"in t))return el();t.filter;var x=t.filter;x.targetId;var S=x.count||0,I=new Ah(S),E=x.targetId;n=new Jh(E,I)}return n}(this.O,e),n=function(e){if(!("targetChange"in e))return bl.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?bl.min():t.readTime?sd(t.readTime):bl.min()}(e);return this.listener.To(t,n)}},{key:"Ao",value:function(e){var t={};t.database=vd(this.O),t.addTarget=function(e,t){var n,r=t.target;return(n=mf(r)?{documents:_d(e,r)}:{query:xd(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=od(e,t.resumeToken):t.snapshotVersion.compareTo(bl.min())>0&&(n.readTime=ad(e,t.snapshotVersion.toTimestamp())),n}(this.O,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return el()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.O,e);n&&(t.labels=n),this.fo(t)}},{key:"Ro",value:function(e){var t={};t.database=vd(this.O),t.removeTarget=e,this.fo(t)}}]),n}(zy),Gy=function(e){oe(n,e);var t=le(n);function n(e,r,i,a,o,u){var s;return he(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).O=o,s.Po=!1,s}return pe(n,[{key:"bo",get:function(){return this.Po}},{key:"start",value:function(){this.Po=!1,this.lastStreamToken=void 0,re(te(n.prototype),"start",this).call(this)}},{key:"mo",value:function(){this.Po&&this.vo([])}},{key:"Eo",value:function(e,t){return this.eo.Ur("Write",e,t)}},{key:"onMessage",value:function(e){if(tl(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Po){this.ro.reset();var t=function(e,t){return e&&e.length>0?(tl(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?sd(e.updateTime):sd(t);return n.isEqual(bl.min())&&(n=sd(t)),new fh(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=sd(e.commitTime);return this.listener.Vo(n,t)}return tl(!e.writeResults||0===e.writeResults.length),this.Po=!0,this.listener.So()}},{key:"Do",value:function(){var e={};e.database=vd(this.O),this.fo(e)}},{key:"vo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return wd(t.O,e)}))};this.fo(n)}}]),n}(zy),Hy=function(e){oe(n,e);var t=le(n);function n(e,r,i,a){var o;return he(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.eo=i,o.O=a,o.Co=!1,o}return pe(n,[{key:"No",value:function(){if(this.Co)throw new il(rl.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"Mr",value:function(e,t,n){var r=this;return this.No(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=s(i,2),o=a[0],u=a[1];return r.eo.Mr(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===rl.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new il(rl.UNKNOWN,e.toString())}))}},{key:"Lr",value:function(e,t,n){var r=this;return this.No(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=s(i,2),o=a[0],u=a[1];return r.eo.Lr(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===rl.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new il(rl.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.Co=!0}}]),n}(function(){return pe((function e(){he(this,e)}))}()),Ky=function(){function e(t,n){he(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.xo=0,this.ko=null,this.Oo=!0}return pe(e,[{key:"Mo",value:function(){var e=this;0===this.xo&&(this.$o("Unknown"),this.ko=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.ko=null,e.Fo("Backend didn't respond within 10 seconds."),e.$o("Offline"),Promise.resolve()})))}},{key:"Bo",value:function(e){"Online"===this.state?this.$o("Unknown"):(this.xo++,this.xo>=1&&(this.Lo(),this.Fo("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.$o("Offline")))}},{key:"set",value:function(e){this.Lo(),this.xo=0,"Online"===e&&(this.Oo=!1),this.$o(e)}},{key:"$o",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"Fo",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.Oo?(Xc(t),this.Oo=!1):Jc("OnlineStateTracker",t)}},{key:"Lo",value:function(){null!==this.ko&&(this.ko.cancel(),this.ko=null)}}]),e}(),Yy=pe((function e(t,n,r,i,a){var o=this;he(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Uo=[],this.qo=new Map,this.Ko=new Set,this.Go=[],this.jo=a,this.jo.mr((function(e){r.enqueueAndForget(Z(ee().mark((function e(){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=am(o),!e.t0){e.next=5;break}return Jc("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Z(ee().mark((function e(t){var n;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=nl(t)).Ko.add(4),e.next=4,Xy(n);case 4:return n.Qo.set("Unknown"),n.Ko.delete(4),e.next=8,Qy(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.Qo=new Ky(r,i)}));function Qy(e){return Jy.apply(this,arguments)}function Jy(){return Jy=Z(ee().mark((function e(t){var n,r,i;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!am(t)){e.next=18;break}n=fe(t.Go),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),Jy.apply(this,arguments)}function Xy(e){return Zy.apply(this,arguments)}function Zy(){return Zy=Z(ee().mark((function e(t){var n,r,i;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=fe(t.Go),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),Zy.apply(this,arguments)}function $y(e,t){var n=nl(e);n.qo.has(t.targetId)||(n.qo.set(t.targetId,t),im(n)?rm(n):Pm(n).co()&&tm(n,t))}function em(e,t){var n=nl(e),r=Pm(n);n.qo.delete(t),r.co()&&nm(n,t),0===n.qo.size&&(r.co()?r.ho():am(n)&&n.Qo.set("Unknown"))}function tm(e,t){e.Wo.Z(t.targetId),Pm(e).Ao(t)}function nm(e,t){e.Wo.Z(t),Pm(e).Ro(t)}function rm(e){e.Wo=new $h({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Tt:function(t){return e.qo.get(t)||null}}),Pm(e).start(),e.Qo.Mo()}function im(e){return am(e)&&!Pm(e).oo()&&e.qo.size>0}function am(e){return 0===nl(e).Ko.size}function om(e){e.Wo=void 0}function um(e){return sm.apply(this,arguments)}function sm(){return sm=Z(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.qo.forEach((function(e,n){tm(t,e)}));case 1:case"end":return e.stop()}}),e)}))),sm.apply(this,arguments)}function cm(e,t){return lm.apply(this,arguments)}function lm(){return lm=Z(ee().mark((function e(t,n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:om(t),im(t)?(t.Qo.Bo(n),rm(t)):t.Qo.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),lm.apply(this,arguments)}function fm(e,t,n){return hm.apply(this,arguments)}function hm(){return hm=Z(ee().mark((function e(t,n,r){var i;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.Qo.set("Online"),!(n instanceof Xh&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Z(ee().mark((function e(t,n){var r,i,a,o;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=fe(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.qo.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.qo.delete(o),t.Wo.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Jc("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,dm(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Qh?t.Wo.ct(n):n instanceof Jh?t.Wo._t(n):t.Wo.ht(n),r.isEqual(bl.min())){e.next=29;break}return e.prev=14,e.next=17,Xv(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.Wo.yt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.qo.get(r);i&&e.qo.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.qo.get(t);if(n){e.qo.set(t,n.withResumeToken(Nl.EMPTY_BYTE_STRING,n.snapshotVersion)),nm(e,t);var r=new Sp(n.target,t,1,n.sequenceNumber);tm(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Jc("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,dm(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),hm.apply(this,arguments)}function dm(e,t,n){return pm.apply(this,arguments)}function pm(){return pm=Z(ee().mark((function e(t,n,r){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(pp(n)){e.next=2;break}throw n;case 2:return t.Ko.add(1),e.next=5,Xy(t);case 5:t.Qo.set("Offline"),r||(r=function(){return Xv(t.localStore)}),t.asyncQueue.enqueueRetryable(Z(ee().mark((function e(){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Jc("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.Ko.delete(1),e.next=6,Qy(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),pm.apply(this,arguments)}function vm(e,t){return t().catch((function(n){return dm(e,n,t)}))}function ym(e){return mm.apply(this,arguments)}function mm(){return mm=Z(ee().mark((function e(t){var n,r,i,a;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=nl(t),r=Lm(n),i=n.Uo.length>0?n.Uo[n.Uo.length-1].batchId:-1;case 2:if(!gm(n)){e.next=19;break}return e.prev=3,e.next=6,ey(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.Uo.length&&r.ho(),e.abrupt("break",19);case 10:i=a.batchId,km(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,dm(n,e.t0);case 17:e.next=2;break;case 19:wm(n)&&bm(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),mm.apply(this,arguments)}function gm(e){return am(e)&&e.Uo.length<10}function km(e,t){e.Uo.push(t);var n=Lm(e);n.co()&&n.bo&&n.vo(t.mutations)}function wm(e){return am(e)&&!Lm(e).oo()&&e.Uo.length>0}function bm(e){Lm(e).start()}function _m(e){return xm.apply(this,arguments)}function xm(){return xm=Z(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Lm(t).Do();case 1:case"end":return e.stop()}}),e)}))),xm.apply(this,arguments)}function Sm(e){return Im.apply(this,arguments)}function Im(){return Im=Z(ee().mark((function e(t){var n,r,i,a;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Lm(t),r=fe(t.Uo);try{for(r.s();!(i=r.n()).done;)a=i.value,n.vo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),Im.apply(this,arguments)}function Em(e,t,n){return Tm.apply(this,arguments)}function Tm(){return Tm=Z(ee().mark((function e(t,n,r){var i,a;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.Uo.shift(),a=_p.from(i,n,r),e.next=3,vm(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,ym(t);case 5:case"end":return e.stop()}}),e)}))),Tm.apply(this,arguments)}function Cm(e,t){return Am.apply(this,arguments)}function Am(){return Am=Z(ee().mark((function e(t,n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&Lm(t).bo,!e.t0){e.next=4;break}return e.next=4,function(){var e=Z(ee().mark((function e(t,n){var r,i;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Nh(i=n.code)||i===rl.ABORTED){e.next=7;break}return r=t.Uo.shift(),Lm(t).ao(),e.next=5,vm(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,ym(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:wm(t)&&bm(t);case 5:case"end":return e.stop()}}),e)}))),Am.apply(this,arguments)}function Nm(e,t){return Dm.apply(this,arguments)}function Dm(){return Dm=Z(ee().mark((function e(t,n){var r,i;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=nl(t)).asyncQueue.verifyOperationInProgress(),Jc("RemoteStore","RemoteStore received new credentials"),i=am(r),r.Ko.add(3),e.next=6,Xy(r);case 6:return i&&r.Qo.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.Ko.delete(3),e.next=12,Qy(r);case 12:case"end":return e.stop()}}),e)}))),Dm.apply(this,arguments)}function Om(e,t){return Rm.apply(this,arguments)}function Rm(){return Rm=Z(ee().mark((function e(t,n){var r;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=nl(t),!n){e.next=7;break}return r.Ko.delete(2),e.next=5,Qy(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.Ko.add(2),e.next=12,Xy(r);case 12:r.Qo.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),Rm.apply(this,arguments)}function Pm(e){return e.zo||(e.zo=function(e,t,n){var r=nl(e);return r.No(),new Wy(t,r.eo,r.authCredentials,r.appCheckCredentials,r.O,n)}(e.datastore,e.asyncQueue,{Pr:um.bind(null,e),vr:cm.bind(null,e),To:fm.bind(null,e)}),e.Go.push(function(){var t=Z(ee().mark((function t(n){return ee().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.zo.ao(),im(e)?rm(e):e.Qo.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.zo.stop();case 6:om(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.zo}function Lm(e){return e.Ho||(e.Ho=function(e,t,n){var r=nl(e);return r.No(),new Gy(t,r.eo,r.authCredentials,r.appCheckCredentials,r.O,n)}(e.datastore,e.asyncQueue,{Pr:_m.bind(null,e),vr:Cm.bind(null,e),So:Sm.bind(null,e),Vo:Em.bind(null,e)}),e.Go.push(function(){var t=Z(ee().mark((function t(n){return ee().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Ho.ao(),t.next=4,ym(e);case 4:t.next=9;break;case 6:return t.next=8,e.Ho.stop();case 8:e.Uo.length>0&&(Jc("RemoteStore","Stopping write stream with ".concat(e.Uo.length," pending writes")),e.Uo=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Ho}var Mm=function(){function e(t,n,r,i,a){he(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new al,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return pe(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new il(rl.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function Fm(e,t){if(Xc("AsyncQueue","".concat(t,": ").concat(e)),pp(e))return new il(rl.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var Um=function(){function e(t){he(this,e),this.comparator=t?function(e,n){return t(e,n)||zl.comparator(e.key,n.key)}:function(e,t){return zl.comparator(e.key,t.key)},this.keyedMap=Bh(),this.sortedSet=new Oh(this.comparator)}return pe(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),jm=function(){function e(){he(this,e),this.Jo=new Oh(zl.comparator)}return pe(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Jo.get(t);n?0!==e.type&&3===n.type?this.Jo=this.Jo.insert(t,e):3===e.type&&1!==n.type?this.Jo=this.Jo.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Jo=this.Jo.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Jo=this.Jo.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Jo=this.Jo.remove(t):1===e.type&&2===n.type?this.Jo=this.Jo.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Jo=this.Jo.insert(t,{type:2,doc:e.doc}):el():this.Jo=this.Jo.insert(t,e)}},{key:"Yo",value:function(){var e=[];return this.Jo.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),Vm=function(){function e(t,n,r,i,a,o,u,s){he(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s}return pe(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&zf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,Um.emptySet(n),a,r,i,!0,!1)}}]),e}(),Bm=pe((function e(){he(this,e),this.Xo=void 0,this.listeners=[]})),qm=pe((function e(){he(this,e),this.queries=new Cv((function(e){return Wf(e)}),zf),this.onlineState="Unknown",this.Zo=new Set}));function zm(e,t){return Wm.apply(this,arguments)}function Wm(){return Wm=Z(ee().mark((function e(t,n){var r,i,a,o,u;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=nl(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new Bm),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Xo=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=Fm(e.t0,"Initialization of query '".concat(Gf(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.tc(r.onlineState),o.Xo&&n.ec(o.Xo)&&Qm(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),Wm.apply(this,arguments)}function Gm(e,t){return Hm.apply(this,arguments)}function Hm(){return Hm=Z(ee().mark((function e(t,n){var r,i,a,o,u;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=nl(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),Hm.apply(this,arguments)}function Km(e,t){var n,r=nl(e),i=!1,a=fe(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=fe(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.ec(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Xo=o}}}catch(f){a.e(f)}finally{a.f()}i&&Qm(r)}function Ym(e,t,n){var r=nl(e),i=r.queries.get(t);if(i){var a,o=fe(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function Qm(e){e.Zo.forEach((function(e){e.next()}))}var Jm=function(){function e(t,n,r){he(this,e),this.query=t,this.nc=n,this.sc=!1,this.ic=null,this.onlineState="Unknown",this.options=r||{}}return pe(e,[{key:"ec",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=fe(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new Vm(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.sc?this.rc(e)&&(this.nc.next(e),a=!0):this.oc(e,this.onlineState)&&(this.cc(e),a=!0),this.ic=e,a}},{key:"onError",value:function(e){this.nc.error(e)}},{key:"tc",value:function(e){this.onlineState=e;var t=!1;return this.ic&&!this.sc&&this.oc(this.ic,e)&&(this.cc(this.ic),t=!0),t}},{key:"oc",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.uc||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"rc",value:function(e){if(e.docChanges.length>0)return!0;var t=this.ic&&this.ic.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"cc",value:function(e){e=Vm.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.sc=!0,this.nc.next(e)}}]),e}(),Xm=function(){function e(t,n){he(this,e),this.payload=t,this.byteLength=n}return pe(e,[{key:"ac",value:function(){return"metadata"in this.payload}}]),e}(),Zm=function(){function e(t){he(this,e),this.O=t}return pe(e,[{key:"Gs",value:function(e){return hd(this.O,e)}},{key:"js",value:function(e){return e.metadata.exists?gd(this.O,e.document,!1):sf.newNoDocument(this.Gs(e.metadata.name),this.Qs(e.metadata.readTime))}},{key:"Qs",value:function(e){return sd(e)}}]),e}(),$m=function(){function e(t,n,r){he(this,e),this.hc=t,this.localStore=n,this.O=r,this.queries=[],this.documents=[],this.progress=eg(t)}return pe(e,[{key:"lc",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"fc",value:function(e){var t,n=new Map,r=new Zm(this.O),i=fe(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.Gs(a.metadata.name),s=fe(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||Wh()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=Z(ee().mark((function e(){var t,n,r,i,a;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cy(this.localStore,new Zm(this.O),this.documents,this.hc.id);case 2:t=e.sent,n=this.fc(this.documents),r=fe(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,fy(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",new qv(Object.assign({},this.progress),t)));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function eg(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var tg=pe((function e(t){he(this,e),this.key=t})),ng=pe((function e(t){he(this,e),this.key=t})),rg=function(){function e(t,n){he(this,e),this.query=t,this.dc=n,this._c=null,this.current=!1,this.wc=Wh(),this.mutatedKeys=Wh(),this.mc=Kf(t),this.gc=new Um(this.mc)}return pe(e,[{key:"yc",get:function(){return this.dc}},{key:"Ic",value:function(e,t){var n=this,r=t?t.Ec:new jm,i=t?t.gc:this.gc,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s=Lf(this.query)&&i.size===this.query.limit?i.last():null,c=Mf(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Hf(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Tc(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.mc(f,s)>0||c&&n.mc(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),Lf(this.query)||Mf(this.query))for(;o.size>this.query.limit;){var l=Lf(this.query)?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{gc:o,Ec:r,ks:u,mutatedKeys:a}}},{key:"Tc",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.gc;this.gc=e.gc,this.mutatedKeys=e.mutatedKeys;var a=e.Ec.Yo();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return el()}};return n(e)-n(t)}(e.type,t.type)||r.mc(e.doc,t.doc)})),this.Ac(n);var o=t?this.Rc():[],u=0===this.wc.size&&this.current?1:0,s=u!==this._c;return this._c=u,0!==a.length||s?{snapshot:new Vm(this.query,e.gc,i,a,e.mutatedKeys,0===u,s,!1),Pc:o}:{Pc:o}}},{key:"tc",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({gc:this.gc,Ec:new jm,mutatedKeys:this.mutatedKeys,ks:!1},!1)):{Pc:[]}}},{key:"bc",value:function(e){return!this.dc.has(e)&&!!this.gc.has(e)&&!this.gc.get(e).hasLocalMutations}},{key:"Ac",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.dc=t.dc.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.dc=t.dc.delete(e)})),this.current=e.current)}},{key:"Rc",value:function(){var e=this;if(!this.current)return[];var t=this.wc;this.wc=Wh(),this.gc.forEach((function(t){e.bc(t.key)&&(e.wc=e.wc.add(t.key))}));var n=[];return t.forEach((function(t){e.wc.has(t)||n.push(new ng(t))})),this.wc.forEach((function(e){t.has(e)||n.push(new tg(e))})),n}},{key:"vc",value:function(e){this.dc=e.Ks,this.wc=Wh();var t=this.Ic(e.documents);return this.applyChanges(t,!0)}},{key:"Vc",value:function(){return Vm.fromInitialDocuments(this.query,this.gc,this.mutatedKeys,0===this._c)}}]),e}(),ig=pe((function e(t,n,r){he(this,e),this.query=t,this.targetId=n,this.view=r})),ag=pe((function e(t){he(this,e),this.key=t,this.Sc=!1})),og=function(){function e(t,n,r,i,a,o){he(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Dc={},this.Cc=new Cv((function(e){return Wf(e)}),zf),this.Nc=new Map,this.xc=new Set,this.kc=new Oh(zl.comparator),this.Oc=new Map,this.Mc=new vy,this.$c={},this.Fc=new Map,this.Bc=vv.Je(),this.onlineState="Unknown",this.Lc=void 0}return pe(e,[{key:"isPrimaryClient",get:function(){return!0===this.Lc}}]),e}();function ug(e,t){return sg.apply(this,arguments)}function sg(){return sg=Z(ee().mark((function e(t,n){var r,i,a,o,u,s;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=ek(t),!(o=r.Cc.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.Vc(),e.next=15;break;case 6:return e.next=8,ty(r.localStore,Bf(n));case 8:return u=e.sent,r.isPrimaryClient&&$y(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,cg(r,n,i,"current"===s);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),sg.apply(this,arguments)}function cg(e,t,n,r){return lg.apply(this,arguments)}function lg(){return lg=Z(ee().mark((function e(t,n,r,i){var a,o,u,s,c,l;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Uc=function(e,n,r){return function(){var e=Z(ee().mark((function e(t,n,r,i){var a,o,u;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Ic(r),e.t0=a.ks,!e.t0){e.next=6;break}return e.next=5,iy(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Ic(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(Ng(t,n.targetId,u.Pc),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,iy(t.localStore,n,!0);case 3:return a=e.sent,o=new rg(n,a.Ks),u=o.Ic(a.documents),s=Yh.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(u,t.isPrimaryClient,s),Ng(t,r,c.Pc),l=new ig(n,r,o),e.abrupt("return",(t.Cc.set(n,l),t.Nc.has(r)?t.Nc.get(r).push(n):t.Nc.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),lg.apply(this,arguments)}function fg(e,t){return hg.apply(this,arguments)}function hg(){return hg=Z(ee().mark((function e(t,n){var r,i,a;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=nl(t),i=r.Cc.get(n),!((a=r.Nc.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.Nc.set(i.targetId,a.filter((function(e){return!zf(e,n)}))),void r.Cc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,ny(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),em(r.remoteStore,i.targetId),Cg(r,i.targetId)})).catch(wv);case 9:e.next=14;break;case 11:return Cg(r,i.targetId),e.next=14,ny(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),hg.apply(this,arguments)}function dg(e,t,n){return pg.apply(this,arguments)}function pg(){return pg=Z(ee().mark((function e(t,n,r){var i,a,o;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=tk(t),e.prev=1,e.next=4,function(e,t){var n,r=nl(e),i=wl.now(),a=t.reduce((function(e,t){return e.add(t.key)}),Wh());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.Us.Es(e,a).next((function(a){n=a;var o,u=[],s=fe(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=mh(c,n.get(c.key));null!=l&&u.push(new bh(c.key,l,uf(l.value.mapValue),hh.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return r.gs.addMutationBatch(e,i,u,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.$c[e.currentUser.toKey()];r||(r=new Oh(ml)),r=r.insert(t,n),e.$c[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,Rg(i,a.changes);case 9:return e.next=11,ym(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=Fm(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),pg.apply(this,arguments)}function vg(e,t){return yg.apply(this,arguments)}function yg(){return yg=Z(ee().mark((function e(t,n){var r,i;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=nl(t),e.prev=1,e.next=4,Zv(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.Oc.get(t);n&&(tl(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Sc=!0:e.modifiedDocuments.size>0?tl(n.Sc):e.removedDocuments.size>0&&(tl(n.Sc),n.Sc=!1))})),e.next=8,Rg(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,wv(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),yg.apply(this,arguments)}function mg(e,t,n){var r=nl(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Cc.forEach((function(e,n){var r=n.view.tc(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=nl(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=fe(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.tc(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&Qm(n)}(r.eventManager,t),i.length&&r.Dc.To(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function gg(e,t,n){return kg.apply(this,arguments)}function kg(){return kg=Z(ee().mark((function e(t,n,r){var i,a,o,u,s,c;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=nl(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.Oc.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new Oh(zl.comparator)).insert(o,sf.newNoDocument(o,bl.min())),s=Wh().add(o),c=new Kh(bl.min(),new Map,new Lh(ml),u,s),e.next=9,vg(i,c);case 9:i.kc=i.kc.remove(o),i.Oc.delete(n),Og(i),e.next=16;break;case 14:return e.next=16,ny(i.localStore,n,!1).then((function(){return Cg(i,n,r)})).catch(wv);case 16:case"end":return e.stop()}}),e)}))),kg.apply(this,arguments)}function wg(e,t){return bg.apply(this,arguments)}function bg(){return bg=Z(ee().mark((function e(t,n){var r,i,a;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=nl(t),i=n.batch.batchId,e.prev=1,e.next=4,Jv(r.localStore,n);case 4:return a=e.sent,Tg(r,i,null),Eg(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,Rg(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,wv(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),bg.apply(this,arguments)}function _g(e,t,n){return xg.apply(this,arguments)}function xg(){return xg=Z(ee().mark((function e(t,n,r){var i,a;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=nl(t),e.prev=1,e.next=4,function(e,t){var n=nl(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.gs.lookupMutationBatch(e,t).next((function(t){return tl(null!==t),r=t.keys(),n.gs.removeMutationBatch(e,t)})).next((function(){return n.gs.performConsistencyCheck(e)})).next((function(){return n.Us.Es(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,Tg(i,n,r),Eg(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,Rg(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,wv(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),xg.apply(this,arguments)}function Sg(e,t){return Ig.apply(this,arguments)}function Ig(){return Ig=Z(ee().mark((function e(t,n){var r,i,a,o;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return am((r=nl(t)).remoteStore)||Jc("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=nl(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.gs.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.Fc.get(i)||[]).push(n),r.Fc.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=Fm(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),Ig.apply(this,arguments)}function Eg(e,t){(e.Fc.get(t)||[]).forEach((function(e){e.resolve()})),e.Fc.delete(t)}function Tg(e,t,n){var r=nl(e),i=r.$c[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.$c[r.currentUser.toKey()]=i}}function Cg(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=fe(e.Nc.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.Cc.delete(a),n&&e.Dc.qc(a,n)}}catch(o){i.e(o)}finally{i.f()}e.Nc.delete(t),e.isPrimaryClient&&e.Mc.si(t).forEach((function(t){e.Mc.containsKey(t)||Ag(e,t)}))}function Ag(e,t){e.xc.delete(t.path.canonicalString());var n=e.kc.get(t);null!==n&&(em(e.remoteStore,n),e.kc=e.kc.remove(t),e.Oc.delete(n),Og(e))}function Ng(e,t,n){var r,i=fe(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof tg?(e.Mc.addReference(a.key,t),Dg(e,a)):a instanceof ng?(Jc("SyncEngine","Document no longer in limbo: "+a.key),e.Mc.removeReference(a.key,t),e.Mc.containsKey(a.key)||Ag(e,a.key)):el()}}catch(o){i.e(o)}finally{i.f()}}function Dg(e,t){var n=t.key,r=n.path.canonicalString();e.kc.get(n)||e.xc.has(r)||(Jc("SyncEngine","New document in limbo: "+n),e.xc.add(r),Og(e))}function Og(e){for(;e.xc.size>0&&e.kc.size<e.maxConcurrentLimboResolutions;){var t=e.xc.values().next().value;e.xc.delete(t);var n=new zl(El.fromString(t)),r=e.Bc.next();e.Oc.set(r,new ag(n)),e.kc=e.kc.insert(n,r),$y(e.remoteStore,new Sp(Bf(Pf(n.path)),r,2,pl.A))}}function Rg(e,t,n){return Pg.apply(this,arguments)}function Pg(){return Pg=Z(ee().mark((function e(t,n,r){var i,a,o,u;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=nl(t),a=[],o=[],u=[],e.t0=i.Cc.isEmpty(),e.t0){e.next=9;break}return i.Cc.forEach((function(e,t){u.push(i.Uc(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=Wv.Ss(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.Dc.To(a),e.next=9,function(){var e=Z(ee().mark((function e(t,n){var r,i,a,o,u,s,c,l;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=nl(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return cp.forEach(n,(function(t){return cp.forEach(t.vs,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return cp.forEach(t.Vs,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),pp(e.t0)){e.next=10;break}throw e.t0;case 10:Jc("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=fe(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.Ms.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.Ms=r.Ms.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),Pg.apply(this,arguments)}function Lg(e,t){return Mg.apply(this,arguments)}function Mg(){return Mg=Z(ee().mark((function e(t,n){var r,i;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=nl(t)).currentUser.isEqual(n)){e.next=11;break}return Jc("SyncEngine","User change. New user:",n.toKey()),e.next=5,Yv(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.Fc.forEach((function(e){e.forEach((function(e){e.reject(new il(rl.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Fc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,Rg(r,i.qs);case 11:case"end":return e.stop()}}),e)}))),Mg.apply(this,arguments)}function Fg(e,t){var n=nl(e),r=n.Oc.get(t);if(r&&r.Sc)return Wh().add(r.key);var i=Wh(),a=n.Nc.get(t);if(!a)return i;var o,u=fe(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.Cc.get(s);i=i.unionWith(c.view.yc)}}catch(l){u.e(l)}finally{u.f()}return i}function Ug(e,t){return jg.apply(this,arguments)}function jg(){return jg=Z(ee().mark((function e(t,n){var r,i,a;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=nl(t),e.next=3,iy(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.vc(i),e.abrupt("return",(r.isPrimaryClient&&Ng(r,n.targetId,a.Pc),a));case 6:case"end":return e.stop()}}),e)}))),jg.apply(this,arguments)}function Vg(e){return Bg.apply(this,arguments)}function Bg(){return Bg=Z(ee().mark((function e(t){var n;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=nl(t),e.abrupt("return",oy(n.localStore).then((function(e){return Rg(n,e)})));case 2:case"end":return e.stop()}}),e)}))),Bg.apply(this,arguments)}function qg(e,t,n,r){return zg.apply(this,arguments)}function zg(){return zg=Z(ee().mark((function e(t,n,r,i){var a,o;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=nl(t),e.next=3,function(e,t){var n=nl(e),r=nl(n.gs);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Ge(e,t).next((function(t){return t?n.Us.Es(e,t):cp.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,ym(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(Tg(a,n,i||null),Eg(a,n),function(e,t){nl(nl(e).gs).Qe(t)}(a.localStore,n)):el();case 11:return e.next=13,Rg(a,o);case 13:e.next=16;break;case 15:Jc("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),zg.apply(this,arguments)}function Wg(e,t){return Gg.apply(this,arguments)}function Gg(){return Gg=Z(ee().mark((function e(t,n){var r,i,a,o,u,s,c,l;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ek(r=nl(t)),tk(r),!0!==n||!0===r.Lc){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,Hg(r,i.toArray());case 5:return a=e.sent,r.Lc=!0,e.next=9,Om(r.remoteStore,!0);case 9:o=fe(a);try{for(o.s();!(u=o.n()).done;)s=u.value,$y(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.Lc){e.next=25;break}return c=[],l=Promise.resolve(),r.Nc.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return Cg(r,t),ny(r.localStore,t,!0)})),em(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,Hg(r,c);case 21:return function(e){var t=nl(e);t.Oc.forEach((function(e,n){em(t.remoteStore,n)})),t.Mc.ii(),t.Oc=new Map,t.kc=new Oh(zl.comparator)}(r),r.Lc=!1,e.next=25,Om(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),Gg.apply(this,arguments)}function Hg(e,t,n){return Kg.apply(this,arguments)}function Kg(){return Kg=Z(ee().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v,y,m;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=nl(t),a=[],o=[],u=fe(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.Nc.get(c))||0===f.length){e.next=34;break}return e.next=11,ty(i.localStore,Bf(f[0]));case 11:l=e.sent,h=fe(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.Cc.get(p),e.next=20,Ug(i,v);case 20:(y=e.sent).snapshot&&o.push(y.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,ay(i.localStore,c);case 36:return m=e.sent,e.next=39,ty(i.localStore,m);case 39:return l=e.sent,e.next=42,cg(i,Yg(m),c,!1);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.Dc.To(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),Kg.apply(this,arguments)}function Yg(e){return Rf(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Qg(e){var t=nl(e);return nl(nl(t.localStore).persistence).ds()}function Jg(e,t,n,r){return Xg.apply(this,arguments)}function Xg(){return Xg=Z(ee().mark((function e(t,n,r,i){var a,o,u;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=nl(t)).Lc){e.next=5;break}Jc("SyncEngine","Ignoring unexpected query state notification."),e.next=21;break;case 5:if(!a.Nc.has(n)){e.next=21;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?9:"rejected"===e.t0?16:20;break;case 9:return e.next=11,oy(a.localStore);case 11:return o=e.sent,u=Kh.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=15,Rg(a,o,u);case 15:return e.abrupt("break",21);case 16:return e.next=18,ny(a.localStore,n,!0);case 18:return Cg(a,n,i),e.abrupt("break",21);case 20:el();case 21:case"end":return e.stop()}}),e)}))),Xg.apply(this,arguments)}function Zg(e,t,n){return $g.apply(this,arguments)}function $g(){return $g=Z(ee().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=ek(t)).Lc){e.next=45;break}a=fe(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.Nc.has(u)){e.next=10;break}return Jc("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,ay(i.localStore,u);case 12:return s=e.sent,e.next=15,ty(i.localStore,s);case 15:return c=e.sent,e.next=18,cg(i,Yg(s),c.targetId,!1);case 18:$y(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=fe(r),e.prev=30,h=ee().mark((function e(){var t;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.Nc.has(t),!e.t0){e.next=5;break}return e.next=5,ny(i.localStore,t,!1).then((function(){em(i.remoteStore,t),Cg(i,t)})).catch(wv);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),$g.apply(this,arguments)}function ek(e){var t=nl(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=vg.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Fg.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=gg.bind(null,t),t.Dc.To=Km.bind(null,t.eventManager),t.Dc.qc=Ym.bind(null,t.eventManager),t}function tk(e){var t=nl(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=wg.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=_g.bind(null,t),t}function nk(e,t,n){var r=nl(e);(function(){var e=Z(ee().mark((function e(t,n,r){var i,a,o,u,s;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=nl(e),r=sd(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Kn.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=10;break}return e.next=9,n.close();case 9:return e.abrupt("return",void r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)));case 10:return r._updateProgress(eg(i)),a=new $m(i,t.localStore,n.O),e.next=14,n.Kc();case 14:o=e.sent;case 15:if(!o){e.next=25;break}return e.next=18,a.lc(o);case 18:return(u=e.sent)&&r._updateProgress(u),e.next=22,n.Kc();case 22:o=e.sent;case 23:e.next=15;break;case 25:return e.next=27,a.complete();case 27:return s=e.sent,e.next=30,Rg(t,s.ws,void 0);case 30:return e.next=32,function(e,t){var n=nl(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Kn.saveBundleMetadata(e,t)}))}(t.localStore,i);case 32:r._completeWith(s.progress),e.next=38;break;case 35:e.prev=35,e.t0=e.catch(0),Zc("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0);case 38:case"end":return e.stop()}}),e,null,[[0,35]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(){r.sharedClientState.notifyBundleLoaded()}))}var rk=function(){function e(){he(this,e),this.synchronizeTabs=!1}return pe(e,[{key:"initialize",value:function(){var e=Z(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.O=By(t.databaseInfo.databaseId),this.sharedClientState=this.Gc(t),this.persistence=this.jc(t),e.next=5,this.persistence.start();case 5:this.gcScheduler=this.Qc(t),this.localStore=this.Wc(t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Qc",value:function(e){return null}},{key:"Wc",value:function(e){return Kv(this.persistence,new Gv,e.initialUser,this.O)}},{key:"jc",value:function(e){return new by(xy.bi,this.O)}},{key:"Gc",value:function(e){return new Ry}},{key:"terminate",value:function(){var e=Z(ee().mark((function e(){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),ik=function(e){oe(n,e);var t=le(n);function n(e,r,i){var a;return he(this,n),(a=t.call(this)).zc=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return pe(n,[{key:"initialize",value:function(){var e=Z(ee().mark((function e(t){var r=this;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re(te(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,uy(this.localStore);case 4:return e.next=6,this.zc.initialize(this,t);case 6:return e.next=8,tk(this.zc.syncEngine);case 8:return e.next=10,ym(this.zc.remoteStore);case 10:return e.next=12,this.persistence.Hn((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()}));case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Wc",value:function(e){return Kv(this.persistence,new Gv,e.initialUser,this.O)}},{key:"Qc",value:function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new Sv(t,e.asyncQueue)}},{key:"jc",value:function(e){var t=Bv(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?uv.withCacheSize(this.cacheSizeBytes):uv.DEFAULT;return new Uv(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,jy(),Vy(),this.O,this.sharedClientState,!!this.forceOwnership)}},{key:"Gc",value:function(e){return new Ry}}]),n}(rk),ak=function(e){oe(n,e);var t=le(n);function n(e,r){var i;return he(this,n),(i=t.call(this,e,r,!1)).zc=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return pe(n,[{key:"initialize",value:function(){var e=Z(ee().mark((function e(t){var r,i=this;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re(te(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.zc.syncEngine,e.t0=this.sharedClientState instanceof Oy,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={hr:qg.bind(null,r),lr:Jg.bind(null,r),dr:Zg.bind(null,r),ds:Qg.bind(null,r),ar:Vg.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.Hn(function(){var e=Z(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wg(i.zc.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):t||i.gcScheduler.stop());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Gc",value:function(e){var t=jy();if(!Oy.Vt(t))throw new il(rl.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Bv(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Oy(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(ik),ok=function(){function e(){he(this,e)}return pe(e,[{key:"initialize",value:function(){var e=Z(ee().mark((function e(t,n){var r=this;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return mg(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Lg.bind(null,this.syncEngine),e.next=12,Om(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new qm}},{key:"createDatastore",value:function(e){var t,n=By(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new Uy(t));return function(e,t,n,r){return new Hy(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return mg(o.syncEngine,e,0)},a=Ly.Vt()?new Ly:new Py,new Yy(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new og(e,t,n,r,i,a);return o&&(u.Lc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Z(ee().mark((function e(t){var n;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=nl(t),Jc("RemoteStore","RemoteStore shutting down."),n.Ko.add(5),e.next=5,Xy(n);case 5:n.jo.shutdown(),n.Qo.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function uk(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return Z(ee().mark((function r(){var i;return ee().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return Z(ee().mark((function e(){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var sk=function(){function e(t){he(this,e),this.observer=t,this.muted=!1}return pe(e,[{key:"next",value:function(e){this.observer.next&&this.Hc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Hc(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"Jc",value:function(){this.muted=!0}},{key:"Hc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),ck=function(){function e(t,n){var r=this;he(this,e),this.Yc=t,this.O=n,this.metadata=new al,this.buffer=new Uint8Array,this.Xc=new TextDecoder("utf-8"),this.Zc().then((function(e){e&&e.ac()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return pe(e,[{key:"close",value:function(){return this.Yc.cancel()}},{key:"getMetadata",value:function(){var e=Z(ee().mark((function e(){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Kc",value:function(){var e=Z(ee().mark((function e(){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Zc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Zc",value:function(){var e=Z(ee().mark((function e(){var t,n,r,i;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.tu();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.Xc.decode(t),r=Number(n),isNaN(r)&&this.eu("length string (".concat(n,") is not valid number")),e.next=9,this.nu(r);case 9:return i=e.sent,e.abrupt("return",new Xm(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"su",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"tu",value:function(){var e=Z(ee().mark((function e(){var t,n;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.su()<0)){e.next=7;break}return e.next=3,this.iu();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.su())<0&&this.eu("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"nu",value:function(){var e=Z(ee().mark((function e(t){var n;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.iu();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.eu("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.Xc.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"eu",value:function(e){throw this.Yc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"iu",value:function(){var e=Z(ee().mark((function e(){var t,n;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Yc.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),lk=function(){function e(t){he(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return pe(e,[{key:"lookup",value:function(){var e=Z(ee().mark((function e(t){var n,r=this;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new il(rl.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=Z(ee().mark((function e(t,n){var r,i,a,o,u,s;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=nl(t),i=vd(r.O)+"/documents",a={documents:n.map((function(e){return fd(r.O,e)}))},e.next=5,r.Lr("BatchGetDocuments",i,a);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=kd(r.O,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());tl(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new Th(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=Z(ee().mark((function e(){var t,n=this;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=zl.fromPath(t);n.mutations.push(new Ch(r,n.precondition(r)))})),e.next=7,function(){var e=Z(ee().mark((function e(t,n){var r,i,a;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=nl(t),i=vd(r.O)+"/documents",a={writes:n.map((function(e){return wd(r.O,e)}))},e.next=3,r.Mr("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw el();t=bl.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new il(rl.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?hh.updateTime(t):hh.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(bl.min()))throw new il(rl.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return hh.updateTime(t)}return hh.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),fk=function(){function e(t,n,r,i){he(this,e),this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=i,this.ru=5,this.ro=new qy(this.asyncQueue,"transaction_retry")}return pe(e,[{key:"run",value:function(){this.ru-=1,this.ou()}},{key:"ou",value:function(){var e=this;this.ro.Hr(Z(ee().mark((function t(){var n,r;return ee().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new lk(e.datastore),(r=e.cu(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.uu(t)}))}))})).catch((function(t){e.uu(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"cu",value:function(e){try{var t=this.updateFunction(e);return!Vl(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"uu",value:function(e){var t=this;this.ru>0&&this.au(e)?(this.ru-=1,this.asyncQueue.enqueueAndForget((function(){return t.ou(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"au",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!Nh(t)}return!1}}]),e}(),hk=function(){function e(t,n,r,i){var a=this;he(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Hc.UNAUTHENTICATED,this.clientId=yl.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Z(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Jc("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Jc("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return pe(e,[{key:"getConfiguration",value:function(){var e=Z(ee().mark((function e(){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new il(rl.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new al;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Z(ee().mark((function n(){var r;return ee().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=Fm(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function dk(e,t){return pk.apply(this,arguments)}function pk(){return pk=Z(ee().mark((function e(t,n){var r,i;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Jc("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Z(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,Yv(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),pk.apply(this,arguments)}function vk(e,t){return yk.apply(this,arguments)}function yk(){return yk=Z(ee().mark((function e(t,n){var r,i;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,mk(t);case 3:return r=e.sent,Jc("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return Nm(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return Nm(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),yk.apply(this,arguments)}function mk(e){return gk.apply(this,arguments)}function gk(){return gk=Z(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return Jc("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,dk(t,new rk);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),gk.apply(this,arguments)}function kk(e){return wk.apply(this,arguments)}function wk(){return wk=Z(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return Jc("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,vk(t,new ok);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),wk.apply(this,arguments)}function bk(e){return mk(e).then((function(e){return e.persistence}))}function _k(e){return mk(e).then((function(e){return e.localStore}))}function xk(e){return kk(e).then((function(e){return e.remoteStore}))}function Sk(e){return kk(e).then((function(e){return e.syncEngine}))}function Ik(e){return Ek.apply(this,arguments)}function Ek(){return Ek=Z(ee().mark((function e(t){var n,r;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kk(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=ug.bind(null,n.syncEngine),r.onUnlisten=fg.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),Ek.apply(this,arguments)}function Tk(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new al;return e.asyncQueue.enqueueAndForget(Z(ee().mark((function i(){return ee().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new sk({next:function(a){t.enqueueAndForget((function(){return Gm(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new il(rl.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new il(rl.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new Jm(Pf(n.path),a,{includeMetadataChanges:!0,uc:!0});return zm(e,o)},i.next=3,Ik(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function Ck(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new al;return e.asyncQueue.enqueueAndForget(Z(ee().mark((function i(){return ee().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new sk({next:function(n){t.enqueueAndForget((function(){return Gm(e,o)})),n.fromCache&&"server"===r.source?i.reject(new il(rl.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new Jm(n,a,{includeMetadataChanges:!0,uc:!0});return zm(e,o)},i.next=3,Ik(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var Ak=new Map;function Nk(e,t,n){if(!n)throw new il(rl.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Dk(e,t,n,r){if(!0===t&&!0===r)throw new il(rl.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function Ok(e){if(!zl.isDocumentKey(e))throw new il(rl.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Rk(e){if(zl.isDocumentKey(e))throw new il(rl.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Pk(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":el()}function Lk(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new il(rl.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Pk(e);throw new il(rl.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function Mk(e,t){if(t<=0)throw new il(rl.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var Fk=function(){function e(t){var n;if(he(this,e),void 0===t.host){if(void 0!==t.ssl)throw new il(rl.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new il(rl.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,Dk("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return pe(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),Uk=function(){function e(t,n,r){he(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Fk({}),this._settingsFrozen=!1,t instanceof jl?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new il(rl.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jl(e.options.projectId)}(t))}return pe(e,[{key:"app",get:function(){if(!this._app)throw new il(rl.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new il(rl.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Fk(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new ul;switch(e.type){case"gapi":var t=e.client;return tl(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new fl(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new il(rl.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=Ak.get(e);t&&(Jc("ComponentProvider","Removing Datastore"),Ak.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function jk(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=Lk(e,Uk))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&Zc("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=Hc.MOCK_USER;else{o=Ie(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new il(rl.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Hc(s)}e._authCredentials=new sl(new ol(o,u))}}var Vk=function(){function e(t,n,r){he(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return pe(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new qk(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),Bk=function(){function e(t,n,r){he(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return pe(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),qk=function(e){oe(n,e);var t=le(n);function n(e,r,i){var a;return he(this,n),(a=t.call(this,e,r,Pf(i)))._path=i,a.type="collection",a}return pe(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new Vk(this.firestore,null,new zl(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(Bk);function zk(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Ge(e),Nk("collection","path",t),e instanceof Uk){var a=El.fromString.apply(El,[t].concat(r));return Rk(a),new qk(e,null,a)}if(!(e instanceof Vk||e instanceof qk))throw new il(rl.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(El.fromString.apply(El,[t].concat(r)));return Rk(o),new qk(e.firestore,null,o)}function Wk(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Ge(e),1===arguments.length&&(t=yl.R()),Nk("doc","path",t),e instanceof Uk){var a=El.fromString.apply(El,[t].concat(r));return Ok(a),new Vk(e,null,new zl(a))}if(!(e instanceof Vk||e instanceof qk))throw new il(rl.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(El.fromString.apply(El,[t].concat(r)));return Ok(o),new Vk(e.firestore,e instanceof qk?e.converter:null,new zl(o))}function Gk(e,t){return e=Ge(e),t=Ge(t),(e instanceof Vk||e instanceof qk)&&(t instanceof Vk||t instanceof qk)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Hk(e,t){return e=Ge(e),t=Ge(t),e instanceof Bk&&t instanceof Bk&&e.firestore===t.firestore&&zf(e._query,t._query)&&e.converter===t.converter}var Kk=function(){function e(){var t=this;he(this,e),this.hu=Promise.resolve(),this.lu=[],this.fu=!1,this.du=[],this._u=null,this.wu=!1,this.mu=!1,this.gu=[],this.ro=new qy(this,"async_queue_retry"),this.yu=function(){var e=Vy();e&&Jc("AsyncQueue","Visibility state changed to "+e.visibilityState),t.ro.Yr()};var n=Vy();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.yu)}return pe(e,[{key:"isShuttingDown",get:function(){return this.fu}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.pu(),this.Iu(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.fu){this.fu=!0,this.mu=e||!1;var t=Vy();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.yu)}}},{key:"enqueue",value:function(e){var t=this;if(this.pu(),this.fu)return new Promise((function(){}));var n=new al;return this.Iu((function(){return t.fu&&t.mu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.lu.push(e),t.Eu()}))}},{key:"Eu",value:function(){var e=Z(ee().mark((function e(){var t=this;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.lu.length){e.next=14;break}return e.prev=1,e.next=4,this.lu[0]();case 4:this.lu.shift(),this.ro.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),pp(e.t0)){e.next=12;break}throw e.t0;case 12:Jc("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.lu.length>0&&this.ro.Hr((function(){return t.Eu()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Iu",value:function(e){var t=this,n=this.hu.then((function(){return t.wu=!0,e().catch((function(e){t._u=e,t.wu=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Xc("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.wu=!1,e}))}));return this.hu=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.pu(),this.gu.indexOf(e)>-1&&(t=0);var i=Mm.createAndSchedule(this,e,t,n,(function(e){return r.Tu(e)}));return this.du.push(i),i}},{key:"pu",value:function(){this._u&&el()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Au",value:function(){var e=Z(ee().mark((function e(){var t;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.hu,e.next=3,t;case 3:if(t!==this.hu){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ru",value:function(e){var t,n=fe(this.du);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Pu",value:function(e){var t=this;return this.Au().then((function(){t.du.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=fe(t.du);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Au()}))}},{key:"bu",value:function(e){this.gu.push(e)}},{key:"Tu",value:function(e){var t=this.du.indexOf(e);this.du.splice(t,1)}}]),e}();function Yk(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=fe(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var Qk=function(){function e(){he(this,e),this._progressObserver={},this._taskCompletionResolver=new al,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return pe(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),Jk=function(e){oe(n,e);var t=le(n);function n(e,r,i){var a;return he(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new Kk,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return pe(n,[{key:"_terminate",value:function(){return this._firestoreClient||$k(this),this._firestoreClient.terminate()}}]),n}(Uk);function Xk(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et();return mt(e,"firestore").getImmediate()}function Zk(e){return e._firestoreClient||$k(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function $k(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Ul(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new hk(e._authCredentials,e._appCheckCredentials,e._queue,r)}function ew(e,t,n){var r=new al;return e.asyncQueue.enqueue(Z(ee().mark((function i(){return ee().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,dk(e,n);case 3:return i.next=5,vk(e,t);case 5:r.resolve(),i.next=13;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===rl.FAILED_PRECONDITION||e.code===rl.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(i.t0)){i.next=12;break}throw i.t0;case 12:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i.t0),r.reject(i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function tw(e){return function(e){return e.asyncQueue.enqueue(Z(ee().mark((function t(){var n,r;return ee().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,bk(e);case 2:return n=t.sent,t.next=5,xk(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=nl(e);return t.Ko.delete(0),Qy(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(Zk(e=Lk(e,Jk)))}function nw(e){return function(e){return e.asyncQueue.enqueue(Z(ee().mark((function t(){var n,r;return ee().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,bk(e);case 2:return n=t.sent,t.next=5,xk(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=Z(ee().mark((function e(t){var n;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=nl(t)).Ko.add(0),e.next=4,Xy(n);case 4:n.Qo.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(Zk(e=Lk(e,Jk)))}function rw(e,t){var n=Zk(e=Lk(e,Jk)),r=new Qk;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new ck(e,t)}(function(e,t){if(e instanceof Uint8Array)return uk(e,t);if(e instanceof ArrayBuffer)return uk(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,By(t));e.asyncQueue.enqueueAndForget(Z(ee().mark((function t(){return ee().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=nk,t.next=3,Sk(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function iw(e,t){return function(e,t){return e.asyncQueue.enqueue(Z(ee().mark((function n(){return ee().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=nl(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Kn.getNamedQuery(e,t)}))},n.next=3,_k(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(Zk(e=Lk(e,Jk)),t).then((function(t){return t?new Bk(e,null,t.query):null}))}function aw(e){if(e._initialized||e._terminated)throw new il(rl.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var ow=function(){function e(){he(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new il(rl.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Cl(n)}return pe(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var uw=function(){function e(t){he(this,e),this._byteString=t}return pe(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Nl.fromBase64String(t))}catch(t){throw new il(rl.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Nl.fromUint8Array(t))}}]),e}(),sw=pe((function e(t){he(this,e),this._methodName=t})),cw=function(){function e(t,n){if(he(this,e),!isFinite(t)||t<-90||t>90)throw new il(rl.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new il(rl.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return pe(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return ml(this._lat,e._lat)||ml(this._long,e._long)}}]),e}(),lw=/^__.*__$/,fw=function(){function e(t,n,r){he(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return pe(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new bh(e,this.data,this.fieldMask,t,this.fieldTransforms):new wh(e,this.data,t,this.fieldTransforms)}}]),e}(),hw=function(){function e(t,n,r){he(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return pe(e,[{key:"toMutation",value:function(e,t){return new bh(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function dw(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw el()}}var pw=function(){function e(t,n,r,i,a,o){he(this,e),this.settings=t,this.databaseId=n,this.O=r,this.ignoreUndefinedProperties=i,void 0===a&&this.vu(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return pe(e,[{key:"path",get:function(){return this.settings.path}},{key:"Vu",get:function(){return this.settings.Vu}},{key:"Su",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.O,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Du",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Su({path:n,Cu:!1});return r.Nu(e),r}},{key:"xu",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Su({path:n,Cu:!1});return r.vu(),r}},{key:"ku",value:function(e){return this.Su({path:void 0,Cu:!0})}},{key:"Ou",value:function(e){return Pw(e,this.settings.methodName,this.settings.Mu||!1,this.path,this.settings.$u)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"vu",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Nu(this.path.get(e))}},{key:"Nu",value:function(e){if(0===e.length)throw this.Ou("Document fields must not be empty");if(dw(this.Vu)&&lw.test(e))throw this.Ou('Document fields cannot begin and end with "__"')}}]),e}(),vw=function(){function e(t,n,r){he(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.O=r||By(t)}return pe(e,[{key:"Fu",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new pw({Vu:e,methodName:t,$u:n,path:Cl.emptyPath(),Cu:!1,Mu:r},this.databaseId,this.O,this.ignoreUndefinedProperties)}}]),e}();function yw(e){var t=e._freezeSettings(),n=By(e._databaseId);return new vw(e._databaseId,!!t.ignoreUndefinedProperties,n)}function mw(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.Fu(a.merge||a.mergeFields?2:0,t,n,i);Nw("Data must be an object, but it was:",o,r);var u,s,c=Cw(r,o);if(a.merge)u=new Al(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=fe(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=Dw(t,d,n);if(!o.contains(p))throw new il(rl.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));Lw(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}u=new Al(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new fw(new of(c),u,s)}var gw=function(e){oe(n,e);var t=le(n);function n(){return he(this,n),t.apply(this,arguments)}return pe(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.Vu)throw 1===e.Vu?e.Ou("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Ou("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(sw);function kw(e,t,n){return new pw({Vu:3,$u:t.settings.$u,methodName:e._methodName,Cu:n},t.databaseId,t.O,t.ignoreUndefinedProperties)}var ww=function(e){oe(n,e);var t=le(n);function n(){return he(this,n),t.apply(this,arguments)}return pe(n,[{key:"_toFieldTransform",value:function(e){return new lh(e.path,new nh)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(sw),bw=function(e){oe(n,e);var t=le(n);function n(e,r){var i;return he(this,n),(i=t.call(this,e)).Bu=r,i}return pe(n,[{key:"_toFieldTransform",value:function(e){var t=kw(this,e,!0),n=this.Bu.map((function(e){return Tw(e,t)})),r=new rh(n);return new lh(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(sw),_w=function(e){oe(n,e);var t=le(n);function n(e,r){var i;return he(this,n),(i=t.call(this,e)).Bu=r,i}return pe(n,[{key:"_toFieldTransform",value:function(e){var t=kw(this,e,!0),n=this.Bu.map((function(e){return Tw(e,t)})),r=new ah(n);return new lh(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(sw),xw=function(e){oe(n,e);var t=le(n);function n(e,r){var i;return he(this,n),(i=t.call(this,e)).Lu=r,i}return pe(n,[{key:"_toFieldTransform",value:function(e){var t=new uh(e.O,Xf(e.O,this.Lu));return new lh(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(sw);function Sw(e,t,n,r){var i=e.Fu(1,t,n);Nw("Data must be an object, but it was:",i,r);var a=[],o=of.empty();xl(r,(function(e,r){var u=Rw(t,e,n);r=Ge(r);var s=i.xu(u);if(r instanceof gw)a.push(u);else{var c=Tw(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new Al(a);return new hw(o,u,i.fieldTransforms)}function Iw(e,t,n,r,i,a){var o=e.Fu(1,t,n),u=[Dw(t,r,n)],s=[i];if(a.length%2!=0)throw new il(rl.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(Dw(t,a[c])),s.push(a[c+1]);for(var l=[],f=of.empty(),h=u.length-1;h>=0;--h)if(!Lw(l,u[h])){var d=u[h],p=s[h];p=Ge(p);var v=o.xu(d);if(p instanceof gw)l.push(d);else{var y=Tw(p,v);null!=y&&(l.push(d),f.set(d,y))}}var m=new Al(l);return new hw(f,m,o.fieldTransforms)}function Ew(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Tw(n,e.Fu(r?4:3,t))}function Tw(e,t){if(Aw(e=Ge(e)))return Nw("Unsupported field value:",t,e),Cw(e,t);if(e instanceof sw)return function(e,t){if(!dw(t.Vu))throw t.Ou("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Ou("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Cu&&4!==t.Vu)throw t.Ou("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=fe(e);try{for(a.s();!(n=a.n()).done;){var o=Tw(n.value,t.ku(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Ge(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Xf(t.O,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=wl.fromDate(e);return{timestampValue:ad(t.O,n)}}if(e instanceof wl){var r=new wl(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:ad(t.O,r)}}if(e instanceof cw)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof uw)return{bytesValue:od(t.O,e._byteString)};if(e instanceof Vk){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.Ou("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:cd(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Ou("Unsupported field value: ".concat(Pk(e)))}(e,t)}function Cw(e,t){var n={};return Sl(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):xl(e,(function(e,r){var i=Tw(r,t.Du(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Aw(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof wl||e instanceof cw||e instanceof uw||e instanceof Vk||e instanceof sw)}function Nw(e,t,n){if(!Aw(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=Pk(n);throw"an object"===r?t.Ou(e+" a custom object"):t.Ou(e+" "+r)}}function Dw(e,t,n){if((t=Ge(t))instanceof ow)return t._internalPath;if("string"==typeof t)return Rw(e,t);throw Pw("Field path arguments must be of type string or ",e,!1,void 0,n)}var Ow=new RegExp("[~\\*/\\[\\]]");function Rw(e,t,n){if(t.search(Ow)>=0)throw Pw("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return me(ow,ve(t.split(".")))._internalPath}catch(r){throw Pw("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Pw(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new il(rl.INVALID_ARGUMENT,u+e+s)}function Lw(e,t){return e.some((function(e){return e.isEqual(t)}))}var Mw=function(){function e(t,n,r,i,a){he(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return pe(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new Vk(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new Fw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(Uw("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),Fw=function(e){oe(n,e);var t=le(n);function n(){return he(this,n),t.apply(this,arguments)}return pe(n,[{key:"data",value:function(){return re(te(n.prototype),"data",this).call(this)}}]),n}(Mw);function Uw(e,t){return"string"==typeof t?Rw(e,t):t instanceof ow?t._internalPath:t._delegate._internalPath}var jw=function(){function e(t,n){he(this,e),this.hasPendingWrites=t,this.fromCache=n}return pe(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),Vw=function(e){oe(n,e);var t=le(n);function n(e,r,i,a,o,u){var s;return he(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return pe(n,[{key:"exists",value:function(){return re(te(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new Bw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(Uw("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(Mw),Bw=function(e){oe(n,e);var t=le(n);function n(){return he(this,n),t.apply(this,arguments)}return pe(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return re(te(n.prototype),"data",this).call(this,e)}}]),n}(Vw),qw=function(){function e(t,n,r,i){he(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new jw(i.hasPendingWrites,i.fromCache),this.query=r}return pe(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new Bw(n._firestore,n._userDataWriter,r.key,r,new jw(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new il(rl.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new Bw(e._firestore,e._userDataWriter,t.doc.key,t.doc,new jw(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new Bw(e._firestore,e._userDataWriter,t.doc.key,t.doc,new jw(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:zw(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function zw(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return el()}}function Ww(e,t){return e instanceof Vw&&t instanceof Vw?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof qw&&t instanceof qw&&e._firestore===t._firestore&&Hk(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function Gw(e){if(Mf(e)&&0===e.explicitOrderBy.length)throw new il(rl.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Hw=pe((function e(){he(this,e)}));function Kw(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var Yw=function(e){oe(n,e);var t=le(n);function n(e,r,i){var a;return he(this,n),(a=t.call(this)).Uu=e,a.qu=r,a.Ku=i,a.type="where",a}return pe(n,[{key:"_apply",value:function(e){var t=yw(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new il(rl.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){ab(o,a);var s,c=[],l=fe(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(ib(r,e,f))}}catch(d){l.e(d)}finally{l.f()}u={arrayValue:{values:c}}}else u=ib(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||ab(o,a),u=Ew(n,"where",o,"in"===a||"not-in"===a);var h=gf.create(i,a,u);return function(e,t){if(t.S()){var n=Uf(e);if(null!==n&&!n.isEqual(t.field))throw new il(rl.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=Ff(e);null!==r&&ob(e,t.field,r)}var i=function(e,t){var n,r=fe(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new il(rl.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new il(rl.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.Uu,this.qu,this.Ku);return new Bk(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new Of(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(Hw);var Qw=function(e){oe(n,e);var t=le(n);function n(e,r){var i;return he(this,n),(i=t.call(this)).Uu=e,i.Gu=r,i.type="orderBy",i}return pe(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new il(rl.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new il(rl.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Cf(t,n);return function(e,t){if(null===Ff(e)){var n=Uf(e);null!==n&&ob(e,n,t.field)}}(e,r),r}(e._query,this.Uu,this.Gu);return new Bk(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Of(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(Hw);var Jw=function(e){oe(n,e);var t=le(n);function n(e,r,i){var a;return he(this,n),(a=t.call(this)).type=e,a.ju=r,a.Qu=i,a}return pe(n,[{key:"_apply",value:function(e){return new Bk(e.firestore,e.converter,qf(e._query,this.ju,this.Qu))}}]),n}(Hw);var Xw=function(e){oe(n,e);var t=le(n);function n(e,r,i){var a;return he(this,n),(a=t.call(this)).type=e,a.Wu=r,a.zu=i,a}return pe(n,[{key:"_apply",value:function(e){var t=rb(e,this.type,this.Wu,this.zu);return new Bk(e.firestore,e.converter,function(e,t){return new Of(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(Hw);function Zw(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Xw("startAt",t,!0)}function $w(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Xw("startAfter",t,!1)}var eb=function(e){oe(n,e);var t=le(n);function n(e,r,i){var a;return he(this,n),(a=t.call(this)).type=e,a.Wu=r,a.zu=i,a}return pe(n,[{key:"_apply",value:function(e){var t=rb(e,this.type,this.Wu,this.zu);return new Bk(e.firestore,e.converter,function(e,t){return new Of(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(Hw);function tb(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new eb("endBefore",t,!1)}function nb(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new eb("endAt",t,!0)}function rb(e,t,n,r){if(n[0]=Ge(n[0]),n[0]instanceof Mw)return function(e,t,n,r,i){if(!r)throw new il(rl.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=fe(Vf(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(Zl(t,r.key));else{var c=r.data.field(s.field);if(Ll(c))throw new il(rl.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new il(rl.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new Tf(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=yw(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new il(rl.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new il(rl.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!jf(e)&&-1!==c.indexOf("/"))throw new il(rl.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(El.fromString(c));if(!zl.isDocumentKey(l))throw new il(rl.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new zl(l);u.push(Zl(t,f))}else{var h=Ew(n,r,c);u.push(h)}}return new Tf(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function ib(e,t,n){if("string"==typeof(n=Ge(n))){if(""===n)throw new il(rl.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!jf(t)&&-1!==n.indexOf("/"))throw new il(rl.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(El.fromString(n));if(!zl.isDocumentKey(r))throw new il(rl.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Zl(e,new zl(r))}if(n instanceof Vk)return Zl(e,n._key);throw new il(rl.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Pk(n),"."))}function ab(e,t){if(!Array.isArray(e)||0===e.length)throw new il(rl.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new il(rl.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function ob(e,t,n){if(!n.isEqual(t))throw new il(rl.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var ub=function(){function e(){he(this,e)}return pe(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Gl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Rl(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Pl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw el()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return xl(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new cw(Rl(e.latitude),Rl(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Ml(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Fl(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Ol(e);return new wl(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=El.fromString(e);tl(Rd(n));var r=new jl(n.get(1),n.get(3)),i=new zl(n.popFirst(5));return r.isEqual(t)||Xc("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function sb(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var cb=function(e){oe(n,e);var t=le(n);function n(e){var r;return he(this,n),(r=t.call(this)).firestore=e,r}return pe(n,[{key:"convertBytes",value:function(e){return new uw(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Vk(this.firestore,null,t)}}]),n}(ub),lb=function(){function e(t,n){he(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=yw(t)}return pe(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=fb(e,this._firestore),i=sb(r.converter,t,n),a=mw(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,hh.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=fb(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Ge(t))||t instanceof ow?Iw(this._dataReader,"WriteBatch.update",i._key,t,n,o):Sw(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,hh.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=fb(e,this._firestore);return this._mutations=this._mutations.concat(new Th(t._key,hh.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new il(rl.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function fb(e,t){if((e=Ge(e)).firestore!==t)throw new il(rl.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var hb=function(e){oe(n,e);var t=le(n);function n(e){var r;return he(this,n),(r=t.call(this)).firestore=e,r}return pe(n,[{key:"convertBytes",value:function(e){return new uw(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Vk(this.firestore,null,t)}}]),n}(ub);function db(e){e=Lk(e,Vk);var t=Lk(e.firestore,Jk),n=Zk(t),r=new hb(t);return function(e,t){var n=new al;return e.asyncQueue.enqueueAndForget(Z(ee().mark((function r(){return ee().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Z(ee().mark((function e(t,n,r){var i,a;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=nl(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.Us.ys(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new il(rl.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=Fm(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,_k(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new Vw(t,r,e._key,n,new jw(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function pb(e){e=Lk(e,Bk);var t=Lk(e.firestore,Jk),n=Zk(t),r=new hb(t);return Gw(e._query),Ck(n,e._query).then((function(n){return new qw(t,r,e,n)}))}function vb(e){e=Lk(e,Bk);var t=Lk(e.firestore,Jk),n=Zk(t),r=new hb(t);return function(e,t){var n=new al;return e.asyncQueue.enqueueAndForget(Z(ee().mark((function r(){return ee().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Z(ee().mark((function e(t,n,r){var i,a,o,u,s;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,iy(t,n,!0);case 3:i=e.sent,a=new rg(n,i.Ks),o=a.Ic(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=Fm(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,_k(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new qw(t,r,e,n)}))}function yb(e,t,n){e=Lk(e,Vk);var r=Lk(e.firestore,Jk),i=sb(e.converter,t,n);return bb(r,[mw(yw(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,hh.none())])}function mb(e,t,n){e=Lk(e,Vk);for(var r=Lk(e.firestore,Jk),i=yw(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return bb(r,[("string"==typeof(t=Ge(t))||t instanceof ow?Iw(i,"updateDoc",e._key,t,n,o):Sw(i,"updateDoc",e._key,t)).toMutation(e._key,hh.exists(!0))])}function gb(e){return bb(Lk(e.firestore,Jk),[new Th(e._key,hh.none())])}function kb(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=Ge(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||Yk(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(Yk(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof Vk)l=Lk(e.firestore,Jk),f=Pf(e._key.path),c={next:function(t){n[s]&&n[s](_b(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=Lk(e,Bk);l=Lk(p.firestore,Jk),f=p._query;var v=new hb(l);c={next:function(e){n[s]&&n[s](new qw(l,v,p,e))},error:n[s+1],complete:n[s+2]},Gw(e._query)}return function(e,t,n,r){var i=new sk(r),a=new Jm(t,i,n);return e.asyncQueue.enqueueAndForget(Z(ee().mark((function t(){return ee().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=zm,t.next=3,Ik(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Jc(),e.asyncQueue.enqueueAndForget(Z(ee().mark((function t(){return ee().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Gm,t.next=3,Ik(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(Zk(l),f,h,c)}function wb(e,t){return function(e,t){var n=new sk(t);return e.asyncQueue.enqueueAndForget(Z(ee().mark((function t(){return ee().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){nl(e).Zo.add(t),t.next()},t.next=3,Ik(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Jc(),e.asyncQueue.enqueueAndForget(Z(ee().mark((function t(){return ee().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){nl(e).Zo.delete(t)},t.next=3,Ik(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(Zk(e=Lk(e,Jk)),Yk(t)?t:{next:t})}function bb(e,t){return function(e,t){var n=new al;return e.asyncQueue.enqueueAndForget(Z(ee().mark((function r(){return ee().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=dg,r.next=3,Sk(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(Zk(e),t)}function _b(e,t,n){var r=n.docs.get(t._key),i=new hb(e);return new Vw(e,i,t._key,r,new jw(n.hasPendingWrites,n.fromCache),t.converter)}var xb,Sb=function(e){oe(n,e);var t=le(n);function n(e,r){var i;return he(this,n),(i=t.call(this,e,r))._firestore=e,i}return pe(n,[{key:"get",value:function(e){var t=this,r=fb(e,this._firestore),i=new hb(this._firestore);return re(te(n.prototype),"get",this).call(this,e).then((function(e){return new Vw(t._firestore,i,r._key,e._document,new jw(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){he(this,e),this._firestore=t,this._transaction=n,this._dataReader=yw(t)}return pe(e,[{key:"get",value:function(e){var t=this,n=fb(e,this._firestore),r=new cb(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return el();var i=e[0];if(i.isFoundDocument())return new Mw(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new Mw(t._firestore,r,n._key,null,n.converter);throw el()}))}},{key:"set",value:function(e,t,n){var r=fb(e,this._firestore),i=sb(r.converter,t,n),a=mw(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=fb(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Ge(t))||t instanceof ow?Iw(this._dataReader,"Transaction.update",i._key,t,n,o):Sw(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=fb(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function Ib(e,t){return function(e,t){var n=new al;return e.asyncQueue.enqueueAndForget(Z(ee().mark((function r(){var i;return ee().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,function(e){return kk(e).then((function(e){return e.datastore}))}(e);case 2:i=r.sent,new fk(e.asyncQueue,i,t,n).run();case 4:case"end":return r.stop()}}),r)})))),n.promise}(Zk(e=Lk(e,Jk)),(function(n){return t(new Sb(e,n))}))}function Eb(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new bw("arrayUnion",t)}function Tb(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new _w("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Kc=e}(St),yt(new He("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new Jk(i,new cl(e.getProvider("auth-internal")),new dl(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),Nt(Gc,"3.4.5",e),Nt(Gc,"3.4.5","esm2017")}();var Cb=new Uint8Array(16);function Ab(){if(!xb&&!(xb="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return xb(Cb)}var Nb=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var Db=function(e){return"string"===typeof e&&Nb.test(e)},Ob=[],Rb=0;Rb<256;++Rb)Ob.push((Rb+256).toString(16).substr(1));var Pb=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(Ob[e[t+0]]+Ob[e[t+1]]+Ob[e[t+2]]+Ob[e[t+3]]+"-"+Ob[e[t+4]]+Ob[e[t+5]]+"-"+Ob[e[t+6]]+Ob[e[t+7]]+"-"+Ob[e[t+8]]+Ob[e[t+9]]+"-"+Ob[e[t+10]]+Ob[e[t+11]]+Ob[e[t+12]]+Ob[e[t+13]]+Ob[e[t+14]]+Ob[e[t+15]]).toLowerCase();if(!Db(n))throw TypeError("Stringified UUID is invalid");return n};var Lb=function(e,t,n){var r=(e=e||{}).random||(e.rng||Ab)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return Pb(r)},Mb="firebasestorage.googleapis.com",Fb=function(e){oe(n,e);var t=le(n);function n(e,r){var i;return he(this,n),(i=t.call(this,Ub(e),"Firebase Storage: ".concat(r," (").concat(Ub(e),")"))).customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(ie(i),n.prototype),i}return pe(n,[{key:"_codeEquals",value:function(e){return Ub(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}(Oe);function Ub(e){return"storage/"+e}function jb(){return new Fb("unknown","An unknown error occurred, please check the error payload for server response.")}function Vb(){return new Fb("canceled","User canceled the upload/download.")}function Bb(){return new Fb("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function qb(e){return new Fb("invalid-argument",e)}function zb(){return new Fb("app-deleted","The Firebase app was deleted.")}function Wb(e,t){return new Fb("invalid-format","String does not match format '"+e+"': "+t)}function Gb(e){throw new Fb("internal-error","Internal error: "+e)}var Hb,Kb=function(){function e(t,n){he(this,e),this.bucket=t,this.path_=n}return pe(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(i){return new e(t,"")}if(""===r.path)return r;throw new Fb("invalid-default-bucket","Invalid default bucket '"+t+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var a=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var u=n.replace(/[.]/g,"\\."),s=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(u,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(n===Mb?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}],c=0;c<s.length;c++){var l=s[c],f=l.regex.exec(t);if(f){var h=f[l.indices.bucket],d=f[l.indices.path];d||(d=""),r=new e(h,d),l.postModify(r);break}}if(null==r)throw function(e){return new Fb("invalid-url","Invalid URL '"+e+"'.")}(t);return r}}]),e}(),Yb=function(){function e(t){he(this,e),this.promise_=Promise.reject(t)}return pe(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function Qb(e){return"string"===typeof e||e instanceof String}function Jb(e){return Xb()&&e instanceof Blob}function Xb(){return"undefined"!==typeof Blob}function Zb(e,t,n,r){if(r<t)throw qb("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw qb("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function $b(e,t,n){var r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function e_(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(Hb||(Hb={}));var t_=function(){function e(t,n,r,i,a,o,u,s,c,l,f){var h=this;he(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=u,this.errorCallback_=s,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){h.resolve_=e,h.reject_=t,h.start_()}))}return pe(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var o=e.callback_(a,a.getResponse());!function(e){return void 0!==e}(o)?r():r(o)}catch(s){i(s)}else if(null!==a){var u=jb();u.serverResponse=a.getErrorText(),e.errorCallback_?i(e.errorCallback_(a,u)):i(u)}else{if(n.canceled)i(e.appDelete_?zb():Vb());else i(new Fb("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}};this.canceled_?t(0,new n_(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,a=null,o=!1,u=0;function s(){return 2===u}var c=!1;function l(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function f(t){i=setTimeout((function(){i=null,e(d,s())}),t)}function h(){a&&clearTimeout(a)}function d(e){if(c)h();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void l.call.apply(l,[null,e].concat(n));var a;if(s()||o)return h(),void l.call.apply(l,[null,e].concat(n));r<64&&(r*=2),1===u?(u=2,a=0):a=1e3*(r+Math.random()),f(a)}}var p=!1;function v(e){p||(p=!0,h(),c||(null!==i?(e||(u=2),clearTimeout(i),f(0)):e||(u=1)))}return f(0),a=setTimeout((function(){o=!0,v(!0)}),n),v}((function(t,n){if(n)t(!1,new n_(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===Hb.NO_ERROR,a=r.getStatus();if(n&&!e.isRetryStatusCode_(a)){var o=-1!==e.successCodes_.indexOf(a);t(!0,new n_(o,r))}else{var u=r.getErrorCode()===Hb.ABORT;t(!1,new n_(!1,null,u))}}))}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}},{key:"isRetryStatusCode_",value:function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r}}]),e}(),n_=pe((function e(t,n,r){he(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}));function r_(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function i_(){for(var e=r_(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){for(var i=new e,a=0;a<n.length;a++)i.append(n[a]);return i.getBlob()}if(Xb())return new Blob(n);throw new Fb("unsupported-environment","This browser doesn't seem to support creating Blobs")}var a_="raw",o_="base64",u_="base64url",s_="data_url",c_=pe((function e(t,n){he(this,e),this.data=t,this.contentType=n||null}));function l_(e,t){switch(e){case a_:return new c_(f_(t));case o_:case u_:return new c_(h_(e,t));case s_:return new c_(function(e){var t=new d_(e);return t.base64?h_(o_,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(n){throw Wb(s_,"Malformed data URL.")}return f_(t)}(t.rest)}(t),new d_(t).contentType)}throw jb()}function f_(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function h_(e,t){switch(e){case o_:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw Wb(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case u_:var i=-1!==t.indexOf("+"),a=-1!==t.indexOf("/");if(i||a)throw Wb(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=atob(t)}catch(c){throw Wb(e,"Invalid character found")}for(var u=new Uint8Array(o.length),s=0;s<o.length;s++)u[s]=o.charCodeAt(s);return u}var d_=pe((function e(t){he(this,e),this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(null===n)throw Wb(s_,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;null!=r&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}));var p_=function(){function e(t,n){he(this,e);var r=0,i="";Jb(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return pe(e,[{key:"size",value:function(){return this.size_}},{key:"type",value:function(){return this.type_}},{key:"slice",value:function(t,n){if(Jb(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}var i=new Uint8Array(this.data_.buffer,t,n-t);return new e(i,!0)}},{key:"uploadData",value:function(){return this.data_}}],[{key:"getBlob",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(Xb()){var i=n.map((function(t){return t instanceof e?t.data_:t}));return new e(i_.apply(null,i))}var a=n.map((function(e){return Qb(e)?l_(a_,e).data:e.data_})),o=0;a.forEach((function(e){o+=e.byteLength}));var u=new Uint8Array(o),s=0;return a.forEach((function(e){for(var t=0;t<e.length;t++)u[s++]=e[t]})),new e(u,!0)}}]),e}();function v_(e){var t;try{t=JSON.parse(e)}catch(n){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function y_(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function m_(e,t){return t}var g_=pe((function e(t,n,r,i){he(this,e),this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||m_})),k_=null;function w_(){if(k_)return k_;var e=[];e.push(new g_("bucket")),e.push(new g_("generation")),e.push(new g_("metageneration")),e.push(new g_("name","fullPath",!0));var t=new g_("name");t.xform=function(e,t){return function(e){return!Qb(e)||e.length<2?e:y_(e)}(t)},e.push(t);var n=new g_("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new g_("timeCreated")),e.push(new g_("updated")),e.push(new g_("md5Hash",null,!0)),e.push(new g_("cacheControl",null,!0)),e.push(new g_("contentDisposition",null,!0)),e.push(new g_("contentEncoding",null,!0)),e.push(new g_("contentLanguage",null,!0)),e.push(new g_("contentType",null,!0)),e.push(new g_("metadata","customMetadata",!0)),k_=e}function b_(e,t,n){for(var r={type:"file"},i=n.length,a=0;a<i;a++){var o=n[a];r[o.local]=o.xform(r,t[o.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new Kb(n,r);return t._makeStorageReference(i)}})}(r,e),r}function __(e,t,n){var r=v_(t);return null===r?null:b_(e,r,n)}function x_(e,t){for(var n={},r=t.length,i=0;i<r;i++){var a=t[i];a.writable&&(n[a.server]=e[a.local])}return JSON.stringify(n)}var S_=pe((function e(t,n,r,i){he(this,e),this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}));function I_(e){if(!e)throw jb()}function E_(e,t){return function(n,r){var i=__(e,r,t);return I_(null!==i),i}}function T_(e,t){return function(n,r){var i=__(e,r,t);return I_(null!==i),function(e,t,n,r){var i=v_(t);if(null===i)return null;if(!Qb(i.downloadTokens))return null;var a=i.downloadTokens;if(0===a.length)return null;var o=encodeURIComponent;return a.split(",").map((function(t){var i=e.bucket,a=e.fullPath;return $b("/b/"+o(i)+"/o/"+o(a),n,r)+e_({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function C_(e){return function(t,n){var r,i,a;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new Fb("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new Fb("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(a=e.bucket,r=new Fb("quota-exceeded","Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new Fb("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function A_(e){var t=C_(e);return function(n,r){var i,a=t(n,r);return 404===n.getStatus()&&(i=e.path,a=new Fb("object-not-found","Object '"+i+"' does not exist.")),a.serverResponse=r.serverResponse,a}}function N_(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function D_(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};var u=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+u;var s=N_(t,r,i),c="--"+u+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+x_(s,n)+"\r\n--"+u+"\r\nContent-Type: "+s.contentType+"\r\n\r\n",l="\r\n--"+u+"--",f=p_.getBlob(c,r,l);if(null===f)throw Bb();var h={name:s.fullPath},d=$b(a,e.host,e._protocol),p=e.maxUploadRetryTime,v=new S_(d,"POST",E_(e,n),p);return v.urlParams=h,v.headers=o,v.body=f.uploadData(),v.errorHandler=C_(t),v}var O_=function(){function e(){var t=this;he(this,e),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Hb.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=Hb.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=Hb.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return pe(e,[{key:"send",value:function(e,t,n,r){if(this.sent_)throw Gb("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw Gb("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw Gb("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}},{key:"getResponse",value:function(){if(!this.sent_)throw Gb("cannot .getResponse() before sending");return this.xhr_.response}},{key:"getErrorText",value:function(){if(!this.sent_)throw Gb("cannot .getErrorText() before sending");return this.xhr_.statusText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(e){return this.xhr_.getResponseHeader(e)}},{key:"addUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}},{key:"removeUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}]),e}(),R_=function(e){oe(n,e);var t=le(n);function n(){return he(this,n),t.apply(this,arguments)}return pe(n,[{key:"initXhr",value:function(){this.xhr_.responseType="text"}}]),n}(O_);function P_(){return new R_}var L_=function(){function e(t,n){he(this,e),this._service=t,this._location=n instanceof Kb?n:Kb.makeFromUrl(n,t.host)}return pe(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new Kb(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return y_(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new Kb(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw function(e){return new Fb("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}]),e}();function M_(e,t,n){e._throwIfRoot("uploadBytes");var r=D_(e.storage,e._location,w_(),new p_(t,!0),n);return e.storage.makeRequestWithTokens(r,P_).then((function(t){return{metadata:t,ref:e}}))}function F_(e){e._throwIfRoot("getDownloadURL");var t=function(e,t,n){var r=$b(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new S_(r,"GET",T_(e,n),i);return a.errorHandler=A_(t),a}(e.storage,e._location,w_());return e.storage.makeRequestWithTokens(t,P_).then((function(e){if(null===e)throw new Fb("no-download-url","The given file does not have any download URLs.");return e}))}function U_(e){e._throwIfRoot("deleteObject");var t=function(e,t){var n=$b(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new S_(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=A_(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,P_)}function j_(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new Kb(e._location.bucket,n);return new L_(e.storage,r)}function V_(e,t){if(e instanceof z_){var n=e;if(null==n._bucket)throw new Fb("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new L_(n,n._bucket);return null!=t?V_(r,t):r}return void 0!==t?j_(e,t):e}function B_(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof z_)return new L_(e,t);throw qb("To use ref(service, url), the first argument must be a Storage instance.")}return V_(e,t)}function q_(e,t){var n=null===t||void 0===t?void 0:t.storageBucket;return null==n?null:Kb.makeFromBucketSpec(n,e)}var z_=function(){function e(t,n,r,i,a){he(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=Mb,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?Kb.makeFromBucketSpec(i,this._host):q_(this._host,this.app.options)}return pe(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=Kb.makeFromBucketSpec(this._url,e):this._bucket=q_(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){Zb("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){Zb("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=Z(ee().mark((function e(){var t,n;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=Z(ee().mark((function e(){var t,n;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new L_(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this;if(this._deleted)return new Yb(zb());var a=function(e,t,n,r,i,a){var o=e_(e.urlParams),u=e.url+o,s=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(s,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(s,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(s,a),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(s,r),new t_(u,e.method,s,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}(e,this._appId,n,r,t,this._firebaseVersion);return this._requests.add(a),a.getPromise().then((function(){return i._requests.delete(a)}),(function(){return i._requests.delete(a)})),a}},{key:"makeRequestWithTokens",value:function(){var e=Z(ee().mark((function e(t,n){var r,i,a,o;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,i=s(r,2),a=i[0],o=i[1],e.abrupt("return",this._makeRequest(t,n,a,o).getPromise());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),W_="@firebase/storage",G_="0.9.2",H_="storage";function K_(e,t,n){return M_(e=Ge(e),t,n)}function Y_(e){return F_(e=Ge(e))}function Q_(e){return U_(e=Ge(e))}function J_(e,t){return B_(e=Ge(e),t)}function X_(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et(),t=arguments.length>1?arguments[1]:void 0,n=mt(e=Ge(e),H_),r=n.getImmediate({identifier:t});return r}function Z_(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new z_(r,i,a,n,St)}yt(new He(H_,Z_,"PUBLIC").setMultipleInstances(!0)),Nt(W_,G_,""),Nt(W_,G_,"esm2017");var $_,ex=r(426),tx=r.n(ex),nx=r(155),rx=r.n(nx),ix="undefined"!==typeof Blob&&function(){try{return Boolean(new Blob)}catch(e){return!1}}(),ax=ix&&"undefined"!==typeof Uint8Array&&function(){try{return 100===new Blob([new Uint8Array(100)]).size}catch(e){return!1}}(),ox="undefined"!==typeof HTMLCanvasElement&&HTMLCanvasElement.prototype.toBlob,ux=ox||"undefined"!==typeof Uint8Array&&"undefined"!==typeof ArrayBuffer&&"undefined"!==typeof atob,sx="undefined"!==typeof FileReader||"undefined"!==typeof URL,cx="undefined"!==typeof HTMLCanvasElement,lx=pe((function e(){var t=this;he(this,e),this.isSupportedByBrowser=function(){return cx&&ux&&sx},this.resize=function(e,n){return new Promise((function(r){if(!t.browserSupport||!e.type.match(/image.*/))return r(e);if(e.type.match(/image\/gif/))return r(e);var i=document.createElement("img");return i.onload=function(){var a=i.width,o=i.height;if(a>=o&&a>n.width)o*=n.width/a,a=n.width;else{if(!(o>n.height))return r(e);a*=n.height/o,o=n.height}rx().getData(i,(function(){var n=rx().getTag(i,"Orientation"),u=t.drawImageToCanvas(i,n,0,0,a,o,"contain");ox?u.toBlob((function(e){return r(e)}),e.type):r(t.toBlob(u,e.type))}))},t.loadImage(i,e),!0}))},this.crop=function(e,n){return new Promise((function(r){if(!t.browserSupport||!e.type.match(/image.*/))return r(e);if(e.type.match(/image\/gif/))return r(e);var i=document.createElement("img");return i.onload=function(){if(n.width>i.width&&n.height>i.height)return r(e);var a=Math.min(n.width,i.width),o=Math.min(n.height,i.height);if(i.width>2*n.width||i.height>2*n.height)return t.resize(e,{width:2*n.width,height:2*n.height}).then((function(e){t.crop(e,{width:a,height:o}).then(r)}));rx().getData(i,(function(){var n=rx().getTag(i,"Orientation"),u=t.drawImageToCanvas(i,n,0,0,a,o,"crop");ox?u.toBlob((function(e){return r(e)}),e.type):r(t.toBlob(u,e.type))}))},t.loadImage(i,e),!0}))},this.drawImageToCanvas=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:e.width,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e.height,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"contain",u=document.createElement("canvas"),s=u.getContext("2d");switch(u.width=i,u.height=a,s.save(),Number(t)){case 1:default:break;case 2:s.translate(i,0),s.scale(-1,1);break;case 3:s.translate(i,a),s.rotate(1*Math.PI);break;case 4:s.translate(0,a),s.scale(1,-1);break;case 5:u.width=a,u.height=i,s.rotate(.5*Math.PI),s.scale(1,-1);break;case 6:u.width=a,u.height=i,s.rotate(.5*Math.PI),s.translate(0,-a);break;case 7:u.width=a,u.height=i,s.rotate(1.5*Math.PI),s.translate(-i,a),s.scale(1,-1);break;case 8:u.width=a,u.height=i,s.translate(0,i),s.rotate(1.5*Math.PI)}return"crop"===o?s.drawImage(e,e.width/2-i/2,e.height/2-a/2,i,a,0,0,i,a):s.drawImage(e,n,r,i,a),s.restore(),u},this.toBlob=function(e,t){var n,r=e.toDataURL(t).split(",");n=r[0].indexOf("base64")>=0?atob(r[1]):decodeURIComponent(r[1]);for(var i=new ArrayBuffer(n.length),a=new Uint8Array(i),o=0;o<n.length;o+=1)a[o]=n.charCodeAt(o);var u=r[0].split(":")[1].split(";")[0],s=null;if(ix)s=new Blob([ax?a:i],{type:u});else{var c=new(window.WebKitBlobBuilder||window.MozBlobBuilder);c.append(i),s=c.getBlob(u)}return s},this.loadImage=function(e,t){if("undefined"===typeof URL){var n=new FileReader;n.onload=function(t){e.src=t.target.result},n.readAsDataURL(t)}else e.src=URL.createObjectURL(t)},this.browserSupport=this.isSupportedByBrowser()})),fx=function(){function e(t,n){var r=this;he(this,e),this._delegate=t,this.firebase=n,pt(t,new He("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return pe(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Ct(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:lt;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:lt;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){pt(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){vt(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),hx=(ye($_={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),ye($_,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),$_),dx=new Re("app-compat","Firebase",hx);var px=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=It(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Me(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:Nt,setLogLevel:Ot,onLog:Dt,apps:null,SDK_VERSION:St,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(yt(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw dx.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&xe(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Me(n,e=e||lt))throw dx.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(fx);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){xe(n,e)},createSubscribe:qe,ErrorFactory:Re,deepExtend:xe}),n}(),vx=new at("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){vx.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var yx=self.firebase.SDK_VERSION;yx&&yx.indexOf("LITE")>=0&&vx.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var mx=px;!function(e){Nt("@firebase/app-compat","0.1.18",e)}();mx.registerVersion("firebase","9.6.7","app-compat");var gx=function(){var e=Z(ee().mark((function e(t){var n,r,i,a,o,u,s,c;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n=Xk(),!(r=t.target.imageToUpload.files[0])){e.next=16;break}return i=new lx,a=i.resize(r,{width:768,height:432}),o=Lb(),u=X_(),s=J_(u,o),c="Jebel Sifah"===t.target.location.value?"jebelSifah":"havanaSalalah",e.t0=K_,e.t1=s,e.next=14,a;case 14:e.t2=e.sent,(0,e.t0)(e.t1,e.t2).then((function(e){console.log("Image Uploaded Successfully!"),Y_(J_(u,o)).then((function(e){yb(Wk(n,c,o),bx(t,e,o)),console.log("Data Saved Successfully"),wx(t)})).catch((function(e){console.log("Error in uploading image: ",e)}))}));case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),kx=function(){var e=Z(ee().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),r=mx.firestore(),i=null===(n=t.target.imageToUpload)||void 0===n?void 0:n.files[0],a=t.target.imageToUpload.dataset.src,o=t.target.imageToUpload.dataset.id,u="Jebel Sifah"===t.target.location.value?"jebelSifah":"havanaSalalah",!i){e.next=18;break}return s=new lx,c=s.resize(i,{width:768,height:432}),l=Lb(),f=X_(),h=J_(f,l),e.t0=K_,e.t1=h,e.next=16,c;case 16:e.t2=e.sent,(0,e.t0)(e.t1,e.t2).then((function(e){console.log("Image Uploaded Successfully!"),Y_(J_(f,l)).then((function(e){bx(t,e,l),r.collection(u).doc(o).update(bx(t,e,l)),console.log("Data Saved Successfully"),wx(t)})).catch((function(e){console.log("Error in uploading image: ",e)}))}));case 18:i||(r.collection(u).doc(o).update(bx(t,a,o)),console.log("Data Updated Successfully"),wx(t));case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),wx=function(e){e.target.name.value="",e.target.venue.value="",e.target.startDate.value="",e.target.startTime.value="",e.target.endTime.value="",e.target.phone.value="",e.target.description.value="",e.target.imageToUpload.value="",e.target.booking.value=""},bx=function(e,t,n){return{name:e.target.name.value,location:{location:e.target.location.value,venue:e.target.venue.value,latitude:"Jebel Sifah"===e.target.location.value?"23.4117":"17.0334",longitude:"Jebel Sifah"===e.target.location.value?"58.7875":"54.3003"},eventStart:{time:e.target.startTime.value,date:tx()(e.target.startDate.value).format("ll")},eventEnd:{time:e.target.endTime.value,date:""},phone:e.target.phone.value,description:e.target.description.value,image:t,id:n,booking:e.target.booking.value}};Nt("firebase","9.6.7","app");function _x(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new il("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function xx(){if("undefined"===typeof Uint8Array)throw new il("unimplemented","Uint8Arrays are not available in this environment.")}function Sx(){if("undefined"==typeof atob)throw new il("unimplemented","Blobs are unavailable in Firestore in this environment.")}var Ix=function(){function e(t){he(this,e),this._delegate=t}return pe(e,[{key:"toBase64",value:function(){return Sx(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return xx(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return Sx(),new e(uw.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return xx(),new e(uw.fromUint8Array(t))}}]),e}();function Ex(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=fe(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var Tx=function(){function e(){he(this,e)}return pe(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){aw(e=Lk(e,Jk));var n=Zk(e),r=e._freezeSettings(),i=new ok;return ew(n,i,new ik(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){aw(e=Lk(e,Jk));var t=Zk(e),n=e._freezeSettings(),r=new ok;return ew(t,r,new ak(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new il(rl.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new al;return e._queue.enqueueAndForgetEvenWhileRestricted(Z(ee().mark((function n(){return ee().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=Z(ee().mark((function e(t){var n;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(fp.Vt()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,fp.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(Bv(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),Cx=function(){function e(t,n,r){var i=this;he(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof jl||(this._appCompat=t)}return pe(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Zc("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};jk(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return tw(this._delegate)}},{key:"disableNetwork",value:function(){return nw(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&Dk("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new al;return e.asyncQueue.enqueueAndForget(Z(ee().mark((function n(){return ee().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=Sg,n.next=3,Sk(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(Zk(e=Lk(e,Jk)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return wb(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new il("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new qx(this,zk(this._delegate,e))}catch(t){throw Px(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new Rx(this,Wk(this._delegate,e))}catch(t){throw Px(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new jx(this,function(e,t){if(e=Lk(e,Uk),Nk("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new il(rl.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new Bk(e,null,function(e){return new Of(El.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw Px(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return Ib(this._delegate,(function(n){return e(new Nx(t,n))}))}},{key:"batch",value:function(){var e=this;return Zk(this._delegate),new Dx(new lb(this._delegate,(function(t){return bb(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return rw(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return iw(this._delegate,e).then((function(e){return e?new jx(t,e):null}))}}]),e}(),Ax=function(e){oe(n,e);var t=le(n);function n(e){var r;return he(this,n),(r=t.call(this)).firestore=e,r}return pe(n,[{key:"convertBytes",value:function(e){return new Ix(new uw(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return Rx.forKey(t,this.firestore,null)}}]),n}(ub);var Nx=function(){function e(t,n){he(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new Ax(t)}return pe(e,[{key:"get",value:function(e){var t=this,n=zx(e);return this._delegate.get(n).then((function(e){return new Fx(t._firestore,new Vw(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=zx(e);return n?(_x("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=zx(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=zx(e);return this._delegate.delete(t),this}}]),e}(),Dx=function(){function e(t){he(this,e),this._delegate=t}return pe(e,[{key:"set",value:function(e,t,n){var r=zx(e);return n?(_x("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=zx(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=zx(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),Ox=function(){function e(t,n,r){he(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return pe(e,[{key:"fromFirestore",value:function(e,t){var n=new Bw(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Ux(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new Ax(t),n),i.set(n,a)),a}}]),e}();Ox.INSTANCES=new WeakMap;var Rx=function(){function e(t,n){he(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new Ax(t)}return pe(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new qx(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new qx(this.firestore,zk(this._delegate,e))}catch(t){throw Px(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=Ge(e))instanceof Vk&&Gk(this._delegate,e)}},{key:"set",value:function(e,t){t=_x("DocumentReference.set",t);try{return t?yb(this._delegate,e,t):yb(this._delegate,e)}catch(n){throw Px(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?mb(this._delegate,e):mb.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw Px(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return gb(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=Lx(n),a=Mx(n,(function(t){return new Fx(e.firestore,new Vw(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return kb(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?db(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=Lk(e,Vk);var t=Lk(e.firestore,Jk);return Tk(Zk(t),e._key,{source:"server"}).then((function(n){return _b(t,e,n)}))}(this._delegate):function(e){e=Lk(e,Vk);var t=Lk(e.firestore,Jk);return Tk(Zk(t),e._key).then((function(n){return _b(t,e,n)}))}(this._delegate),t.then((function(e){return new Fx(n.firestore,new Vw(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(Ox.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new il("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new Vk(n._delegate,r,new zl(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new Vk(n._delegate,r,t))}}]),e}();function Px(e,t,n){return e.message=e.message.replace(t,n),e}function Lx(e){var t,n=fe(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!Ex(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function Mx(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=Ex(e[0])?e[0]:Ex(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Fx=function(){function e(t,n){he(this,e),this._firestore=t,this._delegate=n}return pe(e,[{key:"ref",get:function(){return new Rx(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return Ww(this._delegate,e._delegate)}}]),e}(),Ux=function(e){oe(n,e);var t=le(n);function n(){return he(this,n),t.apply(this,arguments)}return pe(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||el()}(void 0!==t),t}}]),n}(Fx),jx=function(){function e(t,n){he(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new Ax(t)}return pe(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,Kw(this._delegate,function(e,t,n){var r=t,i=Uw("where",e);return new Yw(i,r,n)}(t,n,r)))}catch(i){throw Px(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,Kw(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=Uw("orderBy",e);return new Qw(n,t)}(t,n)))}catch(r){throw Px(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,Kw(this._delegate,function(e){return Mk("limit",e),new Jw("limit",e,"F")}(t)))}catch(n){throw Px(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,Kw(this._delegate,function(e){return Mk("limitToLast",e),new Jw("limitToLast",e,"L")}(t)))}catch(n){throw Px(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,Kw(this._delegate,Zw.apply(void 0,arguments)))}catch(t){throw Px(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,Kw(this._delegate,$w.apply(void 0,arguments)))}catch(t){throw Px(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,Kw(this._delegate,tb.apply(void 0,arguments)))}catch(t){throw Px(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,Kw(this._delegate,nb.apply(void 0,arguments)))}catch(t){throw Px(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return Hk(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?vb(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=Lk(e,Bk);var t=Lk(e.firestore,Jk),n=Zk(t),r=new hb(t);return Ck(n,e._query,{source:"server"}).then((function(n){return new qw(t,r,e,n)}))}(this._delegate):pb(this._delegate),t.then((function(e){return new Bx(n.firestore,new qw(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=Lx(n),a=Mx(n,(function(t){return new Bx(e.firestore,new qw(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return kb(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(Ox.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),Vx=function(){function e(t,n){he(this,e),this._firestore=t,this._delegate=n}return pe(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new Ux(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),Bx=function(){function e(t,n){he(this,e),this._firestore=t,this._delegate=n}return pe(e,[{key:"query",get:function(){return new jx(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new Ux(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new Vx(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new Ux(n._firestore,r))}))}},{key:"isEqual",value:function(e){return Ww(this._delegate,e._delegate)}}]),e}(),qx=function(e){oe(n,e);var t=le(n);function n(e,r){var i;return he(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return pe(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new Rx(this.firestore,e):null}},{key:"doc",value:function(e){try{return new Rx(this.firestore,void 0===e?Wk(this._delegate):Wk(this._delegate,e))}catch(t){throw Px(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=Lk(e.firestore,Jk),r=Wk(e),i=sb(e.converter,t);return bb(n,[mw(yw(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,hh.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new Rx(t.firestore,e)}))}},{key:"isEqual",value:function(e){return Gk(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(Ox.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(jx);function zx(e){return Lk(e,Vk)}var Wx,Gx=function(){function e(){he(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=me(ow,n)}return pe(e,[{key:"isEqual",value:function(e){return(e=Ge(e))instanceof ow&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(Cl.keyField().canonicalString())}}]),e}(),Hx=function(){function e(t){he(this,e),this._delegate=t}return pe(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new ww("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new gw("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=Eb.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=Tb.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new xw("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),Kx={Firestore:Cx,GeoPoint:cw,Timestamp:wl,Blob:Ix,Transaction:Nx,WriteBatch:Dx,DocumentReference:Rx,DocumentSnapshot:Fx,Query:jx,QueryDocumentSnapshot:Ux,QuerySnapshot:Bx,CollectionReference:qx,FieldPath:Gx,FieldValue:Hx,setLogLevel:function(e){!function(e){Yc.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};(function(e,t){e.INTERNAL.registerComponent(new He("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},Kx)))})(Wx=mx,(function(e,t){return new Cx(e,t,new Tx)})),Wx.registerVersion("@firebase/firestore-compat","0.1.14");var Yx={apiKey:"AIzaSyC5f-eF_2m50yOcOC8fIwqLUFdmo6lmTew",authDomain:"jebel-sifah-live-d2001.firebaseapp.com",projectId:"jebel-sifah-live-d2001",storageBucket:"jebel-sifah-live-d2001.appspot.com",messagingSenderId:"1050010857245",appId:"1:1050010857245:web:a55d9c2a4b26cede723bf4",measurementId:"G-2MH7TXJXT9"};It(Yx);function Qx(){It.length||It(Yx)}mx.initializeApp(Yx),Qx();var Jx=Xk(),Xx=function(){var e=Z(ee().mark((function e(t){var n;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],e.next=3,pb(zk(Jx,t));case 3:return e.sent.forEach((function(e){e.data().id=e.id,n.push(e.data())})),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Zx=function(){var e=Z(ee().mark((function e(t,n){var r;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=[],e.next=3,pb(zk(Jx,t));case 3:return e.sent.forEach((function(e){e.data().id=e.id,e.data().id===n&&r.push(e.data())})),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),$x=function(){var e=Z(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window&&t[0]&&(window.document.querySelector('input[name="name"]').value=t[0].name||"",window.document.querySelector('select[name="location"]').value=t[0].location.location||"",window.document.querySelector('select[name="location"]').disabled=!0,window.document.querySelector('input[name="startDate"]').value=new Date(t[0].eventStart.date).toISOString().substring(0,10)||new Date,window.document.querySelector('input[name="startTime"]').value=t[0].eventStart.time||"",window.document.querySelector('input[name="endTime"]').value=t[0].eventEnd.time||"",window.document.querySelector('input[name="phone"]').value=t[0].phone||"",window.document.querySelector('input[name="booking"]').value=t[0].booking||"",window.document.querySelector("#description").value=t[0].description||"",window.document.querySelector("#imageToUpload").dataset.src=t[0].image||"",window.document.querySelector("#imageToUpload").dataset.id=t[0].id||"",window.document.querySelector('input[name="venue"]').value=t[0].location.venue||"");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),eS=r(184);var tS=function(){var e=function(){var e=C().search;return(0,i.useMemo)((function(){return new URLSearchParams(e)}),[e])}(),t="",n="",r=function(){var e=Z(ee().mark((function e(n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}return e.next=3,kx(n);case 3:e.next=7;break;case 5:return e.next=7,gx(n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a=function(){var e=Z(ee().mark((function e(){var r;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Zx(n,t);case 2:r=e.sent,$x(r);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,i.useEffect)((function(){e.get("id")&&(t=e.get("id"),n=e.get("type"),a())}),[]),(0,eS.jsx)("div",{className:"wrapper",children:(0,eS.jsx)("div",{className:"eventDetails",children:(0,eS.jsxs)("form",{id:"eventDetailsForm",onSubmit:r,children:[(0,eS.jsx)("h1",{className:"pageTitle",children:"Event Details"}),(0,eS.jsxs)("div",{className:"sectionDetail",children:[(0,eS.jsx)("label",{className:"fieldTitle",children:"Title: "}),(0,eS.jsx)("input",{name:"name",className:"inputField",type:"text"})]}),(0,eS.jsxs)("div",{className:"sectionDetail",children:[(0,eS.jsx)("label",{className:"fieldTitle",children:"Location: "}),(0,eS.jsxs)("select",{className:"inputField dateTime",name:"location",children:[(0,eS.jsx)("option",{value:"Jebel Sifah",children:"Jebel Sifah"}),(0,eS.jsx)("option",{value:"Havana Salalah",children:"Havana Salalah"})]})]}),(0,eS.jsxs)("div",{className:"sectionDetail",children:[(0,eS.jsx)("label",{className:"fieldTitle",children:"Venue: "}),(0,eS.jsx)("input",{name:"venue",className:"inputField",type:"text"})]}),(0,eS.jsxs)("div",{className:"sectionDetail",children:[(0,eS.jsx)("label",{className:"fieldTitle",children:"Start Time: "}),(0,eS.jsx)("input",{name:"startTime",className:"inputField dateTime",type:"time"})]}),(0,eS.jsxs)("div",{className:"sectionDetail",children:[(0,eS.jsx)("label",{className:"fieldTitle",children:"End Time: "}),(0,eS.jsx)("input",{name:"endTime",className:"inputField dateTime",type:"time"})]}),(0,eS.jsxs)("div",{className:"sectionDetail",children:[(0,eS.jsx)("label",{className:"fieldTitle",children:"Date: "}),(0,eS.jsx)("input",{name:"startDate",className:"inputField dateTime",type:"date"})]}),(0,eS.jsxs)("div",{className:"sectionDetail",children:[(0,eS.jsx)("label",{className:"fieldTitle",children:"Phone: "}),(0,eS.jsx)("input",{name:"phone",className:"inputField",type:"text"})]}),(0,eS.jsxs)("div",{className:"sectionDetail",children:[(0,eS.jsx)("label",{className:"fieldTitle",children:"Booking URL: "}),(0,eS.jsx)("input",{name:"booking",className:"inputField",type:"text"})]}),(0,eS.jsxs)("div",{className:"sectionDetail",children:[(0,eS.jsx)("label",{className:"fieldTitle",children:"Description: "}),(0,eS.jsx)("textarea",{className:"inputField descriptionField",name:"description",id:"description",rows:5,cols:60})]}),(0,eS.jsxs)("div",{className:"sectionDetail",children:[(0,eS.jsx)("label",{className:"fieldTitle",children:"Image: "}),(0,eS.jsx)("input",{name:"imageToUpload",id:"imageToUpload",className:"fileUpload",type:"file"})]}),(0,eS.jsx)("button",{className:"btn",type:"submit",value:"Submit",children:"Save"})]})})})};Qx();var nS=Xk(),rS=function(){var e=Z(ee().mark((function e(t,n){var r;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,gb(Wk(nS,n,t));case 3:r=X_(),Q_(J_(r,t)).then((function(){window.location.reload()})).catch((function(e){console.log(e)})),console.log("Event Deleted"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}();var iS=function(e){var t=function(){var e=Z(ee().mark((function e(t){var n;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.dataset.type,e.t0=n,e.next="Jebel Sifah"===e.t0?4:"Havana Salalah"===e.t0?6:8;break;case 4:return rS(t.target.dataset.id,"jebelSifah"),e.abrupt("break",9);case 6:return rS(t.target.dataset.id,"havanaSalalah"),e.abrupt("break",9);case 8:console.log("Wrong event type");case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n=A(),r=function(e){n({pathname:"/add-event",search:"?".concat(J({id:e.target.dataset.id,type:e.target.dataset.type}))})};return(0,eS.jsx)(eS.Fragment,{children:e.eventList.map((function(e){var n,a,o,u,s,c,l;return(0,eS.jsxs)("div",{className:"eventDetails",children:[(0,eS.jsx)("div",{className:"eventImage",children:(0,eS.jsx)(i.Suspense,{fallback:null,children:(0,eS.jsx)("img",{src:null===e||void 0===e?void 0:e.image,alt:"event"})})}),(0,eS.jsxs)("div",{className:"eventText",children:[(0,eS.jsxs)("div",{className:"itemText",children:[(0,eS.jsxs)("p",{className:"detailTitle",children:[" ",(0,eS.jsx)("strong",{children:"Title:"})]}),(0,eS.jsx)("p",{className:"detailText",children:null===e||void 0===e?void 0:e.name})]}),(0,eS.jsxs)("div",{className:"itemText",children:[(0,eS.jsxs)("p",{className:"detailTitle",children:[" ",(0,eS.jsx)("strong",{children:"Location:"})]}),(0,eS.jsx)("p",{className:"detailText",children:null===e||void 0===e||null===(n=e.location)||void 0===n?void 0:n.location})]}),(0,eS.jsxs)("div",{className:"itemText",children:[(0,eS.jsxs)("p",{className:"detailTitle",children:[" ",(0,eS.jsx)("strong",{children:"Venue:"})]}),(0,eS.jsxs)("p",{className:"detailText",children:[" ",null===e||void 0===e||null===(a=e.location)||void 0===a?void 0:a.venue]})]}),(0,eS.jsxs)("div",{className:"itemText",children:[(0,eS.jsxs)("p",{className:"detailTitle",children:[" ",(0,eS.jsx)("strong",{children:"Phone:"})]}),(0,eS.jsx)("p",{className:"detailText",children:null===e||void 0===e?void 0:e.phone})]}),(0,eS.jsxs)("div",{className:"itemText",children:[(0,eS.jsxs)("p",{className:"detailTitle",children:[" ",(0,eS.jsx)("strong",{children:"Date:"})]}),(0,eS.jsx)("p",{className:"detailText",children:null===e||void 0===e||null===(o=e.eventStart)||void 0===o?void 0:o.date})]}),(0,eS.jsxs)("div",{className:"itemText",children:[(0,eS.jsxs)("p",{className:"detailTitle",children:[" ",(0,eS.jsx)("strong",{children:"Start Time:"})]}),(0,eS.jsx)("p",{className:"detailText",children:null===e||void 0===e||null===(u=e.eventStart)||void 0===u?void 0:u.time})]}),(0,eS.jsxs)("div",{className:"itemText",children:[(0,eS.jsxs)("p",{className:"detailTitle",children:[" ",(0,eS.jsx)("strong",{children:"End Time:"})]}),(0,eS.jsx)("p",{className:"detailText",children:null===e||void 0===e||null===(s=e.eventEnd)||void 0===s?void 0:s.time})]}),(0,eS.jsxs)("div",{className:"itemText",children:[(0,eS.jsxs)("p",{className:"detailTitle",children:[" ",(0,eS.jsx)("strong",{children:"Booking:"})]}),(0,eS.jsx)("p",{className:"detailText",children:null===e||void 0===e?void 0:e.booking})]}),(0,eS.jsx)("div",{className:"itemText",children:(0,eS.jsxs)("p",{className:"detailTitle",children:[" ",(0,eS.jsx)("strong",{children:"Description:"})]})}),(0,eS.jsx)("p",{className:"descriptionText",children:null===e||void 0===e?void 0:e.description})]}),(0,eS.jsxs)("div",{className:"actionButtons",children:[(0,eS.jsx)("button",{onClick:t,"data-id":null===e||void 0===e?void 0:e.id,"data-type":null===e||void 0===e||null===(c=e.location)||void 0===c?void 0:c.location,className:"btn",children:"Delete"}),(0,eS.jsx)("button",{onClick:r,"data-id":null===e||void 0===e?void 0:e.id,"data-type":"Jebel Sifah"===(null===e||void 0===e||null===(l=e.location)||void 0===l?void 0:l.location)?"jebelSifah":"havanaSalalah",className:"btn",children:"Edit"})]})]},e.id)}))})},aS=r(763),oS=r(82);var uS=function(){return(0,eS.jsx)("div",{className:"loader",children:(0,eS.jsx)("img",{src:oS,alt:"loader"})})};var sS=function(){var e=s((0,i.useState)([{}]),2),t=e[0],n=e[1],r=s((0,i.useState)([{}]),2),a=r[0],o=r[1];return(0,i.useEffect)((function(){function e(){return e=Z(ee().mark((function e(){var t,r;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xx("jebelSifah");case 2:return t=e.sent,e.next=5,Xx("havanaSalalah");case 5:r=e.sent,n(t),o(r);case 8:case"end":return e.stop()}}),e)}))),e.apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),(0,eS.jsxs)("div",{className:"content",children:[(0,eS.jsxs)("div",{className:"jebelSifah",children:[(0,eS.jsx)("h1",{className:"title",children:"Jebel Sifah Events"}),(0,eS.jsx)("div",{className:"events",children:(0,aS.isEmpty)(t[0])?(0,eS.jsx)(uS,{}):(0,eS.jsx)(iS,{eventList:t})})]}),(0,eS.jsxs)("div",{className:"havanaSalalah",children:[(0,eS.jsx)("h1",{className:"title",children:"Havana Salalah Events"}),(0,eS.jsx)("div",{className:"events",children:(0,aS.isEmpty)(a[0])?(0,eS.jsx)(uS,{}):(0,eS.jsx)(iS,{eventList:a})})]})]})};var cS=function(){Qx();var e=new Nr,t=A(),n=Ca(),r=function(){var r=Z(ee().mark((function r(){var i,a;return ee().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Li(n,e);case 3:if(i=r.sent,a=i.user){r.next=7;break}throw new Error("The was an issue authorizing");case 7:if("events.jebelsifah@gmail.com"!==a.email){r.next=11;break}return window.sessionStorage.setItem("userDisplayName","".concat(a.displayName)),window.sessionStorage.setItem("isUserLoggedIn","true"),r.abrupt("return",t("/"));case 11:r.next=16;break;case 13:r.prev=13,r.t0=r.catch(0),console.log("Something went wrong");case 16:case"end":return r.stop()}}),r,null,[[0,13]])})));return function(){return r.apply(this,arguments)}}();return(0,eS.jsxs)("div",{className:"login",children:[(0,eS.jsx)("h1",{className:"title",children:"Jebel Sifah Live Login"}),(0,eS.jsx)("button",{className:"btn",onClick:function(){return r()},children:"Authenticate"})]})},lS=r(949);var fS=function(){var e=s(i.useState(Na()),2),t=(e[0],e[1]),n=C(),r=function(){var e=Z(ee().mark((function e(){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Da();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),a=function(){var e=Z(ee().mark((function e(){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(Na());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,i.useEffect)((function(){a()}),[n.pathname]),(0,eS.jsxs)("div",{className:"home",children:[(0,eS.jsxs)("nav",{className:"header",children:[(0,eS.jsx)("div",{className:"logo",children:(0,eS.jsxs)(Q,{className:"link",to:"/",children:[" ",(0,eS.jsx)("img",{src:lS,alt:"logo"})]})}),(0,eS.jsxs)("div",{className:"navLinks",children:[(0,eS.jsx)(Q,{className:"link",to:"/",onClick:function(){return a()},children:"Events"}),(0,eS.jsx)(Q,{className:"link",to:"/add-event",onClick:function(){return a()},children:"Add Event"}),(0,eS.jsx)(Q,{className:"link",to:"/login",onClick:function(){return r()},children:"Logout"})]})]}),(0,eS.jsxs)(I,{children:[(0,eS.jsx)(x,{path:"/",element:Na()?(0,eS.jsx)(sS,{}):(0,eS.jsx)(_,{to:"/login"})}),(0,eS.jsx)(x,{path:"/add-event",element:Na()?(0,eS.jsx)(tS,{}):(0,eS.jsx)(_,{to:"/login"})}),(0,eS.jsx)(x,{path:"/login",element:(0,eS.jsx)(cS,{})})]}),(0,eS.jsx)("footer",{className:"footer",children:(0,eS.jsx)("p",{children:"Jebel Sifah Live | Admin"})})]})};var hS=function(){return(0,eS.jsx)("div",{className:"app",children:(0,eS.jsx)(Y,{children:(0,eS.jsx)(fS,{})})})},dS=function(e){e&&e instanceof Function&&r.e(787).then(r.bind(r,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))};a.render((0,eS.jsx)(i.StrictMode,{children:(0,eS.jsx)(hS,{})}),document.getElementById("root")),dS()}()}();
//# sourceMappingURL=main.1414f5ec.js.map